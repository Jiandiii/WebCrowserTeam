(function(){var c0x=NEJ.P,bb1x=NEJ.O,fC2x=NEJ.R,a0x=c0x("nej.e"),h0x=c0x("nej.v"),P0x=c0x("nej.ut"),FC3x;if(!!P0x.biL9C)return;P0x.biL9C=NEJ.C();FC3x=P0x.biL9C.N0x(P0x.cP1x);FC3x.cz1x=function(){this.lp4t={onchange:this.gs2x.f0x(this),ondragend:this.gs2x.eL2x(this,!0)};this.cD1x()};FC3x.bo1x=function(e0x){this.bp1x(e0x);this.lp4t.view=a0x.A0x(e0x.track);this.lp4t.body=a0x.A0x(e0x.slide);this.lp4t.mbar=this.lp4t.view;this.xN1x(e0x.range);this.bY1x([[this.lp4t.view,"mousedown",this.csY3x.f0x(this)]]);this.jw3x=P0x.wW1x.B0x(this.lp4t)};FC3x.bD1x=function(){this.bH1x();this.jw3x.V0x();delete this.jw3x;delete this.it3x;delete this.lp4t.view;delete this.lp4t.body;delete this.lp4t.mbar};FC3x.gs2x=function(d0x,gm2x){var bCw6q=d0x.left/this.it3x.x[1],bCu6o=d0x.top/this.it3x.y[1],bCt6n=this.it3x.x,bCs6m=this.it3x.y;this.z0x("onchange",{stopped:!!gm2x,x:{rate:bCw6q,value:bCw6q*(bCt6n[1]-bCt6n[0])},y:{rate:bCu6o,value:bCu6o*(bCs6m[1]-bCs6m[0])}})};FC3x.csY3x=function(d0x){var bn1x=a0x.iA3x(this.lp4t.view),bCr6l={x:h0x.kf4j(d0x),y:h0x.mH5M(d0x)},dz2x={x:Math.floor(this.lp4t.body.offsetWidth/2),y:Math.floor(this.lp4t.body.offsetHeight/2)};this.jw3x.hb3x({top:bCr6l.y-bn1x.y-dz2x.y,left:bCr6l.x-bn1x.x-dz2x.x})};FC3x.xN1x=function(dn1x){var tJ0x;if(!!this.it3x){var oJ5O=this.jw3x.blo0x();tJ0x={x:oJ5O.left/this.it3x.x[1],y:oJ5O.top/this.it3x.y[1]}}dn1x=dn1x||bb1x;var cbo0x=(dn1x.x||fC2x)[1]||this.lp4t.view.clientWidth-this.lp4t.body.offsetWidth,cDj5o=(dn1x.y||fC2x)[1]||this.lp4t.view.clientHeight-this.lp4t.body.offsetHeight;this.it3x={x:dn1x.x||[0,cbo0x],y:dn1x.y||[0,cDj5o]};if(!!tJ0x)this.hb3x(tJ0x);return this};FC3x.hb3x=function(tJ0x){tJ0x=tJ0x||bb1x;this.jw3x.hb3x({top:this.it3x.y[1]*(tJ0x.y||0),left:this.it3x.x[1]*(tJ0x.x||0)})}})();
(function(){var P0x=NEJ.P("nej.ut"),bCp6j;if(!!P0x.KD5I)return;P0x.KD5I=NEJ.C();bCp6j=P0x.KD5I.N0x(P0x.biL9C);bCp6j.cz1x=function(){this.cD1x();this.lp4t.direction=2}})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),h0x=c0x("nej.v"),P0x=c0x("nej.p"),bG1x=c0x("nej.ui"),ci1x=c0x("nej.ut"),y0x=c0x("nm.w"),b0x,L0x;y0x.Cq2x=NEJ.C();b0x=y0x.Cq2x.N0x(bG1x.es2x);L0x=y0x.Cq2x.ct1x;b0x.cz1x=function(){this.cD1x()};b0x.bo1x=function(e0x){this.bp1x(e0x);this.o0x=a0x.A0x(e0x.content);this.mS5X=a0x.A0x(e0x.slide);this.jH4L=a0x.A0x(e0x.track);this.bCS6M=e0x.speed;this.bAp5u=this.o0x.scrollHeight-this.o0x.clientHeight;a0x.bc1x(this.mS5X,"height",(this.o0x.clientHeight/this.o0x.scrollHeight*parseInt(a0x.dk1x(this.jH4L,"height"))||0)+"px");if(this.o0x.scrollHeight<=this.o0x.clientHeight)a0x.bc1x(this.mS5X,"display","none");else a0x.bc1x(this.mS5X,"display","block");this.xK1x=ci1x.KD5I.B0x({slide:this.mS5X,track:this.jH4L,onchange:this.bAm5r.f0x(this)});if(P0x.dB2x.browser!="firefox")this.bY1x([[this.o0x,"mousewheel",this.II4M.f0x(this)]]);else{this.o0x.addEventListener("DOMMouseScroll",this.II4M.f0x(this),false)}};b0x.bD1x=function(){this.bH1x();this.xK1x.V0x();delete this.o0x;delete this.mS5X;delete this.jH4L;delete this.it3x;delete this.bCS6M};b0x.bAm5r=function(d0x){this.o0x.scrollTop=parseInt(this.bAp5u*d0x.y.rate)};b0x.II4M=function(d0x){h0x.co1x(d0x);this.bAp5u=this.o0x.scrollHeight-this.o0x.clientHeight;var dz2x=0,Lj5o,cj1x,gw3x;cj1x=parseInt(this.jH4L.clientHeight)-parseInt(a0x.dk1x(this.mS5X,"height"));dz2x=d0x.wheelDelta?d0x.wheelDelta/120:-d0x.detail/3;Lj5o=parseInt(a0x.dk1x(this.mS5X,"top"))-dz2x*this.bCS6M;if(Lj5o<0)Lj5o=0;if(Lj5o>cj1x)Lj5o=cj1x;a0x.bc1x(this.mS5X,"top",Lj5o+"px");gw3x=parseInt(a0x.dk1x(this.mS5X,"top"));this.xK1x.z0x("onchange",{y:{rate:gw3x/cj1x}})};b0x.rs6m=function(){this.bAp5u=this.o0x.scrollHeight-this.o0x.clientHeight;this.xK1x.hb3x({x:0,y:0});a0x.bc1x(this.mS5X,"height",this.o0x.clientHeight/this.o0x.scrollHeight*parseInt(this.jH4L.clientHeight)+"px");this.xK1x.xN1x({x:[],y:[0,this.jH4L.clientHeight-parseInt(a0x.dk1x(this.mS5X,"height"))]});if(this.o0x.scrollHeight<=this.o0x.clientHeight)a0x.bc1x(this.mS5X,"display","none");else a0x.bc1x(this.mS5X,"display","block")};b0x.hb3x=function(dO2x){this.xK1x.hb3x(dO2x)};b0x.Ll5q=function(bAg5l){var cxa4e=parseInt(a0x.dk1x(this.mS5X,"height"));var cyt4x=parseInt(a0x.dk1x(this.jH4L,"height"));var yQ2x=cyt4x-cxa4e;var gw3x=parseInt(yQ2x*bAg5l)+"px";a0x.bc1x(this.mS5X,"top",gw3x)};b0x.bCY6S=function(){if(this.o0x.scrollHeight<=this.o0x.clientHeight)return;var bAg5l=this.o0x.scrollTop/(this.o0x.scrollHeight-this.o0x.clientHeight);this.Ll5q(bAg5l)};b0x.cRP8H=function(){if(this.xK1x)this.xK1x.xN1x()}})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),u0x=c0x("nej.j"),bb1x=c0x("nej.o"),j0x=c0x("nej.u"),h0x=c0x("nej.v"),bG1x=c0x("nej.ui"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),b0x,L0x;n0x.bIC7v=NEJ.C();b0x=n0x.bIC7v.N0x(n0x.ee2x,!0);b0x.cz1x=function(){this.cD1x()};b0x.bV1x=function(){this.ch1x();var k0x=a0x.D0x(this.o0x,"j-flag");this.JW4a=k0x[0];this.btq2x=k0x[1];this.bkc9T=k0x[2];h0x.s0x(k0x[3],"click",this.bts2x.f0x(this))};b0x.cd1x=function(){this.cc1x="ntp-alert"};b0x.bo1x=function(e0x){e0x.parent=e0x.parent||document.body;this.bp1x(e0x);a0x.bc1x(this.JW4a,"display","");if(e0x.type=="noicon"){a0x.bc1x(this.JW4a,"display","none")}else if(e0x.type=="success"){a0x.fk2x(this.JW4a,"u-icn-88","u-icn-89")}else{a0x.fk2x(this.JW4a,"u-icn-89","u-icn-88")}this.btq2x.innerHTML=e0x.mesg||"";if(e0x.mesg2){a0x.x0x(this.bkc9T,"f-hide");this.bkc9T.innerHTML=e0x.mesg2||""}else{a0x.w0x(this.bkc9T,"f-hide")}};b0x.bD1x=function(){this.bH1x()};b0x.bts2x=function(d0x){this.z0x("onnotice");this.br1x()};n0x.dV2x=function(e0x){if(this.zR2x){this.zR2x.V0x();delete this.zR2x}this.zR2x=n0x.bIC7v.B0x(e0x);this.zR2x.I0x()}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,h0x=c0x("nej.v"),j0x=c0x("nej.u"),H0x=c0x("nej.ut"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),J0x="RADIO_LATEST_MAP",b0x,L0x;p0x.fw2x({"radio_crt-list":{url:"/api/djradio/get/byuser",format:function(Q0x,e0x){var k0x=Q0x.djRadios;return{total:k0x.length||0,list:k0x}}},"radio_sub-list":{url:"/api/djradio/get/subed",format:function(Q0x,e0x){var k0x=Q0x.djRadios;e0x.data.time=Q0x.time;return{total:Q0x.count||0,list:k0x}}},"radio_sub-add":{url:"/api/djradio/subscribe/v1",filter:function(e0x){e0x.data={radioId:e0x.id};if(e0x.ext&&e0x.ext.data&&e0x.ext.data.token){e0x.data.token=e0x.ext.data.token}},format:function(Q0x,e0x){if(this.bDw6q("firstSub")){n0x.dV2x({title:"订阅成功",type:"noicon",mesg:"可以在“我的音乐-我的电台”收到节目更新"})}else{n0x.ba1x.I0x({tip:"订阅成功"})}var dI2x=this.eR2x(e0x.id)||e0x.ext.data;dI2x.subCount+=1;dI2x.subed=true;return dI2x},finaly:function(d0x,e0x){h0x.z0x(p0x.pr6l,"listchange",d0x);h0x.z0x(p0x.pr6l,"itemchange",{attr:"subCount",data:d0x.data})},onmessage:function(cf1x){if(cf1x==315){n0x.ba1x.I0x({tip:"根据对方设置，你没有该操作权限",type:2})}else if(cf1x==250){n0x.ba1x.I0x({tip:"操作失败，账号存在异常",type:2})}}},"radio_sub-del":{url:"/api/djradio/unsub",filter:function(e0x){e0x.data={id:e0x.id}},format:function(Q0x,e0x){n0x.ba1x.I0x({tip:"取消订阅成功"});var dI2x=this.eR2x(e0x.id)||e0x.ext.data;dI2x.subCount-=1;dI2x.subed=false;return dI2x},finaly:function(d0x,e0x){h0x.z0x(p0x.pr6l,"listchange",d0x);h0x.z0x(p0x.pr6l,"itemchange",{attr:"subCount",data:d0x.data})}}});p0x.pr6l=NEJ.C();b0x=p0x.pr6l.N0x(p0x.hS3x);b0x.ciJ2x=function(df1x,bB1x){var bA1x=this.IZ4d(J0x,{});bA1x[df1x.radio.id]={id:df1x.id,name:df1x.name,time:bB1x||0};this.yn1x(J0x,bA1x)};b0x.ciA2x=function(E0x){return this.IZ4d(J0x,{})[E0x]};b0x.bDv6p=function(dI2x){var cC1x={key:"radio_sub",ext:{}};if(j0x.mk4o(dI2x)){cC1x.id=dI2x.id;cC1x.ext.data=dI2x}else{cC1x.id=dI2x}return cC1x};b0x.oa5f=function(dI2x){if(l0x.gV3x())this.jI4M(this.bDv6p(dI2x))};b0x.bDu6o=function(dI2x){l0x.hn3x({btnok:"确定",btncc:"取消",message:"确定取消订阅？",action:function(C0x){if(C0x=="ok"){this.OS6M(this.bDv6p(dI2x))}}.f0x(this)})};b0x.bDw6q=function(){var vw1x="RADIO_UPGRADE_TIP";return function(t0x){var i0x=this.IZ4d(vw1x,{});if(i0x[t0x]){return false}else{i0x[t0x]=true;this.yn1x(vw1x,i0x);return true}}}();H0x.fV2x.B0x({element:p0x.pr6l,event:["listchange","itemchange"]})})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,h0x=c0x("nej.v"),H0x=c0x("nej.ut"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),b0x;var QUEUE_KEY="track-queue";var PlayMode={SINGLE_CYCLE:2,LIST_LOOP:4,RANDOM:5};y0x.uP1x=NEJ.C();b0x=y0x.uP1x.N0x(H0x.cP1x);b0x.bo1x=function(e0x){this.bp1x(e0x);this.by1x=y0x.gn2x.fS2x();this.ka4e=[];this.BS2x=[];this.nI5N=l0x.bxP5U();this.fz2x=0;this.bY1x([[y0x.gn2x,"playaction",this.yp1x.f0x(this)]]);this.lg4k=p0x.hX3x.B0x();this.yA1x=p0x.pr6l.B0x();this.cfC1x()};b0x.bD1x=function(){this.bH1x();delete this.ka4e;delete this.BS2x;delete this.nI5N};b0x.bfi9Z=function(){u0x.zk2x(QUEUE_KEY,this.ka4e)};b0x.cfE1x=function(){var uL1x=[PlayMode.SINGLE_CYCLE,PlayMode.LIST_LOOP,PlayMode.RANDOM];return function(){var eO2x,r0x=j0x.ds2x(uL1x,this.nI5N.mode);eO2x=r0x<0?PlayMode.LIST_LOOP:uL1x[(r0x+1)%3];this.nI5N.mode=eO2x;if(this.Qg6a()){this.bwQ5V()}l0x.Iv4z(this.nI5N);return this.nI5N.mode}}();b0x.cfM1x=function(){return this.nI5N.mode};b0x.oF5K=l0x.Hh4l(function(){this.xU1x(this.bEw6q(+1),"ui")},800);b0x.Cr2x=l0x.Hh4l(function(){this.xU1x(this.bEw6q(-1),"ui")},800);b0x.ro6i=function(){return this.ka4e[this.fz2x]};b0x.cgc1x=function(js3x,xs1x,gr2x){if(!js3x||!js3x.length)return;var bA1x={},qA6u=js3x[0];if(!xs1x){j0x.bf1x(this.ka4e,function(bi1x){bA1x[bi1x.id]=bi1x});j0x.bf1x(js3x,function(bi1x){if(bA1x[bi1x.id]){if(qA6u.id==bi1x.id){qA6u=bA1x[bi1x.id]}}else{this.ka4e.push(bi1x)}},this)}else{this.ka4e=js3x}if(this.Qg6a()){this.bwQ5V()}if(gr2x){this.xU1x(j0x.ds2x(this.ka4e,qA6u));this.by1x.ez2x()}this.bfi9Z();h0x.z0x(y0x.uP1x,"queuechange",{cmd:gr2x?"play":"addto"})};b0x.mZ5e=function(nS5X){var r0x=j0x.ds2x(this.ka4e,function(bi1x){return bi1x.id==nS5X});if(r0x!=-1){var cgi1x=r0x==this.fz2x&&this.ka4e.length>1,cgk1x=r0x==this.ka4e.length-1,bi1x=this.ka4e[r0x];this.ka4e.splice(r0x,1);if(this.Qg6a()){this.BS2x.splice(j0x.ds2x(this.BS2x,bi1x),1)}if(cgi1x){if(cgk1x){this.xU1x(r0x-1)}else{this.xU1x(r0x)}}else if(r0x<this.fz2x){this.fz2x--}this.bfi9Z();h0x.z0x(y0x.uP1x,"queuechange",{cmd:"delete"})}};b0x.qO6I=function(){this.ka4e=[];this.BS2x=[];this.nI5N.index=this.fz2x=0;l0x.Iv4z(this.nI5N);this.bfi9Z();h0x.z0x(y0x.uP1x,"queuechange",{cmd:"clear"})};b0x.ro6i=function(){return this.ka4e[this.fz2x]};b0x.bEy6s=function(){return this.ka4e};b0x.ma4e=function(){return this.ka4e.length};b0x.bwM5R=function(E0x){var r0x=j0x.ds2x(this.ka4e,function(bi1x){return E0x==bi1x.id});if(r0x>=0){return this.ka4e[r0x]}};b0x.cgp1x=function(E0x){var r0x=j0x.ds2x(this.ka4e,function(bi1x){return E0x==bi1x.id});if(r0x>=0){this.xU1x(r0x);this.by1x.ez2x()}};b0x.cfC1x=function(){this.ka4e=u0x.wN1x(QUEUE_KEY)||[];this.fz2x=this.nI5N.index||0;if(this.ka4e.length&&this.Qg6a()){this.bwQ5V()}this.by1x.biR9I(this.ro6i(),true)};b0x.bEw6q=function(dz2x){if(this.Qg6a()){var gB3x=this.ro6i(),r0x=inRange(j0x.ds2x(this.BS2x,gB3x)+dz2x,this.BS2x.length);return j0x.ds2x(this.ka4e,this.BS2x[r0x])}else{return inRange(this.fz2x+dz2x,this.ka4e.length)}function inRange(r0x,bt1x){return r0x<0?bt1x-1:r0x>=bt1x?0:r0x}};b0x.bwQ5V=function(){var k0x=this.ka4e.slice(0);this.BS2x=[];while(k0x.length){var r0x=j0x.EH3x(0,k0x.length-1);this.BS2x.push(k0x[r0x]);k0x.splice(r0x,1)}};b0x.xU1x=function(r0x,t0x){if(!this.ka4e.length)return;var jn3x,od5i=this.ro6i(),bEz6t=this.by1x.biF9w();this.fz2x=r0x;this.nI5N.index=this.fz2x;jn3x=this.ka4e[this.fz2x];l0x.Iv4z(this.nI5N);h0x.z0x(y0x.uP1x,"playchange",{old:od5i,"new":jn3x,type:t0x});this.by1x.biR9I(this.ro6i());if(od5i&&bEz6t>3){this.lg4k.btQ3x(od5i.id,bEz6t,od5i.source,t0x||"interrupt")}if(jn3x&&jn3x.program)this.yA1x.ciJ2x(jn3x.program,0)};b0x.Qg6a=function(){return this.nI5N.mode==PlayMode.RANDOM};b0x.yp1x=function(d0x){if(d0x.action=="ended"){if(this.nI5N.mode==PlayMode.SINGLE_CYCLE){this.xU1x(this.fz2x,"playend")}else{this.oF5K()}}};H0x.fV2x.B0x({element:y0x.uP1x,event:["queuechange","playchange"]})})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dr2x=c0x("nej.p"),u0x=c0x("nej.j"),bd1x=c0x("nej.ui"),H0x=c0x("nej.ut"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),dW2x=c0x("nm.u"),y0x=c0x("nm.w"),M0x=c0x("nm.m.f"),b0x,L0x;M0x.bEA6u=NEJ.C();b0x=M0x.bEA6u.N0x(bd1x.es2x);b0x.cz1x=function(){this.cD1x();this.gM3x=y0x.uP1x.fS2x();h0x.s0x(y0x.uP1x,"queuechange",this.yK2x.f0x(this));h0x.s0x(y0x.uP1x,"playchange",this.hK3x.f0x(this))};b0x.cd1x=function(){this.cc1x="m-player-panel"};b0x.bV1x=function(){this.ch1x();var k0x=a0x.D0x(this.o0x,"j-flag");this.bfb9S=k0x[0];this.kJ4N=k0x[1];this.Qo6i=k0x[2];this.bN1x=k0x[3];this.Qp6j=k0x[4];this.jv3x=y0x.Cq2x.B0x({track:this.Qp6j,slide:a0x.dg1x(this.Qp6j)[0],content:this.bN1x,speed:4});this.cg1x={nask:k0x[5],nmenu:k0x[6],nlist:k0x[7],nscroll:k0x[8]};h0x.s0x(this.o0x,"click",this.bR1x.f0x(this));h0x.s0x(this.Qo6i,"load",this.qV6P.f0x(this))};b0x.bo1x=function(e0x){this.bp1x(e0x);this.qv6p=y0x.beY9P.B0x(this.cg1x);this.hK3x({"new":this.gM3x.ro6i()});this.jv3x.rs6m();var k0x=a0x.D0x(this.bN1x,"z-sel");if(k0x.length){var bn1x=a0x.iA3x(k0x[0],this.bN1x);this.bN1x.scrollTop=this.bN1x.scrollTop+(bn1x.y-(this.bN1x.scrollTop+112));this.jv3x.bCY6S()}};b0x.bD1x=function(){this.z0x("onclose");if(this.qv6p){this.qv6p.V0x();delete this.qv6p}this.bH1x()};b0x.yK2x=function(d0x){a0x.dA2x(this.bN1x,"m-player-queue",{queue:this.gM3x.bEy6s(),current:this.gM3x.ro6i()},{dur2time:l0x.lN4R,getArtistName:l0x.sO7H});this.bfb9S.innerText=this.gM3x.ma4e();if(d0x&&d0x.cmd=="delete")return;var k0x=a0x.D0x(this.bN1x,"z-sel");if(k0x.length){var bn1x=a0x.iA3x(k0x[0],this.bN1x);this.bN1x.scrollTop=Math.max(Math.min(bn1x.y,this.bN1x.scrollTop),bn1x.y-224);this.jv3x.bCY6S()}};b0x.bR1x=function(d0x){var g0x,E0x,bED6x;g0x=h0x.Z1x(d0x,"a:href");if(g0x&&g0x.tagName.toLocaleLowerCase()=="a"&&/^http/.test(g0x.href)){return}h0x.ux0x(d0x);g0x=h0x.Z1x(d0x,"d:action");E0x=a0x.v0x(g0x,"id");switch(a0x.v0x(g0x,"action")){case"likeall":var kL4P=this.gM3x.bEy6s();if(kL4P&&kL4P.length){var k0x=[];j0x.bf1x(kL4P,function(q0x){if(!q0x.program)k0x.push(q0x)});window.subscribe(k0x,!1);this.V0x()}break;case"delete":this.gM3x.mZ5e(E0x);h0x.bg1x(d0x);break;case"like":var bi1x=this.gM3x.bwM5R(E0x);window.subscribe(bi1x,false);h0x.bg1x(d0x);this.V0x();break;case"share":bi1x=this.gM3x.bwM5R(E0x);!bi1x.program?l0x.lD4H({rid:bi1x.id,type:18,purl:bi1x.album.picUrl,name:bi1x.name,author:l0x.Al2x(bi1x.artists)}):l0x.lD4H({rid:bi1x.program.id,type:17,purl:bi1x.program.coverUrl,name:bi1x.program.name,author:(bi1x.program.radio||[]).name});h0x.bg1x(d0x);this.V0x();break;case"download":bi1x=this.gM3x.bwM5R(E0x);if(bi1x.program){l0x.Ox6r({type:17,id:bi1x.program.id})}else{bED6x=l0x.qM6G(bi1x);if(bED6x==1e3){l0x.iK3x("因版权方要求，该歌曲不支持下载")}else{l0x.Ox6r({type:18,id:bi1x.id})}}this.V0x();break;case"play":this.gM3x.cgp1x(E0x);break;case"clear":this.gM3x.qO6I();break;case"close":this.V0x();break}};b0x.hK3x=function(d0x){var IW4a=d0x["new"];if(IW4a){this.qv6p&&this.qv6p.chQ1x(IW4a);if(IW4a.program){this.Qo6i.src=IW4a.program.blurCoverUrl;this.kJ4N.innerText=IW4a.program.name}else{var bwD5I,NC5H;j0x.bf1x(["pic_str","pic","picId_str","picId","picStr"],function(J0x){var q0x=(IW4a.album||{})[J0x];if(j0x.fU2x(q0x)){bwD5I=bwD5I||q0x}else{NC5H=NC5H||q0x}});this.Qo6i.src="//music.163.com/api/img/blur/"+(bwD5I||NC5H);this.kJ4N.innerText=IW4a.name}}this.yK2x()};b0x.qV6P=function(d0x){var cj1x=this.Qo6i.clientHeight,cie1x=this.bN1x.parentNode.clientHeight;a0x.bc1x(this.Qo6i,"top",(cie1x-cj1x)/2+"px")}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,P0x=c0x("nej.ut"),b0x;if(!!P0x.bAc5h)return;P0x.bAc5h=NEJ.C();b0x=P0x.bAc5h.N0x(P0x.cP1x);b0x.bo1x=function(e0x){this.bp1x(e0x);this.bcy0x=e0x.to||bb1x;this.Tx7q=e0x.from||{};this.cwP4T=Math.max(0,parseInt(e0x.delay)||0)};b0x.bD1x=function(){this.bH1x();this.bg1x();if(!!this.Tz7s){window.clearTimeout(this.Tz7s);delete this.Tz7s}delete this.bcy0x;delete this.Tx7q};b0x.bJJ7C=function(bB1x){if(!this.Tx7q)return;if((""+bB1x).indexOf(".")>=0)bB1x=+(new Date);if(this.bJH7A(bB1x)){this.bg1x();return}this.dJ2x=requestAnimationFrame(this.bJJ7C.f0x(this))};b0x.bJH7A=bs1x;b0x.ez2x=function(){var cwF4J=function(){this.Tz7s=window.clearTimeout(this.Tz7s);this.Tx7q.time=+(new Date);this.dJ2x=requestAnimationFrame(this.bJJ7C.f0x(this))};return function(){this.Tz7s=window.setTimeout(cwF4J.f0x(this),this.cwP4T);return this}}();b0x.bg1x=function(){this.dJ2x=cancelRequestAnimationFrame(this.dJ2x);this.z0x("onstop");return this}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,j0x=c0x("nej.u"),P0x=c0x("nej.ut"),b0x,L0x;if(!!P0x.HB4F)return;P0x.HB4F=NEJ.C();b0x=P0x.HB4F.N0x(P0x.bAc5h);L0x=P0x.HB4F.ct1x;b0x.bo1x=function(e0x){this.bp1x(e0x);this.bcw0x=e0x.duration||200;this.cwE4I=1/(200*this.bcw0x);this.cwD4H(e0x.timing);this.cwz4D()};b0x.bD1x=function(){this.bH1x();delete this.NL5Q;delete this.bAw5B};b0x.cwD4H=function(){var hj3x=/^cubic\-bezier\((.*?)\)$/i,kG4K=/\s*,\s*/i,bJD7w={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var cvY4c=function(C0x,r0x,k0x){k0x[r0x]=parseFloat(C0x)};return function(bcq0x){bcq0x=(bcq0x||"").toLowerCase();this.NL5Q=bJD7w[bcq0x];if(hj3x.test(bcq0x)){this.NL5Q=RegExp.$1.split(kG4K);j0x.bf1x(this.NL5Q,cvY4c)}if(!!this.NL5Q)return;this.NL5Q=bJD7w.ease}}();b0x.cwz4D=function(){var NM5R=this.NL5Q,bAC5H=3*NM5R[0],bJB7u=3*(NM5R[2]-NM5R[0])-bAC5H,cvU4Y=1-bAC5H-bJB7u,bAG5L=3*NM5R[1],bJA7t=3*(NM5R[3]-NM5R[1])-bAG5L,cvM4Q=1-bAG5L-bJA7t;this.bAw5B={ax:cvU4Y,ay:cvM4Q,bx:bJB7u,by:bJA7t,cx:bAC5H,cy:bAG5L}};b0x.cvI4M=function(){var bJz7s=function(bB1x,rt6n){return((rt6n.ax*bB1x+rt6n.bx)*bB1x+rt6n.cx)*bB1x};var cvD4H=function(bB1x,rt6n){return((rt6n.ay*bB1x+rt6n.by)*bB1x+rt6n.cy)*bB1x};var cvw4A=function(bB1x,rt6n){return(3*rt6n.ax*bB1x+2*rt6n.bx)*bB1x+rt6n.cx};var cvl4p=function(bB1x,bJv7o,rt6n){var t0,t1,t2,x2,d2,i;for(t2=bB1x,i=0;i<8;i++){x2=bJz7s(t2,rt6n)-bB1x;if(Math.abs(x2)<bJv7o)return t2;d2=cvw4A(t2,rt6n);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=bB1x;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=bJz7s(t2,rt6n);if(Math.abs(x2-bB1x)<bJv7o)return t2;if(bB1x>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2};return function(dz2x){return cvD4H(cvl4p(dz2x/this.bcw0x,this.cwE4I,this.bAw5B),this.bAw5B)}}();b0x.bJH7A=function(bB1x){var dz2x=bB1x-this.Tx7q.time,zL2x=this.cvI4M(dz2x),bn1x=j0x.LC5H(this.Tx7q.offset*(1-zL2x)+this.bcy0x.offset*zL2x,2),nV5a=!1;if(dz2x>=this.bcw0x){bn1x=this.bcy0x.offset;nV5a=!0}this.z0x("onupdate",{offset:bn1x});return nV5a};b0x.bg1x=function(){this.z0x("onupdate",{offset:this.bcy0x.offset});L0x.bg1x.apply(this,arguments);return this}})();
(function(){var c0x=NEJ.P,P0x=c0x("nej.ut"),b0x;if(!!P0x.GE4I)return;P0x.GE4I=NEJ.C();b0x=P0x.GE4I.N0x(P0x.HB4F);b0x.bo1x=function(e0x){e0x=NEJ.X({},e0x);e0x.timing="easein";this.bp1x(e0x)}})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),h0x=c0x("nej.v"),P0x=c0x("nej.ut"),zm2x;P0x.KB5G=NEJ.C();zm2x=P0x.KB5G.N0x(P0x.cP1x);zm2x.bo1x=function(e0x){this.bp1x(e0x);this.cuO4S=!!e0x.reset;this.Rg6a=parseInt(e0x.delta)||0;this.jH4L=a0x.A0x(e0x.track);this.bCn6h=a0x.A0x(e0x.progress);this.bY1x([[e0x.thumb,"mousedown",this.cIl6f.f0x(this)],[document,"mousemove",this.bOn8f.f0x(this)],[document,"mouseup",this.bCl6f.f0x(this)],[this.jH4L,"mousedown",this.bCo6i.f0x(this)]]);var fs2x=e0x.value;if(fs2x==null){fs2x=this.bCn6h.offsetWidth/this.jH4L.offsetWidth}this.hb3x(fs2x)};zm2x.bD1x=function(){if(!!this.cuO4S)this.VY8Q(0);this.bH1x()};zm2x.cIl6f=function(d0x){if(!!this.io3x)return;h0x.bg1x(d0x);this.io3x=h0x.kf4j(d0x);this.bCq6k=this.jH4L.offsetWidth};zm2x.bOn8f=function(d0x){if(!this.io3x)return;var bn1x=h0x.kf4j(d0x),dz2x=bn1x-this.io3x;this.io3x=bn1x;this.VY8Q(this.Gy4C+dz2x/this.bCq6k);this.z0x("onslidechange",{ratio:this.Gy4C})};zm2x.bCl6f=function(d0x){if(!this.io3x)return;this.bOn8f(d0x);delete this.io3x;delete this.bCq6k;this.z0x("onslidestop",{ratio:this.Gy4C})};zm2x.bCo6i=function(d0x){var cEV6P=a0x.iA3x(this.jH4L).x,cba0x=h0x.kf4j(d0x);this.VY8Q((cba0x-cEV6P+this.Rg6a)/this.jH4L.offsetWidth);this.z0x("onslidestop",{ratio:this.Gy4C})};zm2x.VY8Q=function(fs2x){this.Gy4C=Math.max(0,Math.min(1,fs2x));a0x.bc1x(this.bCn6h,"width",this.Gy4C*100+"%")};zm2x.hb3x=function(fs2x){if(!!this.io3x)return;this.VY8Q(fs2x)};zm2x.blo0x=function(fs2x){return this.Gy4C}})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),gL3x=c0x("nm.ut");gL3x.cig2x=function(){var MD5I=function(bu1x,cl1x,pv6p,pw6q,BQ2x){if(pv6p<pw6q){var Jq4u=Math.floor((pv6p+pw6q)/2);MD5I(bu1x,cl1x,pv6p,Jq4u,BQ2x);MD5I(bu1x,cl1x,Jq4u+1,pw6q,BQ2x);ciu2x(bu1x,cl1x,pv6p,Jq4u,pw6q,BQ2x)}};var ciu2x=function(bu1x,cl1x,pv6p,Jq4u,pw6q,BQ2x){var i=pv6p,j=Jq4u+1,k=pv6p;while(i<=Jq4u&&j<=pw6q){if(BQ2x(bu1x[i],bu1x[j])<=0){cl1x[k++]=bu1x[i++]}else{cl1x[k++]=bu1x[j++]}}while(i<=Jq4u){cl1x[k++]=bu1x[i++]}while(j<=pw6q){cl1x[k++]=bu1x[j++]}for(i=pv6p;i<=pw6q;i++){bu1x[i]=cl1x[i]}};var cix2x=function(hy3x,bwx5C){return hy3x<bwx5C};return function(bu1x,BQ2x){if(!bu1x||bu1x.length==0)return bu1x;BQ2x=BQ2x||cix2x;MD5I(bu1x,new Array(bu1x.length),0,bu1x.length-1,BQ2x);return bu1x}}();gL3x.bEI6C=function(){var hj3x=/\r\n|\r|\n/,kG4K=/\[(.*?)\]/gi,bzw5B={ar:"artist",ti:"track",al:"album",offset:"offset"},bEJ6D=-1;var bzs5x=function(m0x,hW3x){var bu1x=[];hW3x=hW3x.replace(kG4K,function($1,$2){var bB1x=bzq5v.call(this,m0x,$2);if(bB1x!=null){bEJ6D=bB1x;bu1x.push({time:bB1x,tag:$2});m0x.scrollable=!0}return""}.f0x(this)).trim();if(!bu1x.length){if(!hW3x||hW3x.length==0)return;bu1x.push({time:bEJ6D}||{time:-1})}j0x.bf1x(bu1x,function(q0x){q0x.lyric=hW3x});var xX1x=m0x.lines;xX1x.push.apply(xX1x,bu1x)};var bzq5v=function(m0x,bB1x){var bu1x=bB1x.split(":"),xG1x=bu1x.shift(),J0x=bzw5B[xG1x];if(!!J0x){m0x[J0x]=bu1x.join(":");return null}xG1x=parseInt(xG1x);if(isNaN(xG1x)){return null}else{var bn1x=parseInt(m0x.offset)||0;return xG1x*60+parseFloat(bu1x.join("."))+bn1x/1e3}};var bzo5t=function(bzn5s,kn4r){return bzn5s.time-kn4r.time};return function(E0x,bq1x){var m0x={id:E0x,lines:[],scrollable:!1,source:bq1x};j0x.bf1x((bq1x||"").trim().split(hj3x),bzs5x.f0x(null,m0x));if(m0x.scrollable){gL3x.cig2x(m0x.lines,bzo5t);var r0x;for(var i=0;i<m0x.lines.length;i++){if(!!m0x.lines[i].lyric){r0x=i;break}}m0x.lines.splice(0,r0x)}return m0x}}();gL3x.bEK6E=function(MH5M,beQ9H){var bwt5y=gL3x.bEI6C(0,MH5M),bws5x=gL3x.bEI6C(0,beQ9H);if(bwt5y.scrollable&&bws5x.scrollable){j0x.bf1x(bwt5y.lines,function(q0x){var beP9G=getTranslate(q0x.time);if(beP9G){q0x.lyric=q0x.lyric+"<br>"+beP9G.lyric}})}return bwt5y;function getTranslate(bB1x){var r0x=j0x.ds2x(bws5x.lines,function(q0x){return q0x.time==bB1x});if(r0x!=-1){return bws5x.lines[r0x]}}}})();
(function(){var P0x=NEJ.P("nej.ut"),bJr7k;if(!!P0x.vc1x)return;P0x.vc1x=NEJ.C();bJr7k=P0x.vc1x.N0x(P0x.HB4F);bJr7k.bo1x=function(e0x){e0x=NEJ.X({},e0x);e0x.timing="linear";this.bp1x(e0x)}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),p0x=c0x("nm.d");var bEP6J=function(i0x){if(i0x.errorType==6||i0x.errorType==7||i0x.errorType==8){if(!l0x.gV3x())return;l0x.kk4o({txt:"m-report-point",title:"提示",onaction:bEQ6K.f0x(this,i0x)})}else{bEQ6K(i0x)}};var cjQ2x=function(d0x){var g0x=h0x.Z1x(d0x,"d:action");if(a0x.v0x(g0x,"action")=="feedLyric"){h0x.bg1x(d0x);var cf1x=a0x.v0x(g0x,"code"),i0x={songId:a0x.v0x(g0x,"id"),errorType:cf1x};bEP6J(i0x)}};var bEQ6K=function(i0x,d0x){if(!d0x||d0x.action=="ok"){u0x.be1x("/api/v1/feedback/lyric",{type:"json",method:"post",data:j0x.cr1x(i0x),onload:function(d0x){if(d0x.code==200){n0x.ba1x.I0x({tip:"提交成功"});if(j0x.gU3x(i0x.onok)){i0x.onok()}}else if(d0x.code==-2){l0x.hn3x({title:"提示",message:"您的积分不足",btnok:"赚积分",action:function(U0x){if(U0x=="ok"){location.dispatch2("/store/gain/index")}}})}else{n0x.ba1x.I0x({type:2,tip:"提交失败"})}}})}};l0x.bER6L=function(g0x){var g0x=g0x||document.body,eQ2x=cjQ2x.f0x(this);h0x.s0x(g0x,"click",eQ2x);return{destroy:function(){h0x.oi5n(g0x,"click",eQ2x)}}};l0x.cRl8d=function(i0x){bEP6J(i0x)}})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),H0x=c0x("nej.ut"),P0x=c0x("nej.p"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),dW2x=c0x("nm.ut"),y0x=c0x("nm.w"),b0x,L0x;var bwq5v={};var bES6M=function(E0x,mc4g){var X0x="/api/song/lyric",bw1x={id:E0x,lv:-1,tv:-1};if(bwq5v[E0x]){if(mc4g)mc4g(bwq5v[E0x])}else{u0x.be1x(X0x,{sync:false,type:"json",query:bw1x,method:"get",onload:function(i0x){bwq5v[E0x]=i0x;mc4g(i0x,E0x)},onerror:function(ca1x){mc4g(ca1x)}})}};y0x.beY9P=NEJ.C();b0x=y0x.beY9P.N0x(H0x.cP1x);y0x.beY9P.cks2x=bES6M;b0x.bo1x=function(e0x){this.bp1x(e0x);this.bN1x=e0x.nlist;this.QG6A=e0x.nmenu;this.bET6N=e0x.nask;this.wb1x={track:e0x.nscroll,slide:a0x.dg1x(e0x.nscroll)[0],content:this.bN1x,speed:4};this.bwo5t=this.II4M.f0x(this);this.bY1x([[e0x.nask,"click",this.ckS2x.f0x(this)],[this.wb1x.slide,"mousedown",this.bhd9U.f0x(this)],[document,"mouseup",this.bhc9T.f0x(this)],[y0x.gn2x,"playaction",this.yp1x.f0x(this)]]);if(P0x.dB2x.browser!="firefox"){this.bY1x([[this.bN1x,"mousewheel",this.bwo5t]])}else{this.bN1x.addEventListener("DOMMouseScroll",this.bwo5t,false)}this.jv3x=y0x.Cq2x.B0x(this.wb1x);this.bwn5s=l0x.bER6L(this.bN1x);this.by1x=y0x.gn2x.fS2x()};b0x.bD1x=function(){this.bH1x();delete this.BP2x;delete this.up0x;delete this.beL0x;if(this.bwn5s){this.bwn5s.destroy();delete this.bwn5s}if(P0x.dB2x.browser=="firefox"){this.bN1x.removeEventListener("DOMMouseScroll",this.bwo5t)}a0x.bc1x(this.QG6A,"display","none")};b0x.ckS2x=function(){if(a0x.dk1x(this.QG6A,"display")=="none"){a0x.bc1x(this.QG6A,"display","block")}else{a0x.bc1x(this.QG6A,"display","none")}};b0x.bwj5o=function(){var il3x=0;return function(Qw6q){clearTimeout(il3x);this.beL0x=true;if(this.up0x){this.up0x.V0x();delete this.up0x}if(!Qw6q){il3x=setTimeout(function(){delete this.beL0x}.f0x(this),3e3)}}}();b0x.II4M=function(){this.bwj5o()};b0x.bhd9U=function(){this.bwj5o(true)};b0x.yp1x=function(d0x){if(d0x.action=="timeupdate"){this.bEX6R(d0x.data.time,true)}};b0x.bEX6R=function(bB1x,cma2x){if(!(this.BP2x&&this.BP2x.scrollable)||this.beL0x)return;var i=this.BP2x.lines.length-1,ii,dz2x,r0x=-1,bEY6S=0,gt3x=0;for(;i>=0;i--){ii=this.BP2x.lines[i];dz2x=ii.time-bB1x;if(dz2x<0&&(i>0||dz2x<=-2)){r0x=i;break}}for(var j=0,jj;j<this.bwi4m.length;j++){jj=this.bwi4m[j];if(j<r0x){bEY6S+=jj.clientHeight}if(r0x==j){a0x.w0x(jj,"z-sel")}else{a0x.x0x(jj,"z-sel")}}if(r0x<0||a0x.iA3x(this.bwi4m[r0x],this.bN1x).y<96){gt3x=0}else{gt3x=bEY6S-96}if(Math.abs(gt3x-this.bN1x.scrollTop)<=4||this.up0x)return;if(cma2x){var cC1x={from:{offset:this.bN1x.scrollTop},to:{offset:gt3x},duration:500,onupdate:function(d0x){this.bN1x.scrollTop=d0x.offset;this.jv3x.Ll5q(this.bN1x.scrollTop/(this.bN1x.scrollHeight-this.bN1x.clientHeight))}.f0x(this),onstop:function(){if(this.up0x){this.up0x.V0x();delete this.up0x}}.f0x(this)};this.up0x=H0x.vc1x.B0x(cC1x);this.up0x.ez2x()}else{this.bN1x.scrollTop=gt3x;this.jv3x.Ll5q(this.bN1x.scrollTop/(this.bN1x.scrollHeight-this.bN1x.clientHeight))}};b0x.chQ1x=function(bi1x){this.beK0x=bi1x;delete this.BP2x;if(bi1x&&!bi1x.program){bES6M(bi1x.id,this.cmM2x.bind(this));a0x.x0x(this.bET6N,"f-hide")}else{a0x.w0x(this.bET6N,"f-hide");this.bgP9G({})}};b0x.cmM2x=function(d0x,E0x){if(d0x.code==200){var MH5M=d0x.lrc||{},beP9G=d0x.tlyric||{};if(!MH5M.lyric){this.bgP9G(d0x)}else{this.BP2x=dW2x.bEK6E(MH5M.lyric,beP9G.lyric);d0x.scrollable=this.BP2x.scrollable;a0x.dA2x(this.bN1x,"m-lyric-line",{id:this.beK0x.id,lines:this.BP2x.lines,scrollable:this.BP2x.scrollable});this.bwi4m=a0x.D0x(this.bN1x,"j-flag")}d0x.songId=this.beK0x.id;a0x.dA2x(this.QG6A,"m-player-lyric-ask",d0x)}else{}if(this.up0x){this.up0x.V0x();delete this.up0x}this.jv3x.rs6m();this.bEX6R(this.by1x.biF9w()||0,false)};b0x.bhc9T=function(){if(this.beL0x){this.bwj5o()}};b0x.bgP9G=function(i0x){if(this.beK0x.program){this.bN1x.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">电台节目，无歌词</span></div>'}else if(i0x.nolyric){this.bN1x.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">纯音乐，无歌词</span></div>'}else{this.bN1x.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">暂时没有歌词</span><a data-action="feedLyric" data-code="6"'+"data-id="+this.beK0x.id+' href="#" class="f-tdu">求歌词</a></div>'}this.jv3x&&this.jv3x.rs6m()}})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dr2x=c0x("nej.p"),u0x=c0x("nej.j"),H0x=c0x("nej.ut"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),dW2x=c0x("nm.u"),y0x=c0x("nm.w"),M0x=c0x("nm.m.f"),dL2x=c0x("player"),b0x,L0x;M0x.QL6F=NEJ.C();b0x=M0x.QL6F.N0x(H0x.cP1x);b0x.cz1x=function(){this.cD1x();this.zN2x=a0x.A0x("g_player");this.lV4Z=this.zN2x.parentNode;var k0x=a0x.D0x(this.zN2x,"j-flag");this.hD3x=k0x[0];this.lF4J=k0x[1];this.kJ4N=k0x[2];this.MK5P=k0x[3];this.rr6l=k0x[4];this.hO3x=k0x[5];k0x=a0x.dg1x(k0x[6]);this.Em3x=k0x[0];this.xh1x=k0x[1];this.bFc6W=k0x[2];this.bfb9S=k0x[3];this.bvZ4d=k0x[4];this.bvX4b=a0x.dg1x(this.bfb9S)[0];this.yY2x=l0x.bxP5U();this.yZ2x=null;this.bey0x(3e3);this.Rk6e();this.cpJ3x();this.cpT3x();this.cqc3x();this.bFg6a();this.bvN4R();dL2x.setLike=this.bFh6b.f0x(this);h0x.s0x(this.lV4Z,"click",this.bR1x.f0x(this));h0x.s0x(y0x.gn2x,"playaction",this.yp1x.f0x(this));h0x.s0x(y0x.uP1x,"queuechange",this.yK2x.f0x(this));h0x.s0x(y0x.uP1x,"playchange",this.hK3x.f0x(this));h0x.s0x(this.lV4Z,dr2x.dB2x.browser=="ie"?"mouseleave":"mouseout",this.bFi6c.f0x(this,!1));h0x.s0x(this.lV4Z,dr2x.dB2x.browser=="ie"?"mouseenter":"mouseover",this.bFi6c.f0x(this,!0));h0x.s0x(document,"keyup",this.bFj6d.f0x(this));h0x.s0x(window,"iframeclick",this.uA0x.f0x(this));h0x.s0x(document,"click",this.uA0x.f0x(this));h0x.s0x(this.Em3x,"click",h0x.bg1x.f0x(h0x));dL2x.hotkeys=this.bFj6d.f0x(this);this.bFk6e=j0x.oU5Z()};b0x.bvN4R=function(){var MT5Y=a0x.A0x("g-topbar"),cL1x=this.zN2x.offsetWidth,cqP3x=this.lV4Z.offsetWidth;if(!MT5Y)return;a0x.bc1x(this.zN2x,"marginLeft",-(cqP3x-MT5Y.offsetWidth+this.zN2x.offsetWidth)/2+"px")};b0x.bFg6a=function(){if(this.yY2x.lock){a0x.x0x(this.lV4Z,"m-playbar-unlock");a0x.w0x(this.lV4Z,"m-playbar-lock");window.g_bottomBarHeight=47}else{a0x.w0x(this.lV4Z,"m-playbar-unlock");a0x.x0x(this.lV4Z,"m-playbar-lock");window.g_bottomBarHeight=0}};b0x.Rk6e=function(){var k0x=a0x.dg1x(this.MK5P);this.Rp6j=k0x[0];this.bet0x=a0x.dg1x(k0x[1])[0];this.MU5Z=H0x.KB5G.B0x({track:this.MK5P,thumb:this.bet0x,progress:k0x[1],onslidestop:function(d0x){this.bFm6g=false;this.by1x.pQ6K(this.by1x.bkJ0x()*d0x.ratio)}.f0x(this),onslidechange:function(d0x){this.bFm6g=true;this.bvC4G({time:d0x.ratio*this.by1x.bkJ0x(),duration:this.by1x.bkJ0x()})}.f0x(this)})};b0x.cpT3x=function(){var k0x=a0x.D0x(this.Em3x,"j-t"),fs2x=k0x[1],yo1x=this.yY2x.volume;if(yo1x==null){yo1x=.8}this.yG1x=H0x.KD5I.B0x({track:k0x[0],slide:k0x[2],onchange:function(d0x){var C0x=1-d0x.y.rate,cj1x=93*C0x;a0x.bc1x(fs2x,"height",cj1x+"px");cj1x>0?a0x.x0x(this.xh1x,"icn-volno"):a0x.w0x(this.xh1x,"icn-volno");this.by1x.nl5q(C0x);this.yY2x.volume=C0x;l0x.Iv4z(this.yY2x)}.f0x(this)});this.yG1x.hb3x({x:0,y:1-yo1x})};b0x.cpJ3x=function(){var bw1x=j0x.hg3x(location.hash.slice(1))||{},t0x=bw1x["__media"]||"auto";if(this.yY2x.useFlash){this.yY2x.useFlash=false;l0x.Iv4z(this.yY2x)}this.by1x=y0x.gn2x.fS2x({media:t0x});this.gM3x=y0x.uP1x.fS2x();dL2x.addTo=function(js3x,xs1x,gr2x){this.gM3x.cgc1x(JSON.parse(JSON.stringify(js3x)),xs1x,gr2x)}.f0x(this);dL2x.tipPlay=this.bvA4E.f0x(this);dL2x.getPlaying=function(){return{track:this.gM3x.ro6i(),playing:this.by1x.vF1x()}}.f0x(this);dL2x.pause=this.by1x.fJ2x.f0x(this.by1x);var gB3x=this.gM3x.ro6i();if(gB3x){this.bFn6h(gB3x)}this.bFo6i(this.gM3x.cfM1x());this.bFp6j();this.crW3x()};b0x.yK2x=function(){var il3x=0;return function(d0x){if(d0x.cmd=="play"||d0x.cmd=="addto"){this.bvA4E(d0x.cmd=="play"?"已开始播放":"已添加到播放列表")}this.bFp6j()}}();b0x.hK3x=function(d0x){var bi1x=d0x["new"];this.bFn6h(bi1x);if(this.by1x.vF1x()){document.title=decodeURIComponent("%E2%96%B6%20")+bi1x.name}h0x.z0x(window,"playchange",{trackId:bi1x.id,track:bi1x})};b0x.bR1x=function(d0x){var g0x=h0x.Z1x(d0x,"d:action"),U0x=a0x.v0x(g0x,"action"),oR5W=h0x.Z1x(d0x,"a:href");if(oR5W&&oR5W.tagName.toLocaleLowerCase()=="a"&&/^http/.test(oR5W.href)){this.V0x();return}else{h0x.bg1x(d0x)}switch(U0x){case"lock":this.yY2x.lock=!a0x.bE1x(this.lV4Z,"m-playbar-lock");l0x.Iv4z(this.yY2x);this.bFg6a();break;case"prev":this.gM3x.Cr2x();break;case"next":this.gM3x.oF5K();break;case"play":this.by1x.ez2x();break;case"pause":this.by1x.fJ2x();break;case"like":var bi1x=this.gM3x.ro6i();if(bi1x){window.subscribe(bi1x,bi1x.program)}!bi1x.program&&this.vo1x&&this.vo1x.V0x();break;case"share":var bi1x=this.gM3x.ro6i();if(bi1x.program&&bi1x.program.auditStatus==1){l0x.iK3x("由于版权问题，该节目暂时无法分享。")}else{if(bi1x){!bi1x.program?l0x.lD4H({rid:bi1x.id,type:18,purl:bi1x.album.picUrl,name:bi1x.name,author:l0x.Al2x(bi1x.artists)}):l0x.lD4H({rid:bi1x.program.id,type:17,purl:bi1x.program.coverUrl,name:bi1x.program.name,author:(bi1x.program.radio||[]).name})}this.vo1x&&this.vo1x.V0x()}break;case"mode":this.bFo6i(this.gM3x.cfE1x(),true);break;case"volume":h0x.bg1x(d0x);if(this.Em3x.style.visibility!="hidden"){a0x.bc1x(this.Em3x,"visibility","hidden")}else{a0x.bc1x(this.Em3x,"visibility","visible")}break;case"panel":h0x.bg1x(d0x);if(!this.vo1x){this.vo1x=M0x.bEA6u.B0x({parent:this.lV4Z,onclose:function(){delete this.vo1x;this.bey0x()}.f0x(this)})}else{if(this.vo1x){this.vo1x.V0x();delete this.vo1x}}break}};b0x.bvC4G=function(d0x){this.rr6l.innerHTML=l0x.fw2x("<em>{0}</em> / {1}",l0x.lN4R(d0x.time),l0x.lN4R(d0x.duration));try{this.yZ2x&&this.yZ2x.updateTime(d0x.time)}catch(e){}};b0x.bFo6i=function(eO2x,cS1x){var bA1x={2:{icn:"icn-one",title:"单曲循环"},4:{icn:"icn-loop",title:"循环"},5:{icn:"icn-shuffle",title:"随机"}},bm1x=bA1x[eO2x];a0x.fk2x(this.bFc6W,"icn-one icn-loop icn-shuffle",bm1x.icn);this.bvZ4d.innerText=this.bFc6W.title=bm1x.title;clearTimeout(this.csu3x);if(cS1x){a0x.bc1x(this.bvZ4d,"display","");this.csu3x=setTimeout(function(){a0x.bc1x(this.bvZ4d,"display","none")}.f0x(this),2e3)}};b0x.bFh6b=function(df1x){var gB3x=this.gM3x.ro6i();if(gB3x&&gB3x.program&&gB3x.program.id==df1x.id){gB3x.program.liked=df1x.liked;this.hO3x.title="赞";if(df1x.liked){a0x.fk2x(this.hO3x,"icn-zan","icn-yizan")}else{a0x.fk2x(this.hO3x,"icn-yizan","icn-zan")}this.gM3x.bfi9Z()}};b0x.bFn6h=function(bi1x){var bx1x;a0x.bc1x(this.Rp6j,"width",0);this.bvC4G(0);this.MU5Z.hb3x(0);var windowParent=window.parent?window.parent:window;var GDegradeConfig={degrade:false};try{GDegradeConfig=windowParent["GDegradeConfig"]}catch(e){}if(bi1x){bx1x=this.csz3x(bi1x);if(bi1x.program){if(GDegradeConfig.degrade){a0x.fk2x(this.hO3x,"icn-add icn-zan icn-yizan","f-hide")}else{a0x.fk2x(this.hO3x,"icn-add","icn-zan");this.hO3x.title="赞";u0x.kR4V(this.rn6h);this.rn6h=u0x.be1x("/api/dj/program/detail",{type:"json",query:{id:bi1x.program.id},onload:function(d0x){if(d0x.code==200){this.bFh6b(d0x.program)}}.f0x(this)})}}else{a0x.fk2x(this.hO3x,"icn-zan icn-yizan f-hide","icn-add");this.hO3x.title="收藏"}this.lF4J.innerHTML=l0x.fw2x('<img src="{0}?param=34y34"><a href="{1}" hidefocus="true" class="mask"></a>',bx1x.cover,bx1x.titleUrl);a0x.dA2x(this.kJ4N,"m-player-playinfo",bx1x);this.csB3x(bi1x);this.bFq6k(bi1x)}};b0x.bFp6j=function(){var k0x=a0x.dg1x(this.bfb9S);k0x[1].innerText=this.gM3x.ma4e()};b0x.csz3x=function(bi1x){var m0x={duration:bi1x.duration,cover:"http://s4.music.126.net/style/web2/img/default_album.jpg",source:bi1x.source};if(bi1x.program){m0x.type="program";m0x.name=j0x.dN2x(bi1x.program.name);m0x.cover=bi1x.program.coverUrl;m0x.titleUrl="/program?id="+bi1x.program.id;m0x.artistHtml=l0x.fw2x('<a hidefocus="true" href="/radio?id={0}" title="{1}">{1}</a>',bi1x.program.radio.id,j0x.dN2x(bi1x.program.radio.name))}else{m0x.type="song";m0x.name=bi1x.name;m0x.mvid=bi1x.mvid;if(!bi1x.album){bi1x.album={}}if(bi1x.album.pic&&bi1x.album.picUrl){m0x.cover=bi1x.album.picUrl}m0x.titleUrl="/song?id="+bi1x.id;m0x.artistHtml=l0x.sO7H(bi1x.artists)}return m0x};b0x.csB3x=function(bi1x){try{var mediaSession=window.navigator.mediaSession;var MediaMetadata=window.MediaMetadata;var csG3x=(bi1x.artists||[]).map(function(hY3x){return(hY3x||{}).name}).join(" / ");var csO3x=bi1x.program?(bi1x.program.radio||{}).name:(bi1x.album||{}).name;var pf5k=bi1x.program?bi1x.program.coverUrl||(bi1x.program.radio||{}).picUrl:(bi1x.album||{}).picUrl;mediaSession.metadata=new MediaMetadata({title:bi1x.name,artist:csG3x,album:csO3x,artwork:[{src:pf5k+"?param=200y200",sizes:"200x200",type:"image/jpeg"}]})}catch(e){}};b0x.bFq6k=function(bi1x){try{if(!this.yZ2x)return;this.yZ2x.setData(bi1x);if(bi1x.program)return;y0x.beY9P.cks2x(bi1x.id,function(Pa6U){try{var gB3x=this.gM3x.ro6i();if(!gB3x||gB3x.id!=bi1x.id)return;this.yZ2x.setData(bi1x,Pa6U)}catch(e){}}.bind(this))}catch(e){}};b0x.yp1x=function(d0x){var i0x=d0x.data;switch(d0x.action){case"play":a0x.w0x(this.hD3x,"pas");a0x.v0x(this.hD3x,"action","pause");u0x.gW3x("playerid",this.bFk6e);var bi1x=this.gM3x.ro6i();if(bi1x){document.title=decodeURIComponent("%E2%96%B6%20")+bi1x.name}h0x.z0x(window,"playstatechange",d0x);try{this.yZ2x&&this.yZ2x.play()}catch(e){}break;case"pause":a0x.x0x(this.hD3x,"pas");a0x.v0x(this.hD3x,"action","play");document.title=this.csQ3x()||"网易云音乐";try{this.yZ2x&&this.yZ2x.pause()}catch(e){}break;case"timeupdate":if(this.bFm6g)return;var hL3x=u0x.gW3x("playerid");if(hL3x&&hL3x!==this.bFk6e){this.by1x.fJ2x()}this.MU5Z.hb3x(i0x.time/i0x.duration);this.bvC4G(i0x);break;case"progress":a0x.bc1x(this.Rp6j,"width",i0x.loaded*100/i0x.total+"%");break;case"error":this.bvA4E("播放失败");a0x.x0x(this.bet0x,"z-load");break;case"playing":a0x.x0x(this.bet0x,"z-load");break;case"waiting":a0x.w0x(this.bet0x,"z-load");break}};b0x.bvA4E=function(){var il3x=0;return function(dT2x){if(dT2x){this.bvX4b.innerText=dT2x;a0x.bc1x(this.bvX4b,"display","");clearTimeout(il3x);il3x=setTimeout(function(){a0x.bc1x(this.bvX4b,"display","none")}.f0x(this),2e3);this.qt6n(true);this.bey0x(2e3)}}}();b0x.bFi6c=function(NJ5O,d0x){if(!this.vo1x){if(NJ5O){if(!l0x.OY6S(this.lV4Z,d0x.relatedTarget||d0x.fromElement)){this.qt6n(true)}}else{if(!l0x.OY6S(this.lV4Z,d0x.relatedTarget||d0x.toElement)){this.bey0x()}}}};b0x.bey0x=function(uH1x){clearTimeout(this.bFs6m);this.bFs6m=setTimeout(function(){if(!this.yY2x.lock){this.qt6n(false)}}.f0x(this),uH1x||500)};b0x.qt6n=function(){var BL2x,bef0x=true;return function(mU5Z){clearTimeout(this.bFs6m);if(BL2x||mU5Z==bef0x)return;bef0x=mU5Z;BL2x=H0x.GE4I.B0x({to:{offset:mU5Z?-53:-7},from:{offset:mU5Z?-7:-53},onstop:function(){BL2x.V0x();BL2x=null},onupdate:function(d0x){a0x.bc1x(this.lV4Z,"top",d0x.offset+"px")}.f0x(this),duration:mU5Z?100:350});BL2x.ez2x()}}();b0x.bFj6d=function(d0x){if(d0x.keyCode==80&&!l0x.bVR9I()){this.by1x.vF1x()?this.by1x.fJ2x():this.by1x.ez2x()}else if(d0x.ctrlKey){switch(d0x.keyCode){case 37:this.gM3x.Cr2x();break;case 39:this.gM3x.oF5K();break}}};b0x.cqc3x=function(){var g0x=document.createElement("script");g0x.setAttribute("type","text/javascript");g0x.setAttribute("src","/st/pip/lyric/inject.js");g0x.onload=function(){try{if(!window.PipLyric||!window.PipLyric.support)return;this.yZ2x=window.PipLyric(l0x.qg6a.bind(this));var gB3x=this.gM3x.ro6i();if(gB3x)this.bFq6k(gB3x)}catch(e){}g0x.parentNode.removeChild(g0x)}.bind(this);document.head.appendChild(g0x)};b0x.crW3x=function(){try{var mediaSession=window.navigator.mediaSession;mediaSession.setActionHandler("previoustrack",this.gM3x.Cr2x.bind(this.gM3x));mediaSession.setActionHandler("nexttrack",this.gM3x.oF5K.bind(this.gM3x))}catch(e){}};b0x.uA0x=function(){a0x.bc1x(this.Em3x,"visibility","hidden");this.vo1x&&this.vo1x.V0x()};b0x.csQ3x=function(){var eP2x=a0x.A0x("g_iframe");if(eP2x){return eP2x.contentWindow.document.title}else{return""}};b0x.I0x=function(){window.g_bottomBarShow=true;a0x.bc1x(this.lV4Z,"visibility","visible")};b0x.br1x=function(){window.g_bottomBarShow=false;this.by1x.fJ2x();a0x.bc1x(this.lV4Z,"visibility","hidden")}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),H0x=c0x("nej.ut"),bd1x=c0x("nej.ui"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),b0x;y0x.PS6M=NEJ.C();b0x=y0x.PS6M.N0x(bd1x.es2x);b0x.bo1x=function(e0x){this.bp1x(e0x);if(e0x.txt){this.o0x.innerHTML=a0x.ik3x(e0x.txt)}else if(e0x.html){this.o0x.innerHTML=e0x.html}this.Ef3x=e0x.captchaId;var k0x=a0x.D0x(this.o0x,"j-flag");this.eY2x=k0x[0];this.ei2x=k0x[1];this.bY1x([[this.ei2x,"click",this.btj2x.f0x(this)],[this.eY2x,"keypress",this.cHC6w.f0x(this)]]);this.ei2x.src="/captcha?id="+this.Ef3x};b0x.bD1x=function(){this.bH1x()};b0x.btj2x=function(){u0x.be1x("/api/image/captcha/verify/hf",{type:"json",query:{id:this.Ef3x,captcha:0},onload:function(m0x){if(m0x.code==200){this.Ef3x=m0x.captchaId;this.ei2x.src="/captcha?id="+this.Ef3x}}.f0x(this)})};b0x.cHC6w=function(d0x){if(d0x.keyCode==13)this.z0x("onaction",d0x)};b0x.IC4G=function(){var m0x={},cf1x=this.eY2x.value;if(!cf1x){m0x.message="请输入验证码"}else{u0x.be1x("/api/image/captcha/verify/hf",{type:"json",sync:true,query:{id:this.Ef3x,captcha:cf1x},onload:cbVerify.f0x(this),onerror:cbVerify.f0x(this)})}return m0x;function cbVerify(d0x){if(d0x.code==200){if(d0x.result){m0x.success=true}else{m0x.message="验证码错误";if(d0x.captchaId){this.Ef3x=d0x.captchaId;this.ei2x.src="/captcha?id="+this.Ef3x}}}else{m0x.message="验证出错"}}};b0x.gk2x=function(){return this.eY2x.value};b0x.Je4i=function(){return this.Ef3x};b0x.w0x=function(jl3x){a0x.w0x(this.eY2x,jl3x)};b0x.x0x=function(jl3x){a0x.x0x(this.eY2x,jl3x)}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,h0x=c0x("nej.v"),a0x=c0x("nej.e"),u0x=c0x("nej.j"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),bG1x=c0x("nej.ui"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),b0x,L0x;n0x.btm2x=NEJ.C();b0x=n0x.btm2x.N0x(n0x.ee2x);L0x=n0x.btm2x.ct1x;b0x.bV1x=function(){this.ch1x();var k0x=a0x.D0x(this.o0x,"j-flag");this.eY2x=k0x[0];this.dX2x=k0x[1];h0x.s0x(this.o0x,"click",this.bR1x.f0x(this))};b0x.cd1x=function(){this.cc1x="m-captcha-layer"};b0x.bo1x=function(e0x){e0x.clazz="m-layer-captcha";e0x.parent=e0x.parent||document.body;e0x.title="输入验证码";e0x.draggable=!0;e0x.destroyable=true;e0x.mask=true;this.bp1x(e0x);this.cZ1x=y0x.PS6M.B0x({parent:this.eY2x,html:'<input class="u-txt txt f-fl j-flag"/><img class="captcha f-fl j-flag" src=""/>',captchaId:e0x.captchaId})};b0x.bD1x=function(){this.z0x("ondestroy");this.bH1x();if(this.cZ1x){this.cZ1x.V0x();delete this.cZ1x}};b0x.bR1x=function(d0x){var g0x=h0x.Z1x(d0x,"d:action");switch(a0x.v0x(g0x,"action")){case"ok":var bx1x=this.cZ1x.IC4G();if(!bx1x.success){this.dX2x.innerHTML='<i class="u-icn u-icn-25"></i>'+bx1x.message;a0x.x0x(this.dX2x,"f-hide")}else{a0x.w0x(this.dX2x,"f-hide");this.br1x()}break;case"cc":this.br1x();break}};l0x.bLw7p=function(e0x){n0x.btm2x.B0x(e0x).I0x()}})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),u0x=c0x("nej.j"),bb1x=c0x("nej.o"),j0x=c0x("nej.u"),h0x=c0x("nej.v"),bG1x=c0x("nej.ui"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),b0x,L0x;n0x.qx6r=NEJ.C();b0x=n0x.qx6r.N0x(n0x.ee2x,!0);b0x.cz1x=function(){this.cD1x()};b0x.bV1x=function(){this.ch1x();var k0x=a0x.D0x(this.o0x,"j-flag");this.btq2x=k0x[0];h0x.s0x(k0x[1],"click",this.bts2x.f0x(this))};b0x.cd1x=function(){this.cc1x="m-layer-tip"};b0x.bo1x=function(e0x){e0x.parent=e0x.parent||document.body;this.bp1x(e0x);this.btq2x.innerHTML=e0x.mesg||""};b0x.bD1x=function(){this.bH1x()};b0x.bts2x=function(d0x){this.z0x("onnotice");this.br1x()};n0x.or5w=function(e0x){if(this.zR2x){this.zR2x.V0x();delete this.zR2x}this.zR2x=n0x.qx6r.B0x(e0x);this.zR2x.I0x()}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,h0x=c0x("nej.v"),u0x=c0x("nej.j"),H0x=c0x("nej.ut"),a0x=c0x("nej.e"),j0x=c0x("nej.u"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),lh4l=c0x("nm.ctl"),b0x;if(lh4l.btu2x)return;lh4l.btu2x=NEJ.C();b0x=lh4l.btu2x.N0x(H0x.cP1x);var cHs6m=location.host=="music.163.com";if(cHs6m){var bT1x={host:"s2.music.126.net",scaptcha_server:"captcha.aq.163.com/v1_5",scaptcha_product_key:"nj2vr7swvutssrtbj16kzfentkikkvbf",captchaId:"73a18dc827b24b18ad0783701a75277d"}}else{var bT1x={host:location.host,scaptcha_server:"captcha.aq.163.com/v1_5",scaptcha_product_key:"nj2vr7swvutssrtbj16kzfentkikkvbf",captchaId:"73a18dc827b24b18ad0783701a75277d"}}b0x.bLv7o=function(cHq6k){return location.protocol+"//"+bT1x.host+cHq6k};b0x.cHo6i=function(J0x){return NEJ.Q(bT1x,J0x)};c0x("ctl").env=lh4l.btu2x.fS2x()})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,P0x=c0x("nej.p"),a0x=c0x("nej.e"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),H0x=c0x("nej.ut"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),b0x;if(y0x.btD3x)return;y0x.btD3x=NEJ.C();b0x=y0x.btD3x.N0x(H0x.cP1x);b0x.cz1x=function(){var time=parseInt(+(new Date)/6e4,10);this.bLu7n=[location.protocol+"//cstaticdun.126.net/load.min.js?t="+time];if(P0x.dB2x&&P0x.dB2x.engine=="trident"&&nej.p.dB2x.release-5<0){this.bLu7n.unshift(ctl.env.bLv7o("/static/web2/3rd/scaptcha/ie6support.js"))}this.cD1x()};b0x.bo1x=function(e0x){this.bp1x(e0x);this.cZ1x="";this.hE3x=e0x.parent;this.mX5c={captchaId:e0x.captchaId,width:e0x.width};this.Qe6Y(0);this.cHb6V()};b0x.bD1x=function(){delete this.btI3x;delete this.mX5c;delete this.hE3x;delete this.cZ1x;this.bH1x()};b0x.cHb6V=function(){if(this.btI3x>0)return;this.Qe6Y(1);this.cGZ6T()};b0x.cGZ6T=function(){var bLt7m=this.bLu7n.shift();if(!bLt7m){this.Qe6Y(2);this.hu3x()}else{u0x.cHW6Q(bLt7m,{onloaded:this.cGV6P.f0x(this),onerror:this.Qe6Y.f0x(this,3)})}};b0x.cGV6P=function(){if(j0x.gU3x(window.initNECaptcha)){this.Qe6Y(2);window.initNECaptcha({captchaId:this.mX5c.captchaId,element:this.hE3x,mode:"float",width:this.mX5c.width,onVerify:this.uW1x.f0x(this)},function(instance){this.fb2x=instance}.f0x(this),function(err){console.log("易盾sdk初始化失败",err)}.f0x(this))}};b0x.Qe6Y=function(bLr7k){this.btI3x=bLr7k;this.z0x("onloadstatechange",{loadState:bLr7k})};b0x.uW1x=function(err,data){if(err){return}setTimeout(this.cGT6N.f0x(this,data),0)};b0x.cGT6N=function(d0x){if(d0x.validate){this.cZ1x=d0x.validate}else{this.cZ1x=""}this.z0x("onverify",{success:true})};b0x.hu3x=function(){if(this.btI3x==2){if(this.fb2x&&j0x.gU3x(this.fb2x.refresh)){this.cZ1x="";this.fb2x.refresh()}}};b0x.My5D=function(){return this.cZ1x}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),y0x=c0x("nm.w"),b0x,L0x;n0x.HZ4d=NEJ.C();b0x=n0x.HZ4d.N0x(n0x.ee2x);L0x=n0x.HZ4d.ct1x;b0x.bo1x=function(e0x){this.bp1x(e0x);this.dw2x=e0x;this.cZ1x=y0x.btD3x.B0x({parent:this.Mz5E,captchaId:ctl.env.cHo6i("captchaId"),width:220,onverify:this.uW1x.f0x(this)})};b0x.bD1x=function(){this.bH1x();if(this.cZ1x){this.cZ1x.V0x();delete this.cZ1x}};b0x.cd1x=function(){this.cc1x="ntp-setnickname"};b0x.bV1x=function(){this.ch1x();var k0x=a0x.D0x(this.o0x,"js-flag");this.fj2x=k0x.shift();a0x.hc3x(this.fj2x,"holder");h0x.s0x(this.fj2x,"focus",this.gS3x.f0x(this));h0x.s0x(this.fj2x,"keypress",this.Hq4u.f0x(this));h0x.s0x(this.fj2x,"keyup",this.btW3x.f0x(this));this.Mz5E=k0x.shift();this.dX2x=k0x.shift();this.cw1x=k0x.shift();h0x.s0x(this.o0x,"click",this.bR1x.f0x(this))};b0x.I0x=function(){L0x.I0x.apply(this,arguments);this.bX1x(false);this.cQ1x(false);this.fj2x.value="";this.cZ1x.hu3x()};b0x.gS3x=function(){a0x.x0x(this.fj2x,"u-txt-err")};b0x.Hq4u=function(d0x){if(d0x.keyCode==13)this.ox5C()};b0x.bR1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(!G0x)return;var U0x=a0x.v0x(G0x,"action");switch(U0x){case"ok":this.ox5C(d0x);break}};b0x.ox5C=function(d0x){h0x.co1x(d0x);if(this.cQ1x())return;if(!(this.rI6C=this.bfd9U()))return;var jF4J=this.cZ1x.My5D();if(!jF4J.trim())return this.bX1x("请输入验证码","captcha");if(this.dw2x.onok){this.cQ1x(true);this.dw2x.onok({nickname:this.rI6C,dragPwd:jF4J})}};b0x.uW1x=function(d0x){if(d0x.success){this.bX1x(false);if(this.fj2x.value.trim()){this.ox5C()}}else{this.bX1x("验证码错误","captcha")}};b0x.bfd9U=function(){var jj3x=this.fj2x.value.trim(),oX5c=jj3x.replace(/[^\x00-\xff]/g,"**");if(!jj3x)return this.bX1x("请输入昵称","nickname");if(oX5c.length<4||oX5c.length>30)return this.bX1x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(!/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/.test(jj3x))return this.bX1x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");return jj3x};b0x.btW3x=function(d0x){var jj3x=this.fj2x.value.trim(),oX5c=jj3x.replace(/[^\x00-\xff]/g,"**");if(this.buc3x==jj3x)return;this.buc3x=jj3x;if(d0x.keyCode==13)return;if(/[^\u4e00-\u9fa5\w-]/.test(jj3x))return this.bX1x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(jj3x&&oX5c.length>30)return this.bX1x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");this.bX1x(false)};b0x.bX1x=function(bC1x,ja3x,cGR6L){this.ec2x(this.dX2x,bC1x);a0x.x0x(this.fj2x,"u-txt-err");if(ja3x=="nickname"){a0x.w0x(this.fj2x,"u-txt-err")}else if(ja3x=="captcha"){}if(cGR6L){this.cZ1x.hu3x()}};b0x.cQ1x=function(de1x){return this.eb2x(this.cw1x,de1x,"完成注册，开启云音乐","设置中...")}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.bug3x=NEJ.C();b0x=n0x.bug3x.N0x(n0x.ee2x);L0x=n0x.bug3x.ct1x;b0x.cd1x=function(){this.cc1x="ntp-setpassword"};b0x.bV1x=function(){this.ch1x();var Hj4n=a0x.D0x(this.o0x,"js-tip");this.cB1x=Hj4n[0];this.QB6v=Hj4n[1];this.QA6u=Hj4n[2];this.qS6M=a0x.D0x(this.o0x,"js-mob")[0];this.mY5d=a0x.D0x(this.o0x,"js-code")[0];this.dy2x=a0x.D0x(this.o0x,"js-input")[0];a0x.hc3x(this.dy2x,"holder");h0x.s0x(this.dy2x,"focus",this.gS3x.f0x(this));h0x.s0x(this.dy2x,"keypress",this.Hq4u.f0x(this));h0x.s0x(this.dy2x,"input",this.Qy6s.f0x(this));this.dX2x=a0x.D0x(this.o0x,"u-err")[0];this.cw1x=a0x.D0x(this.o0x,"js-primary")[0];this.zA2x=a0x.D0x(this.o0x,"js-btmbar")[0];this.oO5T=a0x.D0x(this.o0x,"pwd-validation")[0];this.Fb3x=a0x.D0x(this.oO5T,"j-err")[0];this.Ft3x=a0x.D0x(this.oO5T,"j-err")[1];this.CC2x=a0x.D0x(this.oO5T,"j-err")[2];h0x.s0x(this.o0x,"click",this.bR1x.f0x(this))};b0x.bo1x=function(e0x){e0x.countrycode=e0x.countrycode||"86";this.bp1x(e0x);this.dw2x=e0x;this.bX1x(false);this.cQ1x(false);if(e0x.tip){this.cB1x.innerHTML=e0x.tip;a0x.x0x(this.cB1x,"f-hide")}else{a0x.w0x(this.cB1x,"f-hide")}if(e0x.mobile){this.qS6M.innerHTML=l0x.Gj3x(e0x.mobile)||"";this.mY5d.innerHTML=e0x.countrycode;a0x.w0x(this.QA6u,"f-hide");a0x.x0x(this.QB6v,"f-hide")}else{a0x.w0x(this.QB6v,"f-hide");a0x.x0x(this.QA6u,"f-hide")}this.dy2x.value="";a0x.w0x(this.oO5T,"f-hide");e0x.okbutton=e0x.okbutton||"下一步";this.cw1x.innerHTML="<i>"+e0x.okbutton+"</i>";if(e0x.canskip){a0x.x0x(this.zA2x,"f-hide")}else{a0x.w0x(this.zA2x,"f-hide")}};b0x.bR1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(!G0x)return;var U0x=a0x.v0x(G0x,"action");switch(U0x){case"ok":this.ox5C(d0x);break;case"skip":this.ME5J(d0x);break}};b0x.gS3x=function(){a0x.x0x(this.oO5T,"f-hide");var eW2x=this.dy2x.value;this.yc1x(eW2x)};b0x.Hq4u=function(d0x){if(d0x.keyCode==13)this.ox5C()};b0x.Qy6s=function(){var eW2x=this.dy2x.value;this.yc1x(eW2x)};b0x.yc1x=function(pwd){var spaceReg=/(^\s+)|(\s+$)|\s+/g;var complexReg=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{0,100}$/;var spaceValidate=true;var complexValidate=true;var lengthValidate=true;if(spaceReg.test(pwd)){a0x.w0x(this.Fb3x,"u-err");spaceValidate=false}else{a0x.x0x(this.Fb3x,"u-err");spaceValidate=true}if(pwd&&pwd.length>0){this.bX1x(false)}if(!pwd||!complexReg.test(pwd)){a0x.w0x(this.Ft3x,"u-err");complexValidate=false}else{a0x.x0x(this.Ft3x,"u-err");complexValidate=true}if(!pwd||pwd&&(pwd.length<8||pwd.length>20)){a0x.w0x(this.CC2x,"u-err");lengthValidate=false}else{a0x.x0x(this.CC2x,"u-err");lengthValidate=true}var pwdValidate=spaceValidate&&complexValidate&&lengthValidate;if(!pwdValidate){this.HF4J=false;a0x.w0x(this.dy2x,"u-txt-err");a0x.w0x(this.cw1x,"u-btn2-dis")}else{this.HF4J=true;a0x.x0x(this.dy2x,"u-txt-err");a0x.x0x(this.cw1x,"u-btn2-dis")}return pwdValidate};b0x.ME5J=function(d0x){h0x.co1x(d0x);this.br1x();this.z0x("onskip")};b0x.ox5C=function(d0x){h0x.co1x(d0x);if(this.cQ1x())return;var eW2x=this.dy2x.value;if(!this.yc1x(eW2x))return;this.cQ1x(true);u0x.be1x("/api/w/user/bindingcellphone/v1",{type:"json",method:"post",query:{phone:this.dw2x.mobile,captcha:this.dw2x.captcha,password:j0x.kC4G(eW2x),loginprotect:false},onload:function(i0x){if(i0x.code===200){this.z0x("onok")}else{this.z0x("onerror",i0x)}}.f0x(this),onerror:function(){this.z0x("onerror",{code:500})}})};b0x.blJ0x=function(){var eW2x=this.dy2x.value;if(!eW2x)return this.bX1x("请输入密码","password");if(eW2x.length<6||eW2x.length>16)return this.bX1x("请输入6-16位的密码","password");if(/[^\x00-\xff]/.test(eW2x))return this.bX1x("密码不支持中文字符","password");return eW2x};b0x.bX1x=function(bC1x,ja3x){this.ec2x(this.dX2x,bC1x);a0x.x0x(this.dy2x,"u-txt-err");if(ja3x=="password"){a0x.w0x(this.dy2x,"u-txt-err")}};b0x.cQ1x=function(de1x){return this.eb2x(this.cw1x,de1x,this.dw2x.okbutton,"设置中...")}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),ci1x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;n0x.zF2x=NEJ.C();b0x=n0x.zF2x.N0x(ci1x.cP1x);b0x.bo1x=function(e0x){this.bp1x(e0x);this.dw2x=e0x;this.tb7U=e0x.user;this.S0x=p0x.mT5Y.B0x();this.S0x.s0x("onmobilebind",this.bnZ0x.f0x(this));this.S0x.s0x("onmobilebinderror",this.bfq9h.f0x(this));this.S0x.s0x("onactive",this.Qr6l.f0x(this));this.S0x.s0x("onactiveerror",this.bul3x.f0x(this));if(e0x.requiremobile&&!this.cGN6H(this.tb7U)){this.ed2x=n0x.ow5B.I0x({title:"绑定手机号",onok:this.bom0x.f0x(this),canskip:true,onskip:this.buq3x.f0x(this)})}else{this.buq3x()}l0x.jZ4d()};b0x.bD1x=function(){this.bH1x();this.S0x.V0x();if(this.ed2x)this.ed2x.V0x();if(this.nk5p)this.nk5p.V0x()};b0x.bom0x=function(bj1x){this.gi2x=bj1x.mobile;this.beX9O=bj1x.captcha;this.MC5H()};b0x.MC5H=function(){if(this.ed2x)this.ed2x.br1x();if(this.ky4C)this.ky4C.V0x();this.ky4C=n0x.bug3x.I0x({title:"绑定手机号",mobile:this.gi2x,captcha:this.beX9O,canskip:false,onok:this.buq3x.f0x(this),onerror:this.bfq9h.f0x(this)})};b0x.buq3x=function(){if(this.ky4C)this.ky4C.V0x();if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.beW9N={data:{nickname:"",dragPwd:""}};this.jc3x()}else{if(this.nk5p)this.nk5p.V0x();this.nk5p=n0x.HZ4d.I0x({title:"设置昵称",onok:this.cGM6G.f0x(this)})}};b0x.bnZ0x=function(){this.ed2x.br1x();this.MC5H()};b0x.bfq9h=function(bj1x){if(bj1x.code==506){this.ed2x.I0x();this.ky4C.br1x();this.ed2x.cQ1x(false);this.ed2x.bX1x(bj1x.message,"mobile")}else{n0x.ba1x.I0x({tip:bj1x.message||"绑定失败，请稍后重试",type:2})}};b0x.cGM6G=function(bj1x){this.beW9N={data:{nickname:bj1x.nickname,dragPwd:bj1x.dragPwd}};l0x.vZ1x(this.jc3x.f0x(this))};b0x.jc3x=function(cm1x){var randomStr=Math.random().toString(36).substr(2);this.beW9N.data.checkToken=cm1x||randomStr;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.beW9N.data.checkToken=""}this.S0x.bkG0x(this.beW9N)};b0x.Qr6l=function(bj1x){if(this.nk5p){this.nk5p.br1x()}this.tb7U.profile=bj1x.profile;h0x.z0x(window,"login",{user:this.tb7U})};b0x.bul3x=function(bj1x){this.nk5p.cQ1x(false);if(bj1x.code==505)return this.nk5p.bX1x("该昵称已被占用","nickname",true);if(bj1x.code==407)return this.nk5p.bX1x("该昵称包含关键词","nickname",true);if(bj1x.code==250)return this.nk5p.bX1x(bj1x.message||"登录异常","nickname",true);n0x.ba1x.I0x({tip:bj1x.message||"登录失败，请重试",type:2});this.nk5p.br1x()};b0x.cGN6H=function(dx2x){var uX1x=dx2x.bindings||[];return j0x.ds2x(uX1x,function(q0x){return q0x.type==1})>=0}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),b0x,L0x;n0x.Qz6t=NEJ.C();b0x=n0x.Qz6t.N0x(n0x.ee2x);L0x=n0x.Qz6t.ct1x;b0x.cd1x=function(){this.cc1x="ntp-reg-mobile"};b0x.bV1x=function(){this.ch1x();this.qS6M=a0x.D0x(this.o0x,"j-mob")[0];this.dy2x=a0x.D0x(this.o0x,"j-pwd")[0];this.oO5T=a0x.D0x(this.o0x,"pwd-validation")[0];this.nN5S=a0x.D0x(this.o0x,"j-nextstep")[0];this.Fb3x=a0x.D0x(this.oO5T,"j-err")[0];this.Ft3x=a0x.D0x(this.oO5T,"j-err")[1];this.CC2x=a0x.D0x(this.oO5T,"j-err")[2];this.dX2x=a0x.D0x(this.o0x,"j-err")[0];this.cw1x=a0x.D0x(this.o0x,"j-btn")[0];a0x.hc3x(this.dy2x,"holder");h0x.s0x(this.dy2x,"focus",this.zy2x.f0x(this));h0x.s0x(this.dy2x,"keypress",this.zx2x.f0x(this));h0x.s0x(this.dy2x,"input",this.Qy6s.f0x(this));h0x.s0x(this.o0x,"click",this.bR1x.f0x(this));this.HF4J=true};b0x.bo1x=function(e0x){this.bp1x(e0x);this.ki4m=y0x.bfc9T.B0x({parent:this.qS6M,phone:e0x.mobile,countrycode:e0x.countrycode,onpressenter:this.buH3x.f0x(this)});this.bX1x(false);this.cQ1x(false);a0x.w0x(this.oO5T,"f-hide");this.dy2x.value=""};b0x.bD1x=function(){this.bH1x();this.ki4m.V0x()};b0x.zy2x=function(){a0x.x0x(this.oO5T,"f-hide");var eW2x=this.dy2x.value;this.yc1x(eW2x)};b0x.Qy6s=function(){var eW2x=this.dy2x.value;this.yc1x(eW2x)};b0x.zx2x=function(d0x){if(d0x.keyCode==13)this.buH3x()};b0x.yc1x=function(pwd){var spaceReg=/(^\s+)|(\s+$)|\s+/g;var complexReg=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{0,100}$/;var spaceValidate=true;var complexValidate=true;var lengthValidate=true;if(spaceReg.test(pwd)){a0x.w0x(this.Fb3x,"u-err");spaceValidate=false}else{a0x.x0x(this.Fb3x,"u-err");spaceValidate=true}if(pwd&&pwd.length>0){this.bX1x(false)}if(!pwd||!complexReg.test(pwd)){a0x.w0x(this.Ft3x,"u-err");complexValidate=false}else{a0x.x0x(this.Ft3x,"u-err");complexValidate=true}if(!pwd||pwd&&(pwd.length<8||pwd.length>20)){a0x.w0x(this.CC2x,"u-err");lengthValidate=false}else{a0x.x0x(this.CC2x,"u-err");lengthValidate=true}var pwdValidate=spaceValidate&&complexValidate&&lengthValidate;if(!pwdValidate){this.HF4J=false;a0x.w0x(this.dy2x,"u-txt-err");a0x.w0x(this.nN5S,"u-btn2-dis")}else{this.HF4J=true;a0x.x0x(this.dy2x,"u-txt-err");a0x.x0x(this.nN5S,"u-btn2-dis")}};b0x.bR1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(!G0x)return;var U0x=a0x.v0x(G0x,"action");switch(U0x){case"ok":this.buH3x(d0x);break;case"back":this.bfm9d(d0x);break}};b0x.bfm9d=function(d0x){h0x.co1x(d0x);this.br1x();n0x.pR6L.I0x({title:"登录"})};b0x.buH3x=function(d0x){h0x.co1x(d0x);if(!this.HF4J)return;var gA3x=this.ty0x();if(!gA3x)return;this.cQ1x(true);this.z0x("onok",{mobile:gA3x.mobile,countrycode:gA3x.countrycode,password:gA3x.password})};b0x.ty0x=function(){var fv2x=this.ki4m.MA5F(),mA4E=this.ki4m.Qj6d(),eW2x=this.dy2x.value;if(!fv2x)return this.bX1x("请输入手机号","mobile");if(!eW2x)return this.bX1x("请输入登录密码","password");if(!l0x.Ak2x(fv2x,mA4E))return this.bX1x("请输入正确的手机号","mobile");if(eW2x.length<6||eW2x.length>16)return this.bX1x("请输入6-16位的密码","password");return{mobile:fv2x,password:eW2x,countrycode:mA4E}};b0x.bX1x=function(bC1x,ja3x){this.ec2x(this.dX2x,bC1x);this.ki4m.bfe9V();a0x.x0x(this.dy2x,"u-txt-err");if(ja3x=="mobile"){this.ki4m.bmz0x()}else if(ja3x=="password"){a0x.w0x(this.dy2x,"u-txt-err")}};b0x.cQ1x=function(de1x){return this.eb2x(this.cw1x,de1x,"下一步","发送中...")}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),b0x,L0x;n0x.beU9L=NEJ.C();b0x=n0x.beU9L.N0x(n0x.ee2x);L0x=n0x.beU9L.ct1x;b0x.cd1x=function(){this.cc1x="ntp-reg-setting"};b0x.bV1x=function(){this.ch1x();this.cB1x=a0x.D0x(this.o0x,"js-tip")[0];this.iR3x=a0x.D0x(this.o0x,"js-input")[0];a0x.hc3x(this.iR3x,"holder");h0x.s0x(this.iR3x,"focus",this.cGG6A.f0x(this));h0x.s0x(this.iR3x,"keypress",this.cGz6t.f0x(this));h0x.s0x(this.iR3x,"keyup",this.btW3x.f0x(this));this.dX2x=a0x.D0x(this.o0x,"u-err")[0];this.cw1x=a0x.D0x(this.o0x,"js-primary")[0];h0x.s0x(this.o0x,"click",this.bR1x.f0x(this));l0x.jZ4d()};b0x.bo1x=function(e0x){this.bp1x(e0x);this.gi2x=e0x.mobile||"";this.fI2x=e0x.countrycode||"86";this.ur0x=e0x.password||"";this.cGy6s=e0x.captcha||"";if(e0x.tip){this.cB1x.innerHTML=e0x.tip}this.bX1x(false);this.cQ1x(false);this.iR3x.value="";this.S0x=p0x.mT5Y.B0x({onmobileregist:this.QJ6D.f0x(this),onmobileregisterror:this.jp3x.f0x(this)})};b0x.bD1x=function(){this.bH1x();this.S0x.V0x();if(this.cZ1x){this.cZ1x.V0x();delete this.cZ1x}};b0x.bR1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(!G0x)return;var U0x=a0x.v0x(G0x,"action");switch(U0x){case"ok":this.QK6E(d0x);break}};b0x.cGG6A=function(){a0x.x0x(this.iR3x,"u-txt-err")};b0x.cGz6t=function(d0x){if(d0x.keyCode==13)this.QK6E()};b0x.QK6E=function(d0x){h0x.co1x(d0x);if(this.cQ1x())return;var gA3x=this.ty0x();if(!gA3x)return;var i0x={phone:this.gi2x,countrycode:this.fI2x,password:j0x.kC4G(this.ur0x),nickname:gA3x.nickname,captcha:this.cGy6s};this.cQ1x(true);this.bLn7g=i0x;l0x.vZ1x(this.jc3x.f0x(this))};b0x.jc3x=function(cm1x){var randomStr=Math.random().toString(36).substr(2);this.bLn7g.checkToken=cm1x||randomStr;this.S0x.beG0x({data:this.bLn7g})};b0x.QJ6D=function(m0x){this.cQ1x(false);this.br1x();localCache.me4i("user",m0x);h0x.z0x(window,"login",{user:m0x})};b0x.jp3x=function(bj1x){this.cQ1x(false);if(bj1x.code==415){if(this.cZ1x){this.cZ1x.V0x();this.bX1x("注册过于频繁","captcha")}this.cZ1x=y0x.PS6M.B0x({captchaId:bj1x.captchaId,txt:"txt-login-captcha",onaction:this.QK6E.f0x(this)});this.dX2x.insertAdjacentElement("beforeBegin",this.cZ1x.mr4v());return}if(bj1x.code==505)return this.bX1x("该昵称已被占用","nickname");if(bj1x.code==407)return this.bX1x("该昵称包含关键词","nickname");if(bj1x.code==250){this.bX1x(bj1x.message||"注册异常");return}if(bj1x.message){this.bX1x(bj1x.message)}else{n0x.ba1x.I0x({tip:"注册失败，请重试",type:2})}};b0x.ty0x=function(){var jj3x=this.iR3x.value.trim(),oX5c=jj3x.replace(/[^\x00-\xff]/g,"**"),jF4J="";if(!jj3x)return this.bX1x("请输入昵称","nickname");if(this.cZ1x){jF4J=this.cZ1x.gk2x();if(!jF4J)return this.bX1x("请输入验证码","captcha");var bx1x=this.cZ1x.IC4G();if(!bx1x.success){return this.bX1x(bx1x.message,"captcha")}}if(oX5c.length<4||oX5c.length>30)return this.bX1x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(!/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/.test(jj3x))return this.bX1x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");return{nickname:jj3x,captcha:jF4J}};b0x.btW3x=function(d0x){var jj3x=this.iR3x.value.trim(),oX5c=jj3x.replace(/[^\x00-\xff]/g,"**");if(this.buc3x==jj3x)return;this.buc3x=jj3x;if(d0x.keyCode==13)return;if(/[^\u4e00-\u9fa5\w-]/.test(jj3x))return this.bX1x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(jj3x&&oX5c.length>30)return this.bX1x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");this.bX1x(false)};b0x.bX1x=function(bC1x,ja3x){this.ec2x(this.dX2x,bC1x);a0x.x0x(this.iR3x,"u-txt-err");if(this.cZ1x)this.cZ1x.x0x("u-txt-err");if(ja3x=="nickname"){a0x.w0x(this.iR3x,"u-txt-err")}else if(ja3x=="captcha"){if(this.cZ1x)this.cZ1x.w0x("u-txt-err")}};b0x.cQ1x=function(de1x){return this.eb2x(this.cw1x,de1x,"完成注册，开启云音乐","设置中...")}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),ci1x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};n0x.beJ0x=NEJ.C();b0x=n0x.beJ0x.N0x(ci1x.cP1x);b0x.bo1x=function(e0x){e0x=e0x||{};this.bp1x(e0x);this.S0x=p0x.mT5Y.B0x({onsendcaptcha:this.sf6Z.f0x(this),onsendcaptchaerror:this.GZ4d.f0x(this),onmobilecheck:this.QN6H.f0x(this),onmobilecheckerror:this.QO6I.f0x(this),onmobileregist:this.QJ6D.f0x(this),onmobileregisterror:this.beI0x.f0x(this)});this.AU2x=n0x.Qz6t.I0x({title:"手机号注册",onok:this.ML5Q.f0x(this)})};b0x.bD1x=function(){this.bH1x();this.S0x.V0x();if(this.AU2x)this.AU2x.V0x();if(this.ed2x)this.ed2x.V0x()};b0x.ML5Q=function(bj1x){this.gi2x=bj1x.mobile;this.fI2x=bj1x.countrycode;this.ur0x=bj1x.password;this.S0x.AV2x({data:{ctcode:this.fI2x,cellphone:bj1x.mobile}})};b0x.sf6Z=function(){this.AU2x.br1x();this.ed2x=n0x.ow5B.I0x({title:"手机号注册",mobile:this.gi2x,countrycode:this.fI2x,okbutton:"下一步",onok:this.bve4i.f0x(this),backbutton:"&lt;&nbsp;&nbsp;返回登录",onback:this.bvf4j.f0x(this)})};b0x.GZ4d=function(bj1x){this.AU2x.cQ1x(false);n0x.ba1x.I0x({tip:bj1x.message||"验证码发送失败",type:2})};b0x.bve4i=function(bj1x){this.gi2x=bj1x.mobile;this.fI2x=bj1x.countrycode;this.cZ1x=bj1x.captcha;this.S0x.bkB0x({data:{cellphone:bj1x.mobile,captcha:bj1x.captcha,countrycode:bj1x.countrycode}})};b0x.QN6H=function(bj1x){this.ed2x.br1x();switch(bj1x.exist){case MOB_CHECK.NULL:if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.jc3x()}else{n0x.beU9L.I0x({title:"手机号注册",mobile:this.gi2x,countrycode:this.fI2x,password:this.ur0x,captcha:this.cZ1x})}break;case MOB_CHECK.MAIN:case MOB_CHECK.SNS:case MOB_CHECK.NETEASE:this.Ha4e();break}};b0x.QO6I=function(bj1x){n0x.ba1x.I0x({tip:bj1x.message||"验证码发送失败",type:2})};b0x.QJ6D=function(bj1x){localCache.me4i("user",bj1x);if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){h0x.z0x(window,"login",{user:bj1x})}else{if(!bj1x.profile){if(this.ln4r)this.ln4r.V0x();this.ln4r=n0x.zF2x.B0x({user:bj1x,requiremobile:false,onsuccess:this.tP0x.f0x(this)})}else{l0x.dV2x({clazz:"m-layer-w2",title:"手机号注册",message:'该手机号已与云音乐帐号 <strong class="s-fc1">'+j0x.dN2x(bj1x.profile.nickname)+"</strong> 绑定，<br/><br/>以后你可以直接用该手机号+密码登录",btntxt:"知道了",action:h0x.z0x.f0x(h0x,window,"login",{user:bj1x}),onclose:h0x.z0x.f0x(h0x,window,"login",{user:bj1x})})}}};b0x.tP0x=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.beI0x=function(bj1x){if(bj1x.code==415){l0x.bLw7p({captchaId:bj1x.captchaId,ondestroy:this.Ha4e.f0x(this)})}else{n0x.ba1x.I0x({tip:bj1x.message||"注册失败，请重试",type:2})}};b0x.bvf4j=function(){this.ed2x.br1x();n0x.pR6L.I0x({title:"登录"})};b0x.jc3x=function(cm1x){var randomStr=Math.random().toString(36).substr(2);var checkToken=cm1x||randomStr;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.S0x.beG0x({data:{phone:this.gi2x,countrycode:this.fI2x,password:j0x.kC4G(this.ur0x),captcha:this.cZ1x,nickname:"",checkToken:""}})}else{this.S0x.beG0x({data:{phone:this.gi2x,countrycode:this.fI2x,password:j0x.kC4G(this.ur0x),captcha:this.cZ1x,checkToken:checkToken}})}};b0x.Ha4e=function(){l0x.vZ1x(this.jc3x.f0x(this))}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),ci1x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};n0x.bLl7e=NEJ.C();b0x=n0x.bLl7e.N0x(ci1x.cP1x);b0x.bo1x=function(e0x){e0x=e0x||{};this.bp1x(e0x);this.S0x=p0x.mT5Y.B0x({onsendcaptcha:this.sf6Z.f0x(this),onsendcaptchaerror:this.GZ4d.f0x(this),onmobilecheck:this.QN6H.f0x(this),onmobilecheckerror:this.QO6I.f0x(this),onmobileregist:this.QJ6D.f0x(this),onmobileregisterror:this.beI0x.f0x(this)});this.AU2x=n0x.Qz6t.I0x({title:"重设密码",mobile:e0x.mobile||"",countrycode:e0x.countrycode,onok:this.ML5Q.f0x(this)})};b0x.bD1x=function(){this.bH1x();this.S0x.V0x();if(this.AU2x)this.AU2x.V0x();if(this.ed2x)this.ed2x.V0x()};b0x.ML5Q=function(bj1x){this.gi2x=bj1x.mobile;this.fI2x=bj1x.countrycode;this.ur0x=bj1x.password;this.S0x.AV2x({data:{ctcode:bj1x.countrycode,cellphone:bj1x.mobile}})};b0x.sf6Z=function(){this.AU2x.br1x();this.ed2x=n0x.ow5B.I0x({title:"重设密码",mobile:this.gi2x,countrycode:this.fI2x,okbutton:"下一步",onok:this.bve4i.f0x(this),backbutton:"&lt;&nbsp;&nbsp;返回登录",onback:this.bvf4j.f0x(this),onerror:this.beI0x.f0x(this)})};b0x.GZ4d=function(bj1x){this.AU2x.cQ1x(false);n0x.ba1x.I0x({tip:bj1x.message||"验证码发送失败",type:2})};b0x.bve4i=function(bj1x){this.gi2x=bj1x.mobile;this.fI2x=bj1x.countrycode;this.cZ1x=bj1x.captcha;this.S0x.bkB0x({data:{cellphone:bj1x.mobile,captcha:bj1x.captcha,countrycode:bj1x.countrycode}})};b0x.QN6H=function(bj1x){this.ed2x.br1x();switch(bj1x.exist){case MOB_CHECK.NULL:n0x.beU9L.I0x({title:"设置昵称",tip:"该手机号尚未注册，取一个昵称，马上开通",mobile:this.gi2x,countrycode:this.fI2x,password:this.ur0x,captcha:this.cZ1x});break;case MOB_CHECK.MAIN:case MOB_CHECK.SNS:case MOB_CHECK.NETEASE:l0x.vZ1x(this.jc3x.f0x(this));break}};b0x.jc3x=function(cm1x){var randomStr=Math.random().toString(36).substr(2);var checkToken=cm1x||randomStr;this.S0x.beG0x({data:{phone:this.gi2x,countrycode:this.fI2x,password:j0x.kC4G(this.ur0x),captcha:this.cZ1x,checkToken:checkToken}})};b0x.QO6I=function(bj1x){n0x.ba1x.I0x({tip:bj1x.message||"验证码发送失败",type:2})};b0x.bvf4j=function(){this.ed2x.br1x();n0x.pR6L.I0x({title:"登录"})};b0x.QJ6D=function(m0x){localCache.me4i("user",m0x);if(!m0x.profile){if(this.ln4r)this.ln4r.V0x();this.ln4r=n0x.zF2x.B0x({user:m0x,requiremobile:false,onsuccess:this.tP0x.f0x(this)})}else{h0x.z0x(window,"login",{user:m0x})}};b0x.tP0x=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.beI0x=function(m0x){if(m0x.code==415){l0x.bLw7p({captchaId:m0x.captchaId,ondestroy:function(){l0x.vZ1x(this.jc3x.f0x(this))}.f0x(this)})}else{n0x.ba1x.I0x({tip:"重设密码失败，请重试",type:2})}}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.QV6P=NEJ.C();b0x=n0x.QV6P.N0x(n0x.ee2x);L0x=n0x.QV6P.ct1x;b0x.cd1x=function(){this.cc1x="ntp-loginverify"};b0x.bV1x=function(){this.ch1x();this.sZ7S=a0x.D0x(this.o0x,"js-flag")[0];this.bLk7d=a0x.D0x(this.o0x,"js-mobile")[0];this.dX2x=a0x.D0x(this.o0x,"u-err")[0];h0x.s0x(this.o0x,"click",this.bR1x.f0x(this))};b0x.bo1x=function(e0x){this.bp1x(e0x);this.gi2x=e0x.mobile||"";this.fI2x=e0x.countrycode||"86";this.bvl4p=e0x.loginType;this.dw2x=e0x;if(this.bLk7d){this.bLk7d.innerHTML="+"+this.fI2x+" "+this.gi2x}this.S0x=p0x.mT5Y.B0x({onsafecaptcha:this.sf6Z.f0x(this),onsafecaptchaerror:this.GZ4d.f0x(this),onloginverify:this.QX6R.f0x(this),onloginverifyerror:this.PO6I.f0x(this),onrelogin:this.xH1x.f0x(this),onreloginerror:this.bvr4v.f0x(this)})};b0x.bR1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(!G0x)return;var U0x=a0x.v0x(G0x,"action");switch(U0x){case"ok":this.cGd6X();break;default:break}};b0x.cGd6X=function(){if(!this.gi2x)return;this.S0x.bkX0x({})};b0x.sf6Z=function(){this.br1x();this.ed2x=n0x.ow5B.I0x({title:"网易云音乐",mobile:this.gi2x,countrycode:this.fI2x,okbutton:"完成",noVerifyMobile:true,onverify:this.cGc6W.f0x(this)})};b0x.GZ4d=function(bj1x){n0x.ba1x.I0x({tip:bj1x.message||"验证码发送失败",type:2})};b0x.cGc6W=function(i0x){var hA3x={captcha:i0x.captcha};this.S0x.bSn9e({data:hA3x})};b0x.QX6R=function(){this.ed2x.br1x();this.z0x("onok");this.S0x.bSl9c({data:{usertype:this.bvl4p}})};b0x.PO6I=function(bj1x){this.z0x("onerror",bj1x);this.ed2x.bX1x(bj1x.message||"验证失败");this.ed2x.cQ1x(false)};b0x.xH1x=function(bj1x){localCache.me4i("user",bj1x);if(!bj1x.profile){if(this.ln4r)this.ln4r.V0x();this.ln4r=n0x.zF2x.B0x({user:bj1x,requiremobile:false,onsuccess:this.tP0x.f0x(this)})}else{h0x.z0x(window,"login",{user:bj1x})}};b0x.tP0x=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.bvr4v=function(bj1x){this.z0x("onerror",bj1x);n0x.ba1x.I0x({tip:bj1x.message||"登录失败",type:2})}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),b0x,L0x;n0x.GC4G=NEJ.C();b0x=n0x.GC4G.N0x(n0x.ee2x);L0x=n0x.GC4G.ct1x;b0x.cd1x=function(){this.cc1x="ntp-login-mobile"};b0x.bV1x=function(){this.ch1x();this.qS6M=a0x.D0x(this.o0x,"j-mob")[0];this.dy2x=a0x.D0x(this.o0x,"j-pwd")[0];this.dX2x=a0x.D0x(this.o0x,"j-err")[0];this.Rb6V=a0x.D0x(this.o0x,"j-auto")[0];this.cw1x=a0x.D0x(this.o0x,"j-primary")[0];a0x.hc3x(this.dy2x,"holder");h0x.s0x(this.dy2x,"focus",this.zy2x.f0x(this));h0x.s0x(this.dy2x,"keypress",this.zx2x.f0x(this));h0x.s0x(this.o0x,"click",this.bR1x.f0x(this))};b0x.bo1x=function(e0x){this.bp1x(e0x);this.ki4m=y0x.bfc9T.B0x({parent:this.qS6M,onpressenter:this.hZ3x.f0x(this)});this.S0x=p0x.mT5Y.B0x();this.S0x.s0x("onmobilelogin",this.xH1x.f0x(this));this.S0x.s0x("onmobileloginerror",this.jp3x.f0x(this))};b0x.bD1x=function(){this.bH1x();this.ki4m.V0x();this.S0x.V0x();if(this.cZ1x){this.cZ1x.V0x();delete this.cZ1x}if(this.za2x)this.za2x.V0x()};b0x.I0x=function(){L0x.I0x.apply(this,arguments);this.bX1x(false);this.cQ1x(false);this.ki4m.Vr7k();this.dy2x.value="";this.Rb6V.checked=true;l0x.jZ4d()};b0x.zy2x=function(){a0x.x0x(this.dy2x,"u-txt-err")};b0x.zx2x=function(d0x){if(d0x.keyCode==13)this.hZ3x()};b0x.bR1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(!G0x)return;var U0x=a0x.v0x(G0x,"action");switch(U0x){case"login":this.hZ3x(d0x);break;case"forget":h0x.bg1x(d0x);this.br1x();n0x.bLl7e.B0x({countrycode:this.ki4m.Qj6d(),mobile:this.ki4m.MA5F()});break;case"select":this.bvz4D(d0x);break;case"reg":this.cGb6V(d0x);break}};b0x.hZ3x=function(d0x){h0x.co1x(d0x);if(this.cQ1x())return;var gA3x=this.ty0x();if(!gA3x)return;if(!this.Rf6Z())return;if(this.cZ1x){this.cZ1x.V0x();delete this.cZ1x}var i0x={countrycode:gA3x.countrycode,phone:gA3x.mobile,password:j0x.kC4G(gA3x.password),rememberLogin:this.Rb6V.checked};this.cQ1x(true);this.bX1x(false);this.Gw3x=i0x;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.Gw3x.checkToken="";this.S0x.bSv9m({data:this.Gw3x})}else{l0x.vZ1x(this.jc3x.f0x(this))}};b0x.jc3x=function(cm1x){var randomStr=Math.random().toString(36).substr(2);this.Gw3x.checkToken=cm1x||randomStr;this.S0x.bSv9m({data:this.Gw3x})};b0x.xH1x=function(m0x){this.cQ1x(false);this.br1x();localCache.me4i("user",m0x);if(!m0x.profile){if(this.ln4r)this.ln4r.V0x();this.ln4r=n0x.zF2x.B0x({user:m0x,requiremobile:false,onsuccess:this.tP0x.f0x(this)})}else{u0x.be1x("/api/user/grabed/status/get",{method:"GET",cookie:true,type:"json",onload:function(resp){if(resp.data&&resp.data.grabed){l0x.hn3x({title:"更换手机号",btncc:"知道了",okstyle:"f-hide",message:"您绑定的手机号已被其他账号绑定，为保护账号安全，将强制退出您在网页端的登陆状态，请在云音乐手机端尽快绑定新的手机号。",action:top.logout})}else{h0x.z0x(window,"login",{user:m0x})}},onerror:function(){console.log("[请求出错]:/api/user/grabed/status/get");top.logout()}})}};b0x.tP0x=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.jp3x=function(bj1x){this.cQ1x(false);if(bj1x.code==415){if(this.cZ1x)this.cZ1x.V0x();this.cZ1x=y0x.PS6M.B0x({captchaId:bj1x.captchaId,txt:"txt-login-captcha",onaction:this.hZ3x.f0x(this)});this.dX2x.insertAdjacentElement("beforeBegin",this.cZ1x.mr4v());return}if(bj1x.code==501){this.bX1x("该手机号尚未注册","mobile");return}if(bj1x.code==10002||bj1x.code==502||bj1x.code==501){this.bX1x("手机号或密码错误");return}if(bj1x.code==250){this.bX1x(bj1x.message||"登录异常");return}if(bj1x.code==702){this.br1x();var dp2x=bj1x.ext;this.bLj7c=n0x.QV6P.I0x({title:"网易云音乐",mobile:dp2x.phone,countrycode:dp2x.countrycode,loginType:dp2x.loginType});return}if(bj1x.message){this.bX1x(bj1x.message)}else{n0x.ba1x.I0x({tip:"登录失败，请重试",type:2})}};b0x.bvz4D=function(d0x){h0x.bg1x(d0x);n0x.pR6L.I0x({title:"登录"})};b0x.cGb6V=function(d0x){h0x.bg1x(d0x);this.br1x();if(this.za2x)this.za2x.V0x();this.za2x=n0x.beJ0x.B0x()};b0x.ty0x=function(){var fv2x=this.ki4m.MA5F(),mA4E=this.ki4m.Qj6d(),eW2x=this.dy2x.value;if(!fv2x)return this.bX1x("请输入手机号","mobile");if(!eW2x)return this.bX1x("请输入登录密码","password");if(!l0x.Ak2x(fv2x,mA4E))return this.bX1x("请输入正确的手机号","mobile");return{mobile:fv2x,countrycode:mA4E,password:eW2x}};b0x.Rf6Z=function(){if(!this.cZ1x)return true;var bx1x=this.cZ1x.IC4G();if(bx1x.success)return true;this.bX1x(bx1x.message,"captcha");return false};b0x.bX1x=function(bC1x,ja3x){this.ec2x(this.dX2x,bC1x);this.ki4m.bfe9V();a0x.x0x(this.dy2x,"u-txt-err");if(this.cZ1x)this.cZ1x.x0x("u-txt-err");if(ja3x=="mobile"){this.ki4m.bmz0x()}else if(ja3x=="password"){a0x.w0x(this.dy2x,"u-txt-err")}else if(ja3x=="captcha"){if(this.cZ1x)this.cZ1x.w0x("u-txt-err")}};b0x.cQ1x=function(de1x){return this.eb2x(this.cw1x,de1x,"登　录","登录中...")}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dr2x=c0x("nej.p"),P0x=c0x("nej.ut"),qQ6K,cFN6H;if(!!P0x.Gt3x)return;P0x.Gt3x=NEJ.C();qQ6K=P0x.Gt3x.N0x(P0x.cP1x);cFN6H=P0x.Gt3x.ct1x;qQ6K.bo1x=function(e0x){this.bp1x(e0x);this.o0x=a0x.A0x(e0x.body);this.ew2x=a0x.A0x(e0x.input);this.lH4L=e0x.selected||"js-selected";this.cu1x=0;this.bY1x([[this.ew2x,"input",this.fa2x.f0x(this)],[this.ew2x,"blur",this.bvK4O.f0x(this,"blur")],[this.o0x,"mouseover",this.HH4L.f0x(this)],[this.o0x,"click",this.cA1x.f0x(this)],[document,"keydown",this.cFH6B.f0x(this)],[document,"keypress",this.bvM4Q.f0x(this)]]);if(dr2x.dB2x.release=="5.0"){this.bY1x([[this.ew2x,"keydown",this.bLi7b.f0x(this)],[this.ew2x,"keyup",this.bLi7b.f0x(this)]])}};qQ6K.bD1x=function(){this.bH1x();this.bLh7a();delete this.lH4L;delete this.ew2x;delete this.o0x;delete this.bLg7Z;delete this.bvR4V};qQ6K.cFa6U=function(G0x){return G0x.flag!=null};qQ6K.bLh7a=function(){var cEW6Q=function(g0x){j0x.bfN9E(g0x,"flag")};return function(){j0x.bf1x(this.bW1x,cEW6Q);delete this.bW1x;delete this.cu1x}}();qQ6K.bvU4Y=function(r0x){if(this.cu1x===r0x)return;this.cu1x=r0x;a0x.w0x(this.bW1x[this.cu1x],this.lH4L)};qQ6K.bLf7Y=function(r0x){if(this.cu1x!==r0x)return;a0x.x0x(this.bW1x[this.cu1x],this.lH4L);delete this.cu1x};qQ6K.bvK4O=function(t0x){this.bwa4e=setTimeout(function(){if(!this.bW1x)return;var q0x=this.bW1x[this.cu1x]||this.bW1x[0],C0x=a0x.v0x(q0x,"value")||q0x.innerText;this.ew2x.value=C0x;this.lA4E();this.bvR4V=!0;this.z0x("onselect",C0x,{type:t0x});this.bvR4V=!1}.f0x(this),t0x=="blur"?200:0)};qQ6K.fa2x=function(){var C0x=this.ew2x.value.trim();if(!C0x){this.lA4E()}else{if(this.bvR4V)return;this.z0x("onchange",C0x)}};qQ6K.HH4L=function(d0x){var G0x=h0x.Z1x(d0x,this.cFa6U);if(!!G0x){this.bLf7Y(this.cu1x);this.bvU4Y(G0x.flag)}};qQ6K.cA1x=function(){if(this.bwa4e){this.bwa4e=clearTimeout(this.bwa4e)}this.bvK4O("click")};qQ6K.cFH6B=function(d0x){var fG2x=0,cf1x=d0x.keyCode;if(cf1x==38)fG2x=-1;if(cf1x==40)fG2x=1;if(!fG2x)return;h0x.bg1x(d0x);var r0x=Math.max(0,Math.min(this.cu1x+fG2x,this.bW1x.length-1));if(r0x===this.cu1x)return;this.bLf7Y(this.cu1x);this.bvU4Y(r0x)};qQ6K.bvM4Q=function(d0x){var t0x="enter";if(d0x.keyCode==13)this.bvK4O(t0x)};qQ6K.bLi7b=function(d0x){if(d0x.type=="keydown"){this.bLg7Z=this.ew2x.value}else if(this.bLg7Z!=this.ew2x.value&&!!this.bW1x){this.fa2x()}};qQ6K.lA4E=function(){var cET6N=function(g0x,r0x){g0x.flag=r0x};return function(k0x){this.bLh7a();if(!k0x||!k0x.length){this.o0x.style.visibility="hidden";return this}this.bW1x=k0x;var r0x=j0x.ds2x(this.bW1x,function(g0x){return a0x.bE1x(g0x,this.lH4L)});this.bvU4Y(Math.max(0,r0x));j0x.bf1x(this.bW1x,cET6N);this.o0x.style.visibility="visible";return this}}()})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),H0x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),n0x=c0x("nm.l"),b0x,L0x;if(n0x.CF3x)return;n0x.CF3x=NEJ.C();b0x=n0x.CF3x.N0x(n0x.ee2x);L0x=n0x.CF3x.ct1x;b0x.bo1x=function(e0x){this.bp1x(e0x);this.S0x=p0x.mT5Y.B0x();this.S0x.s0x("onlogin",this.xH1x.f0x(this));this.S0x.s0x("onloginerror",this.jp3x.f0x(this))};b0x.bD1x=function(){this.bH1x();if(this.cZ1x){this.cZ1x.V0x();delete this.cZ1x}this.bLe7X()};b0x.cd1x=function(){this.cc1x="ntp-login-netease"};b0x.bV1x=function(){this.ch1x();var cY1x=a0x.D0x(this.o0x,"js-input");this.iR3x=cY1x[0];this.dy2x=cY1x[1];a0x.hc3x(this.iR3x,"holder");a0x.hc3x(this.dy2x,"holder");h0x.s0x(this.iR3x,"focus",this.bwf4j.f0x(this));h0x.s0x(this.dy2x,"focus",this.zy2x.f0x(this));h0x.s0x(this.dy2x,"keypress",this.zx2x.f0x(this));this.xe1x=a0x.D0x(this.o0x,"js-suggest")[0];this.xb1x=H0x.Gt3x.B0x({body:this.xe1x,input:this.iR3x,onchange:this.FM3x.f0x(this),onselect:this.FL3x.f0x(this)});this.dX2x=a0x.D0x(this.o0x,"u-err")[0];this.Rb6V=a0x.D0x(this.o0x,"u-auto")[0];this.cw1x=a0x.D0x(this.o0x,"js-primary")[0];this.cEO6I=a0x.D0x(this.o0x,"js-captcha")[0];this.Mz5E=a0x.D0x(this.o0x,"js-scaptcha")[0];h0x.s0x(this.o0x,"click",this.bR1x.f0x(this))};b0x.I0x=function(){L0x.I0x.apply(this,arguments);this.bX1x(false);this.cQ1x(false);this.iR3x.value="";this.dy2x.value="";this.Rb6V.checked=true;this.bLd7W()};b0x.bLd7W=function(){if(this.qB6v){this.qB6v.hu3x()}l0x.jZ4d()};b0x.bLe7X=function(){if(this.qB6v){this.qB6v.V0x();delete this.qB6v;this.Mz5E.style.marginTop="0";this.Mz5E.style.display="none"}};b0x.bwf4j=function(){a0x.x0x(this.iR3x,"u-txt-err")};b0x.zy2x=function(){a0x.x0x(this.dy2x,"u-txt-err")};b0x.zx2x=function(d0x){if(d0x.keyCode==13)this.hZ3x()};b0x.bR1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(!G0x)return;var U0x=a0x.v0x(G0x,"action");switch(U0x){case"login":this.hZ3x(d0x);break;case"suggest":this.bww5B(d0x);break;case"select":this.bvz4D(d0x);break}};b0x.bww5B=function(d0x){var g0x=h0x.Z1x(d0x);if(g0x.href){h0x.co1x(d0x)}};b0x.FM3x=function(C0x){if(!C0x)return this.xb1x.lA4E([]);var lI4M=["163.com","126.com","yeah.net","vip.163.com","vip.126.com","188.com"];var ih3x=C0x.indexOf("@"),i,jA3x;if(ih3x<0){for(i=0,jA3x=[];i<lI4M.length;++i){jA3x.push(C0x+"@"+lI4M[i])}}else{var jE4I=C0x.substring(ih3x+1),bt1x=jE4I.length;for(i=0,jA3x=[];i<lI4M.length;++i){if(lI4M[i].substr(0,bt1x)==jE4I){jA3x.push(C0x.substring(0,ih3x)+"@"+lI4M[i])}}}this.xe1x.innerHTML=a0x.cb1x("jst-login-suggest",{suggests:jA3x},{escape:j0x.dN2x});this.xb1x.lA4E(a0x.dg1x(this.xe1x))};b0x.FL3x=function(C0x){this.iR3x.value=C0x;this.dy2x.focus()};b0x.hZ3x=function(d0x){h0x.co1x(d0x);if(this.cQ1x())return;var gA3x=this.ty0x();if(!gA3x)return;if(!this.Rf6Z())return;if(this.cZ1x){this.cZ1x.V0x();delete this.cZ1x}var i0x={username:gA3x.username,password:j0x.kC4G(gA3x.password),rememberLogin:this.Rb6V.checked};var jF4J="";if(this.qB6v){jF4J=this.qB6v.My5D();if(!jF4J.trim()){this.bX1x("拖动验证码错误");return}i0x.dragPwd=jF4J}this.cQ1x(true);this.bX1x(false);this.Gw3x=i0x;l0x.vZ1x(this.jc3x.f0x(this))};b0x.jc3x=function(cm1x){var randomStr=Math.random().toString(36).substr(2);this.Gw3x.checkToken=cm1x||randomStr;this.S0x.JK4O({data:this.Gw3x})};b0x.xH1x=function(m0x){this.cQ1x(false);this.br1x();localCache.me4i("user",m0x);if(!m0x.profile){if(this.ln4r)this.ln4r.V0x();this.ln4r=n0x.zF2x.B0x({user:m0x,requiremobile:true,onsuccess:this.tP0x.f0x(this)})}else{h0x.z0x(window,"login",{user:m0x})}};b0x.tP0x=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.jp3x=function(bj1x){this.cQ1x(false);if(bj1x.code==415){if(this.cZ1x)this.cZ1x.V0x();this.cZ1x=y0x.PS6M.B0x({captchaId:bj1x.captchaId,txt:"txt-login-captcha",onaction:this.hZ3x.f0x(this)});this.cEO6I.appendChild(this.cZ1x.mr4v());return}if(bj1x.code==10002||bj1x.code==502||bj1x.code==501){this.bX1x("帐号或密码错误");return}if(bj1x.code==250){this.bX1x(bj1x.message||"登录异常");return}if(bj1x.code==702){this.br1x();var dp2x=bj1x.ext;this.bLj7c=n0x.QV6P.I0x({title:"网易云音乐",mobile:dp2x.phone,countrycode:dp2x.countrycode,loginType:dp2x.loginType});return}if(bj1x.message){this.bX1x(bj1x.message)}else{n0x.ba1x.I0x({tip:"登录失败，请重试",type:2})}};b0x.uW1x=function(d0x){if(d0x.success){this.bX1x(false);var lS4W=this.iR3x.value.trim(),eW2x=this.dy2x.value;if(lS4W&&eW2x){this.hZ3x()}}else{this.bX1x("拖动验证码错误")}};b0x.bvz4D=function(d0x){h0x.bg1x(d0x);n0x.pR6L.I0x({title:"登录"})};b0x.ty0x=function(){var lS4W=this.iR3x.value.trim(),eW2x=this.dy2x.value;if(!lS4W){this.bX1x("请输入邮箱帐号","username");return null}if(!eW2x){this.bX1x("请输入登录密码","password");return null}this.bX1x(false);return{username:lS4W,password:eW2x}};b0x.bX1x=function(bC1x,ja3x){this.ec2x(this.dX2x,bC1x);a0x.x0x(this.iR3x,"u-txt-err");a0x.x0x(this.dy2x,"u-txt-err");if(this.cZ1x)this.cZ1x.x0x("u-txt-err");if(ja3x=="username"){a0x.w0x(this.iR3x,"u-txt-err")}else if(ja3x=="password"){a0x.w0x(this.dy2x,"u-txt-err")}else if(ja3x=="captcha"){if(this.cZ1x)this.cZ1x.w0x("u-txt-err")}};b0x.cQ1x=function(de1x){return this.eb2x(this.cw1x,de1x,"登　录","登录中...")};b0x.Rf6Z=function(){if(!this.cZ1x)return true;var bx1x=this.cZ1x.IC4G();if(bx1x.success)return true;this.bX1x(bx1x.message,"captcha");return false}})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),j0x=c0x("nej.u"),bd1x=c0x("nej.ui"),h0x=c0x("nej.v"),H0x=c0x("nej.t"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.bLc7V=NEJ.C();b0x=n0x.bLc7V.N0x(bd1x.Zy9p);var cEL6F=a0x.ex2x(['<div class="mask"></div>','<div class="box">','   <i class="icn u-icn2 {if type=="error"}u-icn2-err{elseif type=="info"}f-hide{else}u-icn2-ok{/if}"></i>','   <span class="txt">${message}</span>',"</div>"].join(""));b0x.bo1x=function(e0x){this.bp1x(e0x);this.o0x.innerHTML=e0x.html};b0x.bD1x=function(){this.z0x("ondestroy");this.bH1x()};b0x.NB5G=function(){var C0x={},kb4f=a0x.pq6k(),pl6f={left:kb4f.scrollLeft,top:kb4f.scrollTop},dz2x={left:kb4f.clientWidth-this.o0x.offsetWidth,top:kb4f.clientHeight-this.o0x.offsetHeight};C0x.top=Math.max(0,pl6f.top+dz2x.top/2);C0x.left=Math.max(0,pl6f.left+dz2x.left/2);this.hb3x(C0x)};l0x.hw3x=function(){var cM1x,eq2x;return function(e0x){if(cM1x)cM1x.V0x();setTimeout(function(){cM1x=n0x.bLc7V.B0x({destroyable:true,parent:e0x.parent||document.body,clazz:"m-toast "+(e0x.clazz||""),html:e0x.html||a0x.cb1x(cEL6F,e0x),ondestroy:e0x.ondestroy});cM1x.I0x()},0);window.clearTimeout(eq2x);eq2x=window.setTimeout(function(){if(cM1x)cM1x.V0x();cM1x=null},e0x.delay||3e3)}}()})();
var QRCode;(function(){function QR8bitByte(data){this.mode=QRMode.MODE_8BIT_BYTE;this.data=data;this.parsedData=[];for(var i=0,l=this.data.length;i<l;i++){var byteArray=[];var code=this.data.charCodeAt(i);if(code>65536){byteArray[0]=240|(code&1835008)>>>18;byteArray[1]=128|(code&258048)>>>12;byteArray[2]=128|(code&4032)>>>6;byteArray[3]=128|code&63}else if(code>2048){byteArray[0]=224|(code&61440)>>>12;byteArray[1]=128|(code&4032)>>>6;byteArray[2]=128|code&63}else if(code>128){byteArray[0]=192|(code&1984)>>>6;byteArray[1]=128|code&63}else{byteArray[0]=code}this.parsedData.push(byteArray)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);if(this.parsedData.length!=this.data.length){this.parsedData.unshift(191);this.parsedData.unshift(187);this.parsedData.unshift(239)}}QR8bitByte.prototype={getLength:function(buffer){return this.parsedData.length},write:function(buffer){for(var i=0,l=this.parsedData.length;i<l;i++){buffer.put(this.parsedData[i],8)}}};function QRCodeModel(typeNumber,errorCorrectLevel){this.typeNumber=typeNumber;this.errorCorrectLevel=errorCorrectLevel;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}QRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+","+col)}return this.modules[row][col]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(false,this.getBestMaskPattern())},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null}}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test)}if(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)}this.mapData(this.dataCache,maskPattern)},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if(0<=r&&r<=6&&(c==0||c==6)||0<=c&&c<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=c&&c<=4){this.modules[row+r][col+c]=true}else{this.modules[row+r][col+c]=false}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i}}return pattern},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill()}}}return qr_mc},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue}this.modules[r][6]=r%2==0}for(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue}this.modules[6][c]=c%2==0}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue}for(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||r==0&&c==0){this.modules[row+r][col+c]=true}else{this.modules[row+r][col+c]=false}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=!test&&(bits>>i&1)==1;this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod}for(var i=0;i<18;i++){var mod=!test&&(bits>>i&1)==1;this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod}},setupTypeInfo:function(test,maskPattern){var data=this.errorCorrectLevel<<3|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=!test&&(bits>>i&1)==1;if(i<6){this.modules[i][8]=mod}else if(i<8){this.modules[i+1][8]=mod}else{this.modules[this.moduleCount-15+i][8]=mod}}for(var i=0;i<15;i++){var mod=!test&&(bits>>i&1)==1;if(i<8){this.modules[8][this.moduleCount-i-1]=mod}else if(i<9){this.modules[8][15-i-1+1]=mod}else{this.modules[8][15-i-1]=mod}}this.modules[this.moduleCount-8][8]=!test},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(data[byteIndex]>>>bitIndex&1)==1}var mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark}this.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7}}}row+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break}}}}};QRCodeModel.PAD0=236;QRCodeModel.PAD1=17;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer;for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer)}var totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount}if(buffer.getLengthInBits()>totalDataCount*8){throw new Error("code length overflow. ("+buffer.getLengthInBits()+">"+totalDataCount*8+")")}if(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4)}while(buffer.getLengthInBits()%8!=0){buffer.putBit(false)}while(true){if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(QRCodeModel.PAD1,8)}return QRCodeModel.createBytes(buffer,rsBlocks)};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=255&buffer.buffer[i+offset]}offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=modIndex>=0?modPoly.get(modIndex):0}}var totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount}var data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i]}}}for(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i]}}}return data};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=QRUtil.G15<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)}return(data<<10|d)^QRUtil.G15_MASK},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=QRUtil.G18<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)}return data<<12|d},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1}return digit},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1]},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return i*j%2+i*j%3==0;case QRMaskPattern.PATTERN110:return(i*j%2+i*j%3)%2==0;case QRMaskPattern.PATTERN111:return(i*j%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern)}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0))}return a},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode)}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode)}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode)}}else{throw new Error("type:"+type)}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue}for(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue}if(r==0&&c==0){continue}if(dark==qrCode.isDark(row+r,col+c)){sameCount++}}}if(sameCount>5){lostPoint+=3+sameCount-5}}}for(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3}}}for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40}}}for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40}}}var darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++}}}var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint}};var QRMath={glog:function(n){if(n<1){throw new Error("glog("+n+")")}return QRMath.LOG_TABLE[n]},gexp:function(n){while(n<0){n+=255}while(n>=256){n-=255}return QRMath.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i}for(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8]}for(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i}function QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+"/"+shift)}var offset=0;while(offset<num.length&&num[offset]==0){offset++}this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset]}}QRPolynomial.prototype={get:function(index){return this.num[index]},getLength:function(){return this.num.length},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)))}}return new QRPolynomial(num,0)},mod:function(e){if(this.getLength()-e.getLength()<0){return this}var ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i)}for(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio)}return(new QRPolynomial(num,0)).mod(e)}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel)}var length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount))}}return list};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined}};function QRBitBuffer(){this.buffer=[];this.length=0}QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return(this.buffer[bufIndex]>>>7-index%8&1)==1},put:function(num,length){for(var i=0;i<length;i++){this.putBit((num>>>length-i-1&1)==1)}},getLengthInBits:function(){return this.length},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0)}if(bit){this.buffer[bufIndex]|=128>>>this.length%8}this.length++}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function cEK6E(){return typeof CanvasRenderingContext2D!="undefined"}function bLa7T(){var android=false;var sAgent=navigator.userAgent;if(/android/i.test(sAgent)){android=true;var aMat=sAgent.toString().match(/android ([0-9]\.[0-9])/i);if(aMat&&aMat[1]){android=parseFloat(aMat[1])}}return android}var svgDrawer=function(){var Drawing=function(el,htOption){this.bI1x=el;this.ix3x=htOption};Drawing.prototype.draw=function(oQRCode){var ix3x=this.ix3x;var bI1x=this.bI1x;var nCount=oQRCode.getModuleCount();var nWidth=Math.floor(ix3x.width/nCount);var nHeight=Math.floor(ix3x.height/nCount);this.clear();function makeSVG(tag,attrs){var el=document.createElementNS("http://www.w3.org/2000/svg",tag);for(var k in attrs)if(attrs.hasOwnProperty(k))el.setAttribute(k,attrs[k]);return el}var svg=makeSVG("svg",{viewBox:"0 0 "+String(nCount)+" "+String(nCount),width:"100%",height:"100%",fill:ix3x.colorLight});svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");bI1x.appendChild(svg);svg.appendChild(makeSVG("rect",{fill:ix3x.colorLight,width:"100%",height:"100%"}));svg.appendChild(makeSVG("rect",{fill:ix3x.colorDark,width:"1",height:"1",id:"template"}));for(var row=0;row<nCount;row++){for(var col=0;col<nCount;col++){if(oQRCode.isDark(row,col)){var child=makeSVG("use",{x:String(col),y:String(row)});child.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");svg.appendChild(child)}}}};Drawing.prototype.clear=function(){while(this.bI1x.hasChildNodes())this.bI1x.removeChild(this.bI1x.lastChild)};return Drawing}();var useSVG=document.documentElement.tagName.toLowerCase()==="svg";var Drawing=useSVG?svgDrawer:!cEK6E()?function(){var Drawing=function(el,htOption){this.bI1x=el;this.ix3x=htOption};Drawing.prototype.draw=function(oQRCode){var ix3x=this.ix3x;var bI1x=this.bI1x;var nCount=oQRCode.getModuleCount();var nWidth=Math.floor(ix3x.width/nCount);var nHeight=Math.floor(ix3x.height/nCount);var aHTML=['<table style="border:0;border-collapse:collapse;">'];for(var row=0;row<nCount;row++){aHTML.push("<tr>");for(var col=0;col<nCount;col++){aHTML.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+nWidth+"px;height:"+nHeight+"px;background-color:"+(oQRCode.isDark(row,col)?ix3x.colorDark:ix3x.colorLight)+';"></td>')}aHTML.push("</tr>")}aHTML.push("</table>");bI1x.innerHTML=aHTML.join("");var elTable=bI1x.childNodes[0];var nLeftMarginTable=(ix3x.width-elTable.offsetWidth)/2;var nTopMarginTable=(ix3x.height-elTable.offsetHeight)/2;if(nLeftMarginTable>0&&nTopMarginTable>0){elTable.style.margin=nTopMarginTable+"px "+nLeftMarginTable+"px"}};Drawing.prototype.clear=function(){this.bI1x.innerHTML=""};return Drawing}():function(){function cEa6U(){}if(this.RK6E&&this.RK6E<=2.1){var factor=1/window.devicePixelRatio;var drawImage=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(image,sx,sy,sw,sh,dx,dy,dw,dh){if("nodeName"in image&&/img/i.test(image.nodeName)){for(var i=arguments.length-1;i>=1;i--){arguments[i]=arguments[i]*factor}}else if(typeof dw=="undefined"){arguments[1]*=factor;arguments[2]*=factor;arguments[3]*=factor;arguments[4]*=factor}drawImage.apply(this,arguments)}}function cDY6S(fSuccess,fFail){var self=this;self.bec0x=fFail;self.bea0x=fSuccess;if(self.RO6I===null){var el=document.createElement("img");var fOnError=function(){self.RO6I=false;if(self.bec0x){self.bec0x.call(self)}};var fOnSuccess=function(){self.RO6I=true;if(self.bea0x){self.bea0x.call(self)}};el.onabort=fOnError;el.onerror=fOnError;el.onload=fOnSuccess;el.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==";return}else if(self.RO6I===true&&self.bea0x){self.bea0x.call(self)}else if(self.RO6I===false&&self.bec0x){self.bec0x.call(self)}}var Drawing=function(el,htOption){this.RP6J=false;this.RK6E=bLa7T();this.ix3x=htOption;this.Nc5h=document.createElement("canvas");this.Nc5h.width=htOption.width;this.Nc5h.height=htOption.height;el.appendChild(this.Nc5h);this.bI1x=el;this.zB2x=this.Nc5h.getContext("2d");this.RP6J=false;this.Ne5j=document.createElement("img");this.Ne5j.alt="Scan me!";this.Ne5j.style.display="none";this.bI1x.appendChild(this.Ne5j);this.RO6I=null};Drawing.prototype.draw=function(oQRCode){var Ne5j=this.Ne5j;var zB2x=this.zB2x;var ix3x=this.ix3x;var nCount=oQRCode.getModuleCount();var nWidth=ix3x.width/nCount;var nHeight=ix3x.height/nCount;var nRoundedWidth=Math.round(nWidth);var nRoundedHeight=Math.round(nHeight);Ne5j.style.display="none";this.clear();for(var row=0;row<nCount;row++){for(var col=0;col<nCount;col++){var bIsDark=oQRCode.isDark(row,col);var nLeft=col*nWidth;var nTop=row*nHeight;zB2x.strokeStyle=bIsDark?ix3x.colorDark:ix3x.colorLight;zB2x.lineWidth=1;zB2x.fillStyle=bIsDark?ix3x.colorDark:ix3x.colorLight;zB2x.fillRect(nLeft,nTop,nWidth,nHeight);zB2x.strokeRect(Math.floor(nLeft)+.5,Math.floor(nTop)+.5,nRoundedWidth,nRoundedHeight);zB2x.strokeRect(Math.ceil(nLeft)-.5,Math.ceil(nTop)-.5,nRoundedWidth,nRoundedHeight)}}this.RP6J=true};Drawing.prototype.makeImage=function(){if(this.RP6J){cDY6S.call(this,cEa6U)}};Drawing.prototype.isPainted=function(){return this.RP6J};Drawing.prototype.clear=function(){this.zB2x.clearRect(0,0,this.Nc5h.width,this.Nc5h.height);this.RP6J=false};Drawing.prototype.round=function(nNumber){if(!nNumber){return nNumber}return Math.floor(nNumber*1e3)/1e3};return Drawing}();function cDX6R(sText,nCorrectLevel){var nType=1;var length=cDd5i(sText);for(var i=0,len=QRCodeLimitLength.length;i<=len;i++){var nLimit=0;switch(nCorrectLevel){case QRErrorCorrectLevel.L:nLimit=QRCodeLimitLength[i][0];break;case QRErrorCorrectLevel.M:nLimit=QRCodeLimitLength[i][1];break;case QRErrorCorrectLevel.Q:nLimit=QRCodeLimitLength[i][2];break;case QRErrorCorrectLevel.H:nLimit=QRCodeLimitLength[i][3];break}if(length<=nLimit){break}else{nType++}}if(nType>QRCodeLimitLength.length){throw new Error("Too long data")}return nType}function cDd5i(sText){var replacedText=encodeURI(sText).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return replacedText.length+(replacedText.length!=sText?3:0)}QRCode=function(el,vOption){this.ix3x={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRErrorCorrectLevel.H};if(typeof vOption==="string"){vOption={text:vOption}}if(vOption){for(var i in vOption){this.ix3x[i]=vOption[i]}}if(typeof el=="string"){el=document.getElementById(el)}if(this.ix3x.useSVG){Drawing=svgDrawer}this.RK6E=bLa7T();this.bI1x=el;this.bdW0x=null;this.bdT0x=new Drawing(this.bI1x,this.ix3x);if(this.ix3x.text){this.makeCode(this.ix3x.text)}};QRCode.prototype.makeCode=function(sText){this.bdW0x=new QRCodeModel(cDX6R(sText,this.ix3x.correctLevel),this.ix3x.correctLevel);this.bdW0x.addData(sText);this.bdW0x.make();this.bI1x.title=sText;this.bdT0x.draw(this.bdW0x);this.makeImage()};QRCode.prototype.makeImage=function(){if(typeof this.bdT0x.makeImage=="function"&&(!this.RK6E||this.RK6E>=3)){this.bdT0x.makeImage()}};QRCode.prototype.clear=function(){this.bdT0x.clear()};QRCode.CorrectLevel=QRErrorCorrectLevel})();window.QRCode=QRCode;
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;n0x.pR6L=NEJ.C();b0x=n0x.pR6L.N0x(n0x.ee2x);b0x.cz1x=function(){this.cD1x();this.yh1x=this.yh1x.f0x(this)};b0x.cd1x=function(){var data={allow:false};if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){data.degrade=true}this.cc1x=a0x.jC4G(a0x.cb1x("ntp-login-nav",data))};b0x.bo1x=function(e0x){e0x.onclose=function(){this.bD1x()}.f0x(this);this.bp1x(e0x);if(!window["GDegradeConfig"]||!window["GDegradeConfig"].degradeLogin){this.bxb5g();this.bxc5h()}};b0x.bD1x=function(){l0x.vY1x(null,null,"check_qrcode_login");this.bH1x()};b0x.bV1x=function(){this.ch1x();this.bKP7I=a0x.dg1x(this.o0x);this.RX6R=this.bKP7I[1];this.RY6S=this.bKP7I[0];if(this.RX6R){var fL2x=a0x.D0x(this.RX6R,"j-flag");this.JY4c=fL2x.shift();this.cB1x=fL2x.shift();this.bxi5n=fL2x.shift();this.eI2x=fL2x.shift();this.vl1x=fL2x.shift();this.Sb6V=fL2x.shift();this.cDa5f=a0x.D0x(this.RX6R,"other")[0]}h0x.s0x(this.o0x,"click",this.bR1x.f0x(this));l0x.jZ4d()};b0x.bxc5h=function(){u0x.be1x("/api/w/user/login/type/switch",{method:"get",type:"json",onload:function(d0x){if(d0x.code===200&&d0x.data.allow){a0x.x0x(this.cDa5f,"f-hide")}else{if(this.RY6S){a0x.cR1x(this.RY6S,false)}}}.f0x(this),onerror:function(){a0x.cR1x(this.RY6S,false)}})};b0x.bR1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(!G0x)return;var U0x=a0x.v0x(G0x,"action"),t0x=a0x.v0x(G0x,"type");var bxm5r=a0x.A0x("j-official-terms")||{};var JS4W=!!bxm5r.checked;if(U0x==="login"||U0x==="reg"||U0x==="scan"){if(!JS4W){h0x.bg1x(d0x);l0x.hw3x({message:"请先勾选同意《服务条款》、《隐私政策》、《儿童隐私政策》",clazz:"z-login-page",delay:1500,type:"info"});return}}switch(U0x){case"login":if(t0x=="mobile"){h0x.bg1x(d0x);n0x.GC4G.I0x({title:"手机号登录",termsChecked:JS4W})}else if(t0x=="netease"){n0x.CF3x.I0x({title:"邮箱登录",termsChecked:JS4W})}else{h0x.co1x(d0x);this.Fp3x=G0x.href;l0x.vZ1x(this.jc3x.f0x(this));this.TK7D=top.open()}this.br1x();break;case"reg":h0x.bg1x(d0x);if(this.za2x)this.za2x.V0x();this.za2x=n0x.beJ0x.B0x();this.br1x();break;case"scan":h0x.bg1x(d0x);this.uG0x();this.xV1x();this.rV6P(0,0);a0x.w0x(this.RY6S,"f-hide");a0x.x0x(this.RX6R,"f-hide");break;case"switch":h0x.bg1x(d0x);this.mm4q=null;a0x.w0x(this.RX6R,"f-hide");a0x.x0x(this.RY6S,"f-hide");l0x.vY1x(null,null,"check_qrcode_login");break}};b0x.jc3x=function(cm1x){this.Fp3x+="&checkToken="+cm1x||"";this.TK7D.location.href=this.Fp3x};b0x.bxb5g=function(){this.Si7b=-1;this.Sj7c=-1;this.mm4q=null;this.uG0x();this.xV1x();this.rV6P(0,0);this.bY1x([[this.o0x,"click",this.cF1x.f0x(this)]])};b0x.cF1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(G0x){switch(a0x.v0x(G0x,"action")){case"refresh":this.mm4q=null;this.uG0x();this.xV1x();this.rV6P(0,0);default:break}}};b0x.rV6P=function(r0x,JC4G){if(this.Si7b===r0x&&this.Sj7c===JC4G){return}if(r0x==0){document.body.className="n-login n-login-scan n-login-scan-0";a0x.x0x(this.JY4c,"f-hide");a0x.x0x(this.eI2x,"f-hide");a0x.w0x(this.vl1x,"f-hide");a0x.w0x(this.Sb6V,"f-hide");if(JC4G){a0x.x0x(this.cB1x,"f-hide")}else{a0x.w0x(this.cB1x,"f-hide")}}else{document.body.className="n-login n-login-scan n-login-scan-1";a0x.w0x(this.JY4c,"f-hide");a0x.w0x(this.eI2x,"f-hide");a0x.x0x(this.vl1x,"f-hide");a0x.x0x(this.Sb6V,"f-hide")}this.Si7b=r0x;this.Sj7c=JC4G};b0x.bxC5H=function(){this.rV6P(0,1)};b0x.yh1x=function(){u0x.be1x("/api/login/qrcode/client/login",{type:"json",method:"post",data:j0x.cr1x({key:this.mm4q,type:1}),onload:this.bxE5J.f0x(this),onerror:function(){n0x.ba1x.I0x({type:2,tip:"扫码登录失败，请稍后再试"})}})};b0x.bxE5J=function(m0x){if(!m0x){return}switch(m0x.code){case 803:u0x.be1x("/api/w/nuser/account/get",{query:"",type:"json",onload:function(m0x){this.br1x();localCache.me4i("user",m0x);l0x.vY1x(null,null,"check_qrcode_login");if(!m0x.profile){if(this.ln4r)this.ln4r.V0x();this.ln4r=n0x.zF2x.B0x({user:m0x,requiremobile:false,onsuccess:this.tP0x.f0x(this)})}else{u0x.be1x("/api/user/grabed/status/get",{method:"GET",cookie:true,type:"json",onload:function(resp){if(resp.data&&resp.data.grabed){l0x.hn3x({title:"更换手机号",btncc:"知道了",okstyle:"f-hide",message:"您绑定的手机号已被其他账号绑定，为保护账号安全，将强制退出您在网页端的登陆状态，请在云音乐手机端尽快绑定新的手机号。",action:top.logout})}else{h0x.z0x(window,"login",{user:m0x})}},onerror:function(){console.log("[请求出错]:/api/user/grabed/status/get");top.logout()}})}}.f0x(this),onerror:function(){this.mm4q=null;this.uG0x();this.xV1x();this.rV6P(0,0)}});break;case 802:this.rV6P(1,0);break;case 801:break;case 800:l0x.vY1x(null,null,"check_qrcode_login");this.bxC5H();break;default:break}};b0x.xV1x=function(){u0x.be1x("/api/login/qrcode/unikey",{type:"json",method:"post",data:j0x.cr1x({type:1}),onload:this.bxG5L.f0x(this),onerror:function(){n0x.ba1x.I0x({type:2,tip:"操作失败，请稍后再试"})}})};b0x.bxG5L=function(m0x){if(m0x&&m0x.code==200){this.mm4q=m0x.unikey;this.uG0x();l0x.vY1x(this.yh1x,1e3,"check_qrcode_login")}else{}};b0x.uG0x=function(){if(this.zE2x){this.zE2x.clear()}if(!this.mm4q){return}var X0x="http://music.163.com/login?codekey="+this.mm4q;if(this.zE2x){this.zE2x.makeCode(X0x)}else{this.zE2x=new QRCode(this.bxi5n,{text:X0x,width:130,height:130,correctLevel:QRCode.CorrectLevel.M})}};n0x.pR6L.I0x=n0x.pR6L.I0x.eN2x(function(d0x){n0x.GC4G.br1x();n0x.CF3x.br1x()})})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),ci1x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;n0x.bKO7H=NEJ.C();b0x=n0x.bKO7H.N0x(ci1x.cP1x);var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};var ACCOUNT_TYPE={MOBILE:1,TWEIBO:6};var LOGIN_ACCOUNT=[{type:1,title:"手机",key:"cellphone"},{type:0,title:"网易邮箱帐号",key:"email"},{type:2,title:"新浪微博",key:"name"},{type:10,title:"微信",key:"nickname"},{type:5,title:"QQ",key:"nickname"}];b0x.bo1x=function(e0x){this.bp1x(e0x);this.dw2x=e0x;this.tb7U=e0x.user;this.S0x=p0x.mT5Y.B0x();this.S0x.s0x("onmobilecheck",this.QN6H.f0x(this));this.S0x.s0x("onmobilecheckerror",this.QO6I.f0x(this));this.S0x.s0x("onmobilebind",this.Ni5n.f0x(this));this.S0x.s0x("onmobilebinderror",this.Nj5o.f0x(this));this.S0x.s0x("onmobileupdatepwd",this.Ni5n.f0x(this));this.S0x.s0x("onmobileupdatepwderror",this.Nj5o.f0x(this));this.S0x.s0x("onactive",this.Qr6l.f0x(this));this.S0x.s0x("onactiveerror",this.bul3x.f0x(this));var bdz0x=this.cCW5b(this.tb7U);this.bKN7G=bdz0x;this.bKM7F=this.cCQ5V(this.tb7U);if(e0x.user.account.type==ACCOUNT_TYPE.MOBILE||e0x.user.account.type==ACCOUNT_TYPE.TWEIBO){if(!bdz0x){this.cCO5T()}else{if(bdz0x.hasPassword){this.bKK7D()}else{this.bKJ7C({tip:'云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>设置登录密码，以后可以使用手机号登录',mobile:bdz0x.uid})}}}else{this.bKK7D()}};b0x.bD1x=function(){this.bH1x();this.S0x.V0x();if(this.ed2x)this.ed2x.V0x();if(this.nk5p)this.nk5p.V0x();if(this.ky4C)this.ky4C.V0x()};b0x.bKK7D=function(){var bA1x={0:"邮箱帐号",1:"手机号",2:"新浪微博",5:"QQ",10:"微信"},dx2x=this.tb7U,bdv0x=this.bKM7F.type==ACCOUNT_TYPE.TWEIBO?this.bKN7G:this.bKM7F;if(!dx2x.profile){if(this.ln4r)this.ln4r.V0x();this.ln4r=n0x.zF2x.B0x({user:dx2x,requiremobile:false,onsuccess:this.tP0x.f0x(this)})}else{l0x.hn3x({title:"提示",message:"云音乐即将不支持腾讯微博登录<br/>建议你后续使用以下绑定的"+(bA1x[bdv0x.type]||"帐号")+"登录<br/><strong>"+(bdv0x.type==ACCOUNT_TYPE.MOBILE?l0x.Gj3x(bdv0x.uid):j0x.dN2x(bdv0x.uid))+"</strong>",btnok:"查看详情",btncc:"知道了",okstyle:"u-btn2-w1",ccstyle:"u-btn2-w1",action:function(t0x){if(t0x=="ok"){location.hash="/user/binding/#/list"}else{h0x.z0x(window,"login",{user:dx2x})}},onclose:h0x.z0x.f0x(h0x,window,"login",{user:dx2x})})}};b0x.tP0x=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.cCO5T=function(){this.ed2x=n0x.ow5B.I0x({title:"绑定手机号",tip:'云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>请绑定手机号，以免后续无法使用该帐号',onok:this.cCH5M.f0x(this)})};b0x.cCH5M=function(bj1x){this.gi2x=bj1x.mobile;this.fI2x=bj1x.countrycode;this.beX9O=bj1x.captcha;this.S0x.bkB0x({data:{cellphone:bj1x.mobile,captcha:bj1x.captcha,countrycode:bj1x.countrycode}})};b0x.QN6H=function(bj1x){if(bj1x.nickname){this.ed2x.cQ1x(false);this.ed2x.bX1x("绑定失败，该手机号已与云音乐帐号 "+j0x.dN2x(bj1x.nickname)+" 绑定","mobile")}else{this.bKJ7C()}};b0x.QO6I=function(){this.ed2x.br1x();n0x.ba1x.I0x({tip:"登录失败，请重试",type:2})};b0x.bKJ7C=function(bT1x){if(this.ed2x)this.ed2x.br1x();bT1x=bT1x||{};this.ky4C=n0x.MF5K.I0x({title:"设置密码",tip:bT1x.tip,mobile:bT1x.mobile,onok:this.cCr5w.f0x(this)})};b0x.cCr5w=function(bj1x){if(this.bKN7G){this.S0x.beH0x({data:{phone:this.gi2x,password:j0x.kC4G(bj1x.password),captcha:this.beX9O}})}else{this.S0x.bSt9k({data:{phone:this.gi2x,captcha:this.beX9O,password:j0x.kC4G(bj1x.password)}})}};b0x.Ni5n=function(bj1x){this.ky4C.br1x();if(this.tb7U.profile||this.tb7U.account.type==ACCOUNT_TYPE.MOBILE){h0x.z0x(window,"login",{user:this.tb7U})}else if(this.tb7U.account.type==ACCOUNT_TYPE.TWEIBO){this.nk5p=n0x.HZ4d.I0x({title:"设置昵称",onok:this.cBX5c.f0x(this)})}};b0x.Nj5o=function(bj1x){this.ky4C.br1x();n0x.ba1x.I0x({tip:bj1x.message||"登录失败，请重试",type:2})};b0x.cBX5c=function(bj1x){this.S0x.bkG0x({data:{dragPwd:bj1x.dragPwd,nickname:bj1x.nickname}})};b0x.Qr6l=function(bj1x){this.nk5p.br1x();this.tb7U.profile=bj1x.profile;h0x.z0x(window,"login",{user:this.tb7U})};b0x.bul3x=function(bj1x){this.nk5p.cQ1x(false);if(bj1x.code==505)return this.nk5p.bX1x("该昵称已被占用","nickname");if(bj1x.code==407)return this.nk5p.bX1x("该昵称包含关键词","nickname");this.nk5p.br1x();n0x.ba1x.I0x({tip:bj1x.message||"登录失败，请重试",type:2})};b0x.cCW5b=function(dx2x){var uX1x=dx2x.bindings||[];var r0x=j0x.ds2x(uX1x,function(q0x){return q0x.type==ACCOUNT_TYPE.MOBILE});var qc6W=r0x>=0?uX1x[r0x]:null;if(!qc6W)return null;var cm1x=JSON.parse(qc6W.tokenJsonStr);qc6W.uid=cm1x.cellphone;qc6W.hasPassword=cm1x.hasPassword;return qc6W};b0x.cCQ5V=function(dx2x){var uX1x=dx2x.bindings||[];var r0x=j0x.ds2x(uX1x,function(q0x){return q0x.type==dx2x.account.type});var qc6W=r0x>=0?uX1x[r0x]:null;if(!qc6W)return null;var cm1x=JSON.parse(qc6W.tokenJsonStr);qc6W.uid=cm1x.cellphone||cm1x.email||cm1x.name||cm1x.nickname||"";return qc6W}})();
(function(){var c0x=NEJ.P,H0x=c0x("nej.ut"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),a0x=c0x("nej.e"),j0x=c0x("nej.u"),F0x=c0x("nm.m"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;F0x.Np5u=NEJ.C();b0x=F0x.Np5u.N0x(H0x.cP1x);var LOGIN_ACCOUNT=[{type:1,title:"手机",icon:"mb",key:"cellphone",uidkey:"cellphone"},{type:10,title:"微信",icon:"wx",key:"nickname",uidkey:"unionid"},{type:5,title:"QQ",icon:"qq",key:"nickname",uidkey:"openid"},{type:2,title:"新浪微博",icon:"sn",key:"name",uidkey:"uid"},{type:0,title:"网易邮箱帐号",icon:"urs",key:"email",uidkey:"email"},{type:13,title:"Facebook",icon:"urs",key:"nickname",uidkey:"uid"}];var SHARE_ACCOUNT=[{type:4,title:"人人",icon:"rr",key:"user.name",uidkey:"user.id"},{type:3,title:"豆瓣",icon:"db",key:"douban_user_name",uidkey:"douban_user_id"}];var TWEIBO={type:6,title:"腾讯微博",icon:"tc",key:"nick",uidkey:"openId"};var ALL_ACCOUNT=LOGIN_ACCOUNT.concat(SHARE_ACCOUNT,TWEIBO);b0x.cz1x=function(e0x){this.cD1x(e0x);window.login=this.cBS5X.f0x(this);window.logout=this.bKE7x.f0x(this);window.reg=this.cBw5B.f0x(this);h0x.s0x(window,"login",this.bdl0x.f0x(this));window.g_cbLogin=this.xH1x.f0x(this);window.g_cbBind=this.cBv5A.f0x(this);window.g_cbDeleteBind=this.cBs5x.f0x(this);window.g_cbVerify=this.QX6R.f0x(this);this.byp5u()};b0x.byp5u=function(){var dx2x={account:{},profile:{},bindings:[]};if(typeof GUser!=="undefined"){dx2x.profile.userId=GUser.userId;dx2x.profile.nickname=GUser.nickname;dx2x.profile.avatarUrl=GUser.avatarUrl}if(typeof GBinds!=="undefined"){dx2x.bindings=GBinds}localCache.me4i("user",dx2x);this.byq5v=p0x.mT5Y.B0x();this.byq5v.s0x("onlogout",this.cBn5s.f0x(this));this.byq5v.s0x("onmainaccountreplace",this.xH1x.f0x(this));if(!this.cBg5l(dx2x))this.bKE7x()};b0x.cBS5X=function(t0x){n0x.pR6L.br1x();n0x.GC4G.br1x();n0x.CF3x.br1x();if(typeof t0x==="undefined")return n0x.pR6L.I0x({title:"登录"});if(t0x===0)return n0x.GC4G.I0x({title:"手机号登录"});return n0x.CF3x.I0x({title:"网易邮箱帐号登录"})};b0x.cBw5B=function(){if(this.za2x)this.za2x.V0x();this.za2x=n0x.beJ0x.B0x()};b0x.bdl0x=function(d0x){try{u0x.be1x("/api/privacy/info/save",{method:"POST",sync:true,cookie:true,type:"json",timeout:5e3,onload:function(){},onerror:function(){console.log("[请求出错]:api/privacy/info/save")}})}catch(e){console.log("[请求出错]:api/privacy/info/save")}if(typeof GUser==="object"&&d0x.user&&d0x.user.profile){var IO4S=d0x.user.profile;GUser.userId=IO4S.userId;GUser.nickname=IO4S.nickname;GUser.avatarUrl=IO4S.avatarUrl;GUser.djStatus=IO4S.djStatus}if(this.bxS5X("loginsuccess")){this.z0x("loginsuccess")}else{location.reload()}};b0x.xH1x=function(m0x){if(m0x&&m0x.code==250){n0x.ba1x.I0x({tip:m0x.message||"登录异常",type:2});return}if(m0x.code==702){this.bLj7c=n0x.QV6P.I0x({title:"网易云音乐",mobile:m0x.phone,countrycode:m0x.countrycode,loginType:m0x.loginType});return}if(!m0x||m0x.code!=200)return;var ks4w=JSON.stringify(m0x);localCache.me4i("user",JSON.parse(ks4w));if(m0x.loginType==6){if(this.bKB7u)this.bKB7u.V0x();this.bKB7u=n0x.bKO7H.B0x({user:m0x,onsuccess:this.bdl0x.f0x(this)})}else{if(m0x.profile){this.bdl0x({user:m0x})}else{if(this.ln4r)this.ln4r.V0x();this.ln4r=n0x.zF2x.B0x({user:m0x,requiremobile:this.cAV5a(m0x),onsuccess:this.bdl0x.f0x(this)})}}};b0x.cBv5A=function(bj1x){var d0x=bj1x.code==200?"snsbind":"snsbinderror",eP2x=a0x.A0x("g_iframe");if(bj1x.code==200){var dx2x=localCache.A0x("user")||{},qc6W=NEJ.X(bj1x,{refreshTime:+(new Date)/1e3|0,tokenJsonStr:JSON.stringify({expires_in:bj1x.expires_in})}),r0x=-1;dx2x.bindings=dx2x.bindings||[];j0x.bf1x(dx2x.bindings,function(cAO5T,yl1x){if(cAO5T.type==bj1x.type)r0x=yl1x});if(r0x>=0){dx2x.bindings[r0x]=qc6W}else{dx2x.bindings.push(qc6W)}u0x.be1x("/api/point/sns",{type:"json",method:"get",query:{snsType:bj1x.type},onload:function(i0x){var bP1x=bj1x.point||i0x.point;if(bP1x>0){n0x.dV2x({title:"绑定成功",type:"success",mesg:'绑定成功 获得<em class="s-fc6">'+bP1x+"积分</em>"})}else{n0x.ba1x.I0x({tip:"绑定成功"})}}.f0x(this)})}else{var r0x=j0x.ds2x(ALL_ACCOUNT,function(q0x){return q0x.type==bj1x.type});var er2x=r0x>=0?ALL_ACCOUNT[r0x].title:"";if(bj1x.message){n0x.dV2x({title:"绑定"+er2x,type:"fail",mesg:"绑定失败",mesg2:bj1x.message})}else{n0x.ba1x.I0x({tip:"绑定失败，请重试",type:2})}}try{var bM1x=eP2x.contentWindow;bM1x.nej.v.z0x(bM1x,d0x,{result:bj1x})}catch(e){}h0x.z0x(window,d0x,{result:bj1x})};b0x.cBs5x=function(bj1x){var d0x=bj1x.code==200?"snsunbind":"snsunbinderror",eP2x=a0x.A0x("g_iframe");if(bj1x.code==200){n0x.ba1x.I0x({tip:"已解除绑定"})}else if(bj1x.message){n0x.dV2x({title:"解除绑定",type:"fail",mesg:"解绑失败",mesg2:bj1x.message})}else{n0x.ba1x.I0x({tip:"解绑失败，请重试",type:2})}try{var bM1x=eP2x.contentWindow;bM1x.nej.v.z0x(bM1x,d0x,{result:bj1x})}catch(e){}h0x.z0x(window,d0x,{result:bj1x})};b0x.QX6R=function(bj1x){console.log(bj1x,"rsp");var d0x=bj1x.code==200?"snsverify":"snsverifyerror",eP2x=a0x.A0x("g_iframe");if(bj1x.code==200){}else{if(bj1x.message){n0x.dV2x({title:"验证失败",type:"fail",mesg:"验证失败",mesg2:bj1x.message})}else{n0x.ba1x.I0x({tip:"验证失败，请重试",type:2})}}try{var bM1x=eP2x.contentWindow;bM1x.nej.v.z0x(bM1x,d0x,{result:bj1x})}catch(e){}h0x.z0x(window,d0x,{result:bj1x})};b0x.bKE7x=function(){var d0x={};this.z0x("beforedologout",d0x);if(d0x.stopped){return}u0x.gW3x("MUSIC_U",{expires:-1});this.byq5v.cpL3x();window.GUser={};this.z0x("logoutbefore")};b0x.cBn5s=function(m0x){localCache.cR1x("user");localCache.cR1x("host-plist");if(typeof GUser==="object"){GUser.userId=0;GUser.nickname="";GUser.avatarUrl=""}if(this.bxS5X("logoutsuccess")){this.z0x("logoutsuccess")}else{location.reload()}};b0x.cBg5l=function(dx2x){var byx5C=false;if(!dx2x.bindings||dx2x.bindings.length==0)return true;j0x.bf1x(dx2x.bindings,function(q0x){if(q0x.type==0||q0x.type==2||q0x.type==5||q0x.type==10||q0x.type==13){byx5C=true}else if(q0x.type==1){var cm1x=JSON.parse(q0x.tokenJsonStr||"{}");if(cm1x.hasPassword){byx5C=true}}});return byx5C};b0x.cAV5a=function(i0x){return i0x&&i0x.loginType!=13};H0x.fV2x.B0x({element:window,event:["login","snsbind","snsbinderror","snsunbind","snsunbinderror","snsverify","snsverifyerror"]});F0x.Np5u.fS2x()})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),bd1x=c0x("nej.ui"),H0x=c0x("nej.ut"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),b0x;y0x.RF6z=NEJ.C();b0x=y0x.RF6z.N0x(bd1x.es2x);b0x.bV1x=function(){this.ch1x();var k0x=a0x.dg1x(this.o0x);this.Kn4r=k0x[0];this.cw1x=k0x[1];this.bN1x=k0x[2]};b0x.cd1x=function(){this.cc1x="g-select"};b0x.bo1x=function(e0x){this.bp1x(e0x);this.bY1x([[this.cw1x,"click",this.qt6n.f0x(this)],[this.bN1x,"click",this.lM4Q.f0x(this)],[document,"click",this.qd6X.f0x(this)]]);this.bvo4s=e0x.filter||this.ctO4S;this.lA4E(e0x.list)};b0x.bD1x=function(){this.bH1x();delete this.bW1x;delete this.xz1x;delete this.bvo4s};b0x.lA4E=function(k0x,lb4f){if(!k0x){this.Kn4r.innerText="－请选择－";return}this.bW1x=k0x;a0x.dA2x(this.bN1x,"g-select-item",{options:k0x},{filter:this.bvo4s});this.ji3x(lb4f||k0x[0])};b0x.mg4k=function(){return this.bW1x};b0x.gk2x=function(){return this.xz1x};b0x.ji3x=function(C0x){if(this.xz1x!=C0x){this.xz1x=C0x;this.Kn4r.innerText=this.bvo4s(C0x);this.z0x("onchange",C0x)}};b0x.qt6n=function(d0x){h0x.bg1x(d0x);if(a0x.bE1x(this.bN1x,"f-hide")){if(!this.bW1x||!this.bW1x.length)return;a0x.x0x(this.bN1x,"f-hide")}else{a0x.w0x(this.bN1x,"f-hide")}};b0x.qd6X=function(){a0x.w0x(this.bN1x,"f-hide")};b0x.lM4Q=function(d0x){var g0x=h0x.Z1x(d0x,"d:index"),r0x=a0x.v0x(g0x,"index");if(g0x){this.ji3x(this.bW1x[r0x])}};b0x.ctO4S=function(dO2x){return dO2x.name}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dr2x=c0x("nej.p"),bd1x=c0x("nej.ui"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),gL3x=c0x("nm.ut"),b0x,L0x;y0x.Ee3x=NEJ.C();b0x=y0x.Ee3x.N0x(bd1x.es2x);L0x=y0x.Ee3x.ct1x;b0x.bo1x=function(e0x){this.bp1x(e0x);this.eX2x=e0x.type||1;if(a0x.ik3x("program-data")){this.ge2x=JSON.parse(a0x.ik3x("program-data"))}this.em2x=e0x.resource||{};this.tc7V=a0x.po6i(a0x.cb1x("m-wgt-input-"+this.eX2x,{placeholder:e0x.placeholder||""}));this.bIw7p=e0x.type==2?true:false;var k0x=a0x.D0x(this.tc7V,"j-flag");this.gx3x=k0x[0];this.bjQ9H=a0x.D0x(this.tc7V,"btns")[0];this.mi4m=k0x[3];this.cpt3x=k0x[4];a0x.hc3x(this.gx3x,"holder");if(a0x.bE1x(this.gx3x.parentNode,"holder-parent")){a0x.bc1x(this.gx3x.parentNode,"display","block")}this.gx3x.value=e0x.input||"";this.o0x.appendChild(this.tc7V);this.px6r={start:0,end:0};if(!e0x.nomention){this.hT3x=y0x.TO7H.B0x({parent:document.body,target:this.gx3x})}else{a0x.bc1x(k0x[2],"display","none")}this.bkw0x=e0x.numLimit||140;this.gE3x();this.cpq3x();this.bY1x([[this.mi4m,"click",this.vz1x.f0x(this)],[k0x[2],"click",this.bjU9L.f0x(this)],[k0x[1],"click",this.bjV9M.f0x(this)],[this.gx3x,"focus",this.kE4I.f0x(this)],[this.gx3x,"blur",this.ph5m.f0x(this)],[this.gx3x,"input",this.fa2x.f0x(this)],[this.gx3x,"keyup",this.vT1x.f0x(this)],[this.gx3x,"click",this.mP5U.f0x(this)]]);if(!j0x.gU3x(e0x.onbeforesubmit))this.s0x("onbeforesubmit",this.coS3x.f0x(this));if(!j0x.gU3x(e0x.onloading))this.s0x("onloading",this.coL3x.f0x(this));u0x.be1x("/api/middle/clientcfg/config/list",{type:"json",method:"get",query:{moduleName:"preload"},onload:function(res){var status=res.data["preload#security"].emojiStatus[0].status;if(status===5){a0x.w0x(k0x[1],"f-hide")}else{a0x.x0x(k0x[1],"f-hide")}}.f0x(this)})};b0x.bD1x=function(){this.gx3x.value="";if(this.hM3x){this.hM3x.V0x();delete this.hM3x}if(this.hT3x){this.hT3x.V0x();delete this.hT3x}this.bH1x();a0x.cR1x(this.tc7V)};b0x.coS3x=function(){var C0x=this.gx3x.value;if(this.mi4m.className.indexOf("dis")>=0)return;if(!this.HR4V()||!this.Ex3x())return;if(l0x.lf4j(C0x)){n0x.ba1x.I0x({type:2,tip:"输入点内容再提交吧"});return}if(j0x.fQ2x(C0x)>2*this.bkw0x){n0x.ba1x.I0x({type:2,tip:"输入不能超过"+this.bkw0x+"个字符"});return}return!0};b0x.coL3x=function(){a0x.w0x(this.mi4m,"u-btn-1-dis");if(this.mi4m.innerText.indexOf("...")<0){this.mi4m.innerText=this.mi4m.innerText+"..."}this.uN1x=!0};b0x.zY2x=function(){if(!this.uN1x)return;this.uN1x=!1;a0x.x0x(this.mi4m,"u-btn-1-dis");var cK1x=this.mi4m.innerText;this.mi4m.innerText=cK1x.substring(0,cK1x.length-3)};b0x.mP5U=function(){this.px6r=gL3x.wX1x(this.gx3x)};b0x.vz1x=function(ia3x){h0x.bg1x(ia3x);l0x.sp6j(function(){var C0x=this.gx3x.value;if(!this.z0x("onbeforesubmit",{value:C0x}))return;if(this.eX2x!=4)this.z0x("onloading");gL3x.bMt7m(C0x);if(this.hT3x){this.hT3x.Im4q()}if(this.hM3x){this.hM3x.br1x()}this.z0x("onsubmit",C0x);this.gE3x()}.f0x(this));return false};b0x.qO6I=function(){this.gx3x.value="";this.gE3x()};b0x.gk2x=function(){return this.gx3x.value||""};b0x.nm5r=function(){var jr3x=this.gx3x;var t0x=a0x.v0x(jr3x,"type");this.nv5A=t0x;if(!this.Ex3x())return;var bt1x=this.gk2x().length;this.gx3x.focus();gL3x.bhh9Y(this.gx3x,{start:bt1x,end:bt1x});this.mP5U()};b0x.bjU9L=function(d0x){h0x.bg1x(d0x);if(!this.Ex3x())return;!!this.hM3x&&this.hM3x.br1x();this.hT3x.TL7E();this.gE3x()};b0x.bjV9M=function(d0x){h0x.bg1x(d0x);if(!this.Ex3x())return;if(!this.hM3x){this.hM3x=n0x.Li5n.B0x({parent:this.bjQ9H,rightwards:this.eX2x==6});this.hM3x.s0x("onselect",this.BD2x.f0x(this));a0x.bc1x(this.hM3x.mr4v().parentNode,"position","relative")}this.hM3x.I0x();this.z0x("onemotlayershow");if(this.hT3x){this.hT3x.Im4q()}};b0x.BD2x=function(d0x){var bq1x="["+d0x.text+"]";h0x.z0x(this.gx3x,"focus");this.gx3x.focus();gL3x.Ls5x(this.gx3x,this.px6r,bq1x);this.gE3x();h0x.z0x(this.gx3x,"keyup")};b0x.fa2x=function(d0x){dr2x.dB2x.browser=="ie"&&dr2x.dB2x.version<"7.0"?setTimeout(this.gE3x.f0x(this),0):this.gE3x()};b0x.vT1x=function(d0x){this.mP5U();if(this.bIw7p)this.coB3x();this.fa2x()};b0x.HR4V=function(){if(!GUser||!GUser.userId||GUser.userId<0){top.login();return}return true};b0x.kE4I=function(d0x){var g0x=h0x.Z1x(d0x,"d:type");var t0x=a0x.v0x(g0x,"type");this.nv5A=t0x;if(!this.HR4V()){this.gx3x.blur();return}if(!this.Ex3x()){this.gx3x.blur();return}this.z0x("onfocus")};b0x.ph5m=function(){this.z0x("onblur")};b0x.gE3x=function(){var bt1x=this.bkw0x-Math.ceil(j0x.fQ2x(this.gx3x.value)/2);this.cpt3x.innerHTML=bt1x>=0?bt1x:'<em class="s-fc6">'+bt1x+"</em>"};b0x.coB3x=function(){var IQ4U=76;var coy3x=function(){if(parseInt(cj1x)>IQ4U){a0x.bc1x(this.gx3x,"height","auto");a0x.bc1x(this.gx3x,"height",IQ4U+"px");a0x.bc1x(this.gx3x,"overflowY","scroll")}else{a0x.bc1x(this.gx3x,"height","auto");a0x.bc1x(this.gx3x,"height",cj1x);a0x.bc1x(this.gx3x,"overflowY","hidden")}}.f0x(this);var vC1x=function(string,number){for(var i=0,r="";i<number;i++)r+=string;return r};this.Ou6o.innerHTML=this.gx3x.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return vC1x("&nbsp;",space.length-1)+" "})+"&nbsp";var cj1x=this.Ou6o.offsetHeight>this.Ov6p?this.Ou6o.offsetHeight:this.Ov6p;cj1x+="px";var cQD8v=a0x.dk1x(this.gx3x,"height");setTimeout(coy3x,10)};b0x.Xs8k=function(){var qL6F=["overflowX","overflowY","fontSize","fontFamily","lineHeight"];for(var i=0;i<qL6F.length;i++){a0x.bc1x(this.Ou6o,qL6F[i],a0x.dk1x(this.gx3x,qL6F[i]))}var cL1x=this.gx3x.offsetWidth-parseInt(a0x.dk1x(this.gx3x,"paddingLeft"))-parseInt(a0x.dk1x(this.gx3x,"paddingRight"))+"px";a0x.bc1x(this.Ou6o,"width",cL1x)};b0x.cpq3x=function(){if(this.bIw7p){if(!a0x.D0x(document.body,"shadow-textarea")[0]){var eh2x='<div style="position:absolute;border: none;left:-10000px;word-wrap: break-word;overflow: hidden;resize:none" class="shadow-textarea"></div>';var g0x=a0x.po6i(eh2x);document.body.appendChild(g0x);this.Ou6o=a0x.D0x(document.body,"shadow-textarea")[0]}else{this.Ou6o=a0x.D0x(document.body,"shadow-textarea")[0]}this.Ov6p=parseInt(a0x.dk1x(this.gx3x,"height"));a0x.bc1x(this.gx3x,"overflow","hidden");this.Xs8k()}};b0x.Ex3x=function(){var d0x={};if(this.ge2x&&this.ge2x.buyed!=true&&this.ge2x.programFeeType>=10||this.ge2x&&this.ge2x.buyed!=true&&this.ge2x.programFeeType==5&&this.ge2x.radio.radioFeeType==2||this.ge2x&&this.ge2x.buyed!=true&&this.ge2x.radio.feeScope==1&&!(this.ge2x.radio.radioFeeType==0&&this.nv5A==11)){var bss2x=this.ge2x.radio.id,bsr2x="djradio";l0x.XL8D({id:bss2x,radiotype:bsr2x})}else{this.z0x("oncheckvalid",d0x);return!d0x.stopped}}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,j0x=c0x("nej.u"),h0x=c0x("nej.v"),H0x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;p0x.fw2x({"message_chat-add":{url:"/api/msg/private/send",filter:function(e0x){this.LT5Y(e0x,0)},format:function(m0x,e0x){this.byd5i(m0x.newMsgs);if(e0x.justSend){return m0x}else{return m0x.newMsgs.reverse()}},finaly:function(d0x,e0x){if(!d0x)return;if(!e0x.justSend){h0x.z0x(p0x.nd5i,"listchange",{key:e0x.key,action:"unshift",limit:d0x.limit,offset:0})}this.z0x("onafteritemaddd")},onmessage:function(cf1x){var cS1x="";if(cf1x==407){cS1x="发送内容中不得包含非法字符"}else if(cf1x==406||cf1x==405){cS1x="输入过于频繁，请稍后再试"}else if(cf1x==408){cS1x="请不要重复发送"}else if(cf1x==315){cS1x="根据对方设置，你没有该操作权限"}if(!!cS1x)n0x.ba1x.I0x({tip:cS1x,type:2})}},"message_chat-del":{url:"/api/msg/private/delete/single",format:function(Q0x,e0x){return Q0x.code==200},finaly:function(d0x,e0x){h0x.z0x(p0x.nd5i,"listchange",{key:e0x.key,action:"delete",data:e0x.data});this.z0x("onafteritemdelete")},onmessage:function(cf1x){}},"message_chat-list":{url:"/api/msg/private/history",filter:function(e0x,bm1x){if(window.location.href.indexOf("noticeaccountflag=true")!==-1){bm1x.url="/api/msg/private/noticeaccount/history"}else{bm1x.url="/api/msg/private/history"}this.LT5Y(e0x);delete e0x.data.offset},format:function(m0x,e0x){var Wu8m=m0x.msgs||m0x.data.msgs;this.byd5i(Wu8m);if(m0x.more||m0x.data&&m0x.data.hasMore){for(var i=Wu8m.length;i<e0x.limit;i++){Wu8m.push(null)}}else{return{total:e0x.offset+e0x.limit,list:Wu8m}}return Wu8m}},"message_chat-pull":{url:"/api/msg/private/new",filter:function(e0x){this.LT5Y(e0x,0)},format:function(m0x){return m0x.msgs}},"message_private-list":{url:"/api/msg/private/users",filter:function(e0x){},format:function(m0x,e0x){var cI1x=m0x.size||0,k0x=m0x.msgs;this.byg5l(k0x);if(e0x.offset+e0x.limit<cI1x){k0x.length=e0x.limit}return{total:cI1x,list:k0x}}},"message_private-pull":{url:"/api/msg/private/users",filter:function(e0x){e0x.data.time=-1},format:function(m0x,e0x){this.wK1x(e0x.key);this.byg5l(m0x.msgs);return m0x.msgs}},"message_private-del":{type:"GET",url:"/api/msg/private/delete",filter:function(e0x){var E0x=e0x.id;if(E0x)e0x.data={userId:E0x.split("-")[1]}},format:function(Q0x,e0x){return Q0x},finaly:function(d0x,e0x){h0x.z0x(p0x.nd5i,"listchange",{key:e0x.key,action:"refresh"})},onmessage:function(cf1x){}},"message_comment-list":{url:"/api/v1/user/comments/{uid}",filter:function(e0x){this.LT5Y(e0x);e0x.data.beforeTime=e0x.data.time;delete e0x.data.time;delete e0x.data.offset},format:function(m0x,e0x){if(e0x.data.offset==0)this.z0x("onnewcount",m0x.newCount);this.cqC3x(m0x);return{list:m0x.comments}}},"message_comment-del":{url:"/api/user/comments/delete",finaly:function(d0x,e0x){h0x.z0x(p0x.nd5i,"listchange",{key:e0x.key,action:"refresh"})}},"message_user_comment-reply":{url:"/api/user/comments/reply",format:function(Q0x){this.z0x("onreply");n0x.ba1x.I0x({tip:"回复成功"});return Q0x},onmessage:function(cf1x,m0x){if(cf1x==250){n0x.ba1x.I0x({tip:m0x.message||m0x.msg||"评论异常",type:2});return}n0x.ba1x.I0x({tip:"回复失败，请稍后再试",type:2})}},"message_resource_comment-reply":{url:"/api/resource/comments/reply",onmessage:function(cf1x,m0x){if(cf1x==250){n0x.ba1x.I0x({tip:m0x.message||m0x.msg||"评论异常",type:2});return}}},"message_notify-list":{url:"/api/msg/notices",filter:function(e0x){this.LT5Y(e0x);delete e0x.data.offset},format:function(m0x,e0x){if(e0x.data.offset==0)this.z0x("onnewcount",m0x.newCount);this.cqB3x(m0x);return{list:m0x.notices}}},"message_notify-del":{url:"TODO",format:function(Q0x,e0x){return e0x.ext},finaly:function(d0x,e0x){h0x.z0x(p0x.nd5i,"listchange",{key:e0x.key,action:"refresh"})},onmessage:function(cf1x){l0x.blr0x({txt:"通知删除失败！"})}},"message_at-list":{url:"/api/forwards/get",filter:function(e0x){},format:function(m0x,e0x){j0x.bf1x(m0x.forwards,function(q0x,r0x){q0x.isNew=r0x<m0x.newCount});m0x.forwards.length=e0x.limit;return{total:m0x.size,list:m0x.forwards}}},"message_at-pull":{url:"/api/forwards/get",filter:function(e0x){this.LT5Y(e0x,0)},format:function(m0x,e0x){return m0x.forwards}},"message_at-del":{url:"TODO",format:function(Q0x,e0x){return e0x.ext},finaly:function(d0x,e0x){h0x.z0x(p0x.nd5i,"listchange",{key:e0x.key,action:"refresh"})},onmessage:function(cf1x){l0x.blr0x({txt:"@消息删除失败！"})}},"event-like":{url:"/api/resource/like",onload:"oneventlike",filter:function(e0x,bm1x){if(e0x.like){bm1x.url="/api/resource/like";bm1x.onload="oneventlike"}else{bm1x.url="/api/resource/unlike";bm1x.onload="oneventunlike"}},format:function(m0x,e0x){m0x.id=e0x.id;m0x.isInner=!!e0x.isInner;return m0x}}});p0x.nd5i=NEJ.C();b0x=p0x.nd5i.N0x(p0x.hS3x);L0x=p0x.nd5i.ct1x;b0x.AT2x=function(e0x,q0x){if(!j0x.ef2x(q0x)){return L0x.AT2x.apply(this,arguments)}j0x.bf1x(q0x,function(i0x){L0x.AT2x.apply(this,[e0x,i0x])},this);return{limit:q0x.length}};b0x.cqA3x=function(q0x){if(!j0x.ef2x(q0x)){if(q0x.type==1){q0x.json=this.bDA6u(q0x.json,q0x.id)}else if(q0x.type==2){q0x.json=JSON.parse(q0x.json);q0x.json.resource=this.bDA6u(q0x.json.resource)}else if(q0x.type==3){q0x.json=JSON.parse(q0x.json)}return}j0x.bf1x(q0x,this.cqA3x,this)};b0x.bDA6u=function(th7a){if(j0x.fU2x(th7a)){th7a=JSON.parse(th7a)}if(!!th7a.json&&j0x.fU2x(th7a.json)){th7a.json=JSON.parse(th7a.json);if(!!th7a.json.event&&!!th7a.json.event.json&&j0x.fU2x(th7a.json.event.json)){th7a.json.event.json=JSON.parse(th7a.json.event.json)}}return th7a};b0x.byd5i=function(q0x){if(!j0x.ef2x(q0x)){q0x.msg=JSON.parse(q0x.msg||"{}");return}j0x.bf1x(q0x,this.byd5i,this)};b0x.byg5l=function(q0x){if(!j0x.ef2x(q0x)){q0x.id=q0x.toUser.userId+"-"+q0x.fromUser.userId;q0x.lastMsg=JSON.parse(q0x.lastMsg);return}j0x.bf1x(q0x,this.byg5l,this)};b0x.cqC3x=function(i0x){var bA1x={0:"/playlist?id={id}",1:"/dj?id={id}",2:"/event?id={id}&uid={userId}",3:"/album?id={id}",4:"/song?id={id}",5:"/mv?id={id}",6:"/topic?id={id}",62:"/video?id={id}&toast=true"};j0x.bf1x(i0x.comments,function(q0x,r0x){try{q0x.resourceJson=JSON.parse(q0x.resourceJson)}catch(e){q0x.resourceJson=null}if(q0x.resourceJson){if(q0x.resourceType!==62||q0x.resourceJson.id){q0x.resUrl=l0x.bar9i(bA1x[q0x.resourceType],q0x.resourceJson)}}},this)};b0x.cqB3x=function(){var cpu3x=function(bS1x){var Q0x,cT1x="";try{Q0x=JSON.parse(bS1x.json)}catch(e){Q0x={}}switch(bS1x.type){case 12:cT1x="我创建了歌单";cT1x=cT1x+"「"+Q0x.playlist.name+"」by "+Q0x.playlist.creator.nickname;break;case 13:cT1x="我分享了歌单";cT1x=cT1x+"「"+j0x.dN2x(Q0x.playlist.name)+"」by "+Q0x.playlist.creator.nickname;break;case 14:cT1x="我收藏了歌单";cT1x=cT1x+"「"+j0x.dN2x(Q0x.playlist.name)+"」by "+Q0x.playlist.creator.nickname;break;case 15:case 16:cT1x="我创建了节目";cT1x=cT1x+"「"+Q0x.program.name+"」by "+Q0x.program.dj.nickname;break;case 17:cT1x="我分享了节目";cT1x=cT1x+"「"+Q0x.program.name+"」by "+Q0x.program.dj.nickname;break;case 18:cT1x="我分享了歌曲";cT1x=cT1x+"「"+Q0x.song.name+"」by ";for(var i=0,l=Q0x.song.artists.length;i<l;i++){cT1x=cT1x+Q0x.song.artists[i].name;if(i<l-1)cT1x=cT1x+"/"}break;case 19:cT1x="我分享了专辑";cT1x=cT1x+"「"+Q0x.album.name+"」by "+Q0x.album.artist.name;break;case 36:cT1x="我分享了歌手";cT1x=cT1x+"「"+Q0x.resource.name+"」";break;case 21:cT1x="我分享了MV";cT1x=cT1x+"「"+Q0x.mv.name+"」by "+Q0x.mv.artistName;break;case 22:cT1x="我的动态:"+(l0x.zu2x(j0x.dN2x(Q0x.msg),"s-fc3")||"转发");break;case 23:cT1x="我收藏了节目";cT1x=cT1x+"「"+Q0x.program.name+"」by "+Q0x.program.dj.nickname;break;case 24:cT1x="我分享了专栏文章";cT1x=cT1x+"「"+Q0x.topic.mainTitle+"」";break;case 28:cT1x="我分享了电台";cT1x=cT1x+"「"+Q0x.djRadio.name+"」by "+Q0x.djRadio.dj.nickname;break;case 31:cT1x="我分享了评论：";cT1x=cT1x+l0x.zu2x((Q0x.resource||bb1x).content||"");if(Q0x.resource&&Q0x.resource.expressionUrl){cT1x+="[表情图片]"}break;case 35:cT1x="我的动态:"+l0x.zu2x(j0x.dN2x(Q0x.msg),"s-fc3")+(bS1x.pics&&bS1x.pics.length?"[图片]":"");break;case 39:cT1x="我发布了视频";cT1x=cT1x+"「"+Q0x.video.title+"」";break;case 41:cT1x="我分享了视频";cT1x=cT1x+"「"+Q0x.video.title+"」";break}Q0x.str=cT1x;return Q0x};var com3x=function(JF4J){var bA1x={A_PL_0:"playlist",R_MV_5:"mv",A_TO_6:"topic",A_DJ_1:"dj",A_EV_2:"event",R_AL_3:"album",R_SO_4:"song",A_DR_14:"radio",R_VI_62:"video"};if(/^(\w_\w{2}_\d+)+_(.+)$/.test(JF4J)){var t0x=bA1x[RegExp.$1],cq1x=RegExp.$2.split("_");return"/"+t0x+"?id="+cq1x[0]+(t0x=="event"?"&uid="+cq1x[1]:"")+"&_hash=comment-box&toast=true"}};var cnz2x=function(eM2x){var eM2x=JSON.parse(eM2x);switch(eM2x.type){case 1:if(!eM2x.track)return;eM2x.msg="赞了你的动态";eM2x.url="/event?toast=true&id="+eM2x.track.id+"&uid="+GUser.userId;eM2x.track=cpu3x(eM2x.track);break;case 2:eM2x.msg="收藏了你的歌单";eM2x.url="/playlist?id="+eM2x.playlist.id;eM2x.res=eM2x.playlist;break;case 3:eM2x.msg="分享了你的歌单";eM2x.url="/playlist?id="+eM2x.playlist.id;eM2x.res=eM2x.playlist;break;case 4:eM2x.msg="分享了你的节目";eM2x.url="/dj?id="+eM2x.program.id;eM2x.res=eM2x.program;break;case 5:eM2x.msg="收藏了你的节目";eM2x.url="/dj?id="+eM2x.program.id;eM2x.res=eM2x.program;break;case 6:eM2x.msg="赞了你的评论";eM2x.url=com3x(eM2x.comment.threadId);eM2x.comment=eM2x.comment;break;case 7:eM2x.msg="赞了你的节目";eM2x.url="/dj?id="+eM2x.program.id;eM2x.res=eM2x.program;break;case 8:eM2x.msg="订阅了你的电台";eM2x.url="/radio?id="+eM2x.djRadio.id;eM2x.res=eM2x.djRadio;break;case 9:eM2x.msg="赞了你的专栏文章";eM2x.url="/topic?id="+eM2x.topic.id;eM2x.topic=eM2x.topic;break;case 10:if(!eM2x.generalNotice)return;eM2x.msg=eM2x.generalNotice.actionDesc;eM2x.url=eM2x.generalNotice.webUrl;if(eM2x.url.indexOf("/video?id=")==0){eM2x.url+="&toast=true"}eM2x.generalContent=eM2x.generalNotice.content;break}return eM2x};return function(i0x){j0x.bf1x(i0x.notices,function(q0x,r0x){q0x.notice=cnz2x(q0x.notice)},this)}}();b0x.LT5Y=function(e0x,r0x,J0x){var bB1x=-1,k0x=this.hU3x(e0x.key),bn1x=e0x.offset;bn1x=bn1x!=null?bn1x:k0x.length;if(bn1x>0&&k0x.length>0){var clq2x=0;r0x=r0x!=null?r0x:bn1x-1;while(r0x>=0&&!k0x[r0x]){r0x--;clq2x++}if(r0x>=0&&k0x[r0x]){bB1x=k0x[r0x][J0x||"time"]}}e0x.data.time=bB1x};b0x.ckU2x=function(e0x){e0x.onload=this.bDz6t.f0x(this);e0x.onerror=this.bDz6t.f0x(this);this.ck1x("message_resource_comment-reply",e0x)};b0x.bDz6t=function(d0x){this.z0x("onreply2",d0x)};b0x.bkj9a=function(e0x){this.ck1x("message_user_comment-reply",e0x)};b0x.JI4M=function(d0x){this.z0x("onreply",d0x)};b0x.bkA0x=function(e0x){e0x.onload=this.VM7F.f0x(this);this.ck1x("message_chat-add",e0x)};b0x.VM7F=function(d0x){this.z0x("onsend",d0x)};b0x.qk6e=function(e0x){this.ck1x("event-like",e0x)};H0x.fV2x.B0x({element:p0x.nd5i,event:"listchange"})})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),u0x=c0x("nej.j"),bb1x=c0x("nej.o"),j0x=c0x("nej.u"),h0x=c0x("nej.v"),dr2x=c0x("nej.p"),y0x=c0x("nm.w"),l0x=c0x("nm.x"),bG1x=c0x("nej.ui"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;n0x.uv0x=NEJ.C();b0x=n0x.uv0x.N0x(n0x.ee2x,!0);L0x=n0x.uv0x.prototype;b0x.cd1x=function(){this.cc1x="m-msg-private-send"};b0x.bV1x=function(){this.ch1x();var bQ1x=a0x.D0x(this.o0x,"j-flag");this.wb1x={parent:bQ1x[1],err:bQ1x[0]};this.fx2x={parent:bQ1x[2],type:4,nomention:true,numLimit:200,onsubmit:this.Vq7j.f0x(this)};if(dr2x.dB2x.browser=="ie"&&dr2x.dB2x.version<"8.0"){a0x.bc1x(bQ1x[0],"position","relative");a0x.bc1x(bQ1x[0],"zIndex","10")}l0x.jZ4d()};b0x.bo1x=function(e0x){l0x.sp6j(function(){e0x.parent=document.body;e0x.onclose=function(){this.bD1x()}.f0x(this);e0x.mask=true;this.bp1x(e0x);!!e0x.receiver&&(this.wb1x.receiver=e0x.receiver);this.pF6z=y0x.Jc4g.B0x(this.wb1x);this.ew2x=y0x.Ee3x.B0x(this.fx2x);this.S0x=p0x.nd5i.B0x({onsend:this.VM7F.f0x(this),onerror:function(i0x){var m0x=i0x.result||{};if(m0x.code==250){n0x.ba1x.I0x({tip:m0x.message||m0x.msg||"操作异常",type:2})}else{n0x.ba1x.I0x({tip:"发送失败",type:2})}this.ew2x.zY2x()}.f0x(this)})}.f0x(this),true)};b0x.bD1x=function(){this.bH1x();if(!!this.pF6z){this.pF6z.V0x();delete this.pF6z}if(!!this.ew2x){this.ew2x.V0x();delete this.ew2x}};b0x.Vq7j=function(C0x){if(!!C0x){var Qx6r=this.pF6z.Qi6c();if(!!Qx6r.length){this.Vn7g={type:"text",msg:C0x,userIds:JSON.stringify(Qx6r)};l0x.kV4Z(this.byy5D.f0x(this));this.ew2x.z0x("onloading")}else{l0x.dV2x({title:"提示",message:"请选择私信发送对象"})}}else{l0x.dV2x({title:"提示",message:"私信内容不能为空"})}};b0x.byy5D=function(cm1x){this.Vn7g.checkToken=cm1x||"";this.S0x.bkA0x({data:this.Vn7g,justSend:true})};b0x.VM7F=function(m0x){this.br1x();if(m0x.code==200){n0x.ba1x.I0x({tip:"发送成功"})}}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,h0x=c0x("nej.v"),a0x=c0x("nej.e"),u0x=c0x("nej.j"),j0x=c0x("nej.u"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),bG1x=c0x("nej.ui"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),b0x,L0x;n0x.bvn4r=NEJ.C();b0x=n0x.bvn4r.N0x(n0x.ee2x);L0x=n0x.bvn4r.ct1x;b0x.cd1x=function(){this.cc1x="m-question"};b0x.bV1x=function(){this.ch1x();var k0x=a0x.D0x(this.o0x,"j-flag");this.eY2x=k0x[1];this.pX6R=k0x[2];this.pF6z=y0x.RF6z.B0x({filter:this.ctT4X,parent:k0x[0]});h0x.s0x(this.o0x,"click",this.bR1x.f0x(this))};b0x.bo1x=function(e0x){e0x.parent=e0x.parent||document.body;e0x.title="回答安全问题";e0x.draggable=!0;e0x.destroyalbe=!0;e0x.mask=true;this.bp1x(e0x);this.pF6z.lA4E(e0x.data||[])};b0x.bD1x=function(){this.bH1x();this.eY2x.value=""};b0x.CP3x=function(){this.br1x()};b0x.bR1x=function(d0x){var g0x=h0x.Z1x(d0x,"d:action");switch(a0x.v0x(g0x,"action")){case"back":this.z0x("onback");this.br1x();break;case"next":var bFu6o=this.eY2x.value.trim();if(!bFu6o){this.iS3x("请输入回答");return}var i0x={questionId:this.pF6z.gk2x().id,answer:j0x.kC4G(bFu6o)};this.iS3x(null);u0x.be1x("/store/api/security/validateAnswer",{type:"json",method:"post",data:j0x.cr1x(i0x),onload:this.bFv6p.f0x(this),onerror:this.bFv6p.f0x(this)});break}};b0x.ctT4X=function(q0x){return q0x.question};b0x.iS3x=function(cS1x){if(cS1x){this.pX6R.innerHTML='<i class="u-icn u-icn-25"></i>'+cS1x;a0x.x0x(this.pX6R,"f-hide")}else{a0x.w0x(this.pX6R,"f-hide")}};var tp7i=function(d0x){try{top.doMsgToServiceAction(d0x)}catch(e){}};b0x.bFv6p=function(d0x){if(d0x&&d0x.code==200){this.z0x("onnext");this.br1x()}else{var bA1x={"-3":"回答错误，您还有"+d0x.times+"次机会！"};if(d0x.code==-2||d0x.code==-4){l0x.dV2x({clazz:"m-layer-w2",title:"更换手机号",message:"<p>帐号已被锁定</p>"+'<p class="f-mgt10">回答错误的次数过多，您的帐号已被锁定，将无法进行任何商城交易，<br/>'+'请私信<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 解锁。</p>',btntxt:"知道了",action:tp7i});this.br1x()}else{this.iS3x(bA1x[d0x.code]||"回答出错")}}};l0x.cuF4J=function(e0x){var bFw6q=function(d0x){if(d0x&&d0x.code==200){e0x.data=d0x.data;n0x.bvn4r.B0x(e0x).I0x()}else{l0x.dV2x({clazz:"m-layer-w2",message:'私信 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tp7i})}};u0x.be1x("/store/api/security/getQuestion",{type:"json",method:"get",onload:bFw6q,onerror:bFw6q})}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.bvd4h=NEJ.C();b0x=n0x.bvd4h.N0x(n0x.ee2x);L0x=n0x.bvd4h.ct1x;b0x.cd1x=function(){this.cc1x="ntp-oldphonecheck"};b0x.bV1x=function(){this.ch1x();this.dX2x=a0x.D0x(this.o0x,"u-err")[0];this.bFx6r=a0x.D0x(this.o0x,"errTxt")[0];var cY1x=a0x.D0x(this.o0x,"js-txt");this.Ea3x=cY1x[0];h0x.s0x(this.Ea3x,"focus",this.bml0x.f0x(this));h0x.s0x(this.Ea3x,"keyup",this.bmp0x.f0x(this));h0x.s0x(this.o0x,"click",this.bR1x.f0x(this))};var tp7i=function(d0x){try{top.doMsgToServiceAction(d0x)}catch(e){}};b0x.bo1x=function(e0x){e0x=e0x||{};this.bp1x(e0x);this.dw2x=e0x;this.bX1x(false);this.Ea3x.value=""};b0x.bD1x=function(){this.bH1x();if(this.dJ2x)this.dJ2x=clearInterval(this.dJ2x)};b0x.bml0x=function(){a0x.x0x(this.Ea3x,"u-txt-err")};b0x.bmp0x=function(d0x){if(/[^\d]/.test(this.Ea3x.value))this.Ea3x.value=this.Ea3x.value.replace(/[^\d]/g,"")};b0x.bR1x=function(d0x){var G0x=h0x.Z1x(d0x,"d:action");if(!G0x)return;var U0x=a0x.v0x(G0x,"action");switch(U0x){case"next":this.cuU4Y(d0x);break;case"send":this.IJ4N(d0x);break;case"back":this.bfm9d(d0x);break;case"skip":this.ME5J(d0x);break}};b0x.cuU4Y=function(d0x){var fv2x=this.EV3x();console.log(fv2x);if(!fv2x)return;u0x.be1x("/api/user/oldcellphone/check",{type:"json",method:"get",query:{phone:fv2x},onload:function(d0x){if(d0x&&d0x.code==200&&d0x.data&&d0x.data.cellphoneCheck){this.z0x("onok",{oldPhone:fv2x})}else if(d0x.data&&d0x.data.outOfLimitTimes){this.bD1x();l0x.dV2x({clazz:"m-layer-w2",message:'<div style="padding:0 20px;">手机号输错次数过多，为了安全，一天内您不能再使用本解绑方式，如有任何疑问请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>。</div>',action:tp7i})}else{this.bX1x("原手机号错误")}}.f0x(this),onerror:function(){l0x.dV2x({clazz:"m-layer-w2",message:'<div style="padding:0 20px;">您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>。</div>',action:tp7i})}.f0x(this)})};b0x.EV3x=function(){var fv2x=this.gi2x||this.Ea3x.value.trim();if(!fv2x)return this.bX1x("请输入手机号","mobile");return fv2x};b0x.bX1x=function(bC1x){console.log(this.dX2x);if(bC1x){a0x.x0x(this.dX2x,"f-hide");this.bFx6r.innerHTML=bC1x}else{a0x.w0x(this.dX2x,"f-hide");this.bFx6r.innerHTML=""}}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),ci1x=c0x("nej.ut"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),F0x=c0x("nm.m"),b0x,L0x;n0x.bdQ0x=NEJ.C();b0x=n0x.bdQ0x.N0x(ci1x.cP1x);b0x.bo1x=function(e0x){this.bp1x(e0x);this.dw2x=e0x;this.bFy6s=e0x.mobile;this.fI2x=e0x.countrycode||"86";this.nh5m=e0x.isBindPhone;this.S0x=p0x.mT5Y.B0x();this.S0x.s0x("onsendcaptcha",this.sf6Z.f0x(this));this.S0x.s0x("onsendcaptchaerror",this.Mt5y.f0x(this));this.S0x.s0x("onchangemobile",this.bFz6t.f0x(this));this.S0x.s0x("onchangemobileerror",this.buV3x.f0x(this));h0x.s0x(window,"snsverify",this.cvC4G.f0x(this));this.bFB6v()};b0x.bD1x=function(){this.bH1x();this.S0x.V0x();if(this.ed2x)this.ed2x.V0x();if(this.xc1x)this.xc1x.V0x()};var tp7i=function(d0x){try{top.doMsgToServiceAction(d0x)}catch(e){}};b0x.bFB6v=function(){if(this.ed2x)this.ed2x.br1x();if(this.xc1x)this.xc1x.V0x();this.xc1x=l0x.kk4o({title:"更换手机号",clazz:"m-layer-find",txt:"txt-mobilestatus",onaction:function(d0x){if(d0x.action=="valid"){this.S0x.AV2x({data:{ctcode:this.fI2x,cellphone:this.bFy6s,isBindPhone:this.nh5m}})}else{this.cvV4Z()}}.f0x(this)})};b0x.cvV4Z=function(){var self=this;u0x.be1x("/api/user/specialuser",{type:"json",method:"get",onload:function(d0x){if(d0x&&d0x.code==200&&d0x.data){l0x.dV2x({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tp7i})}else{self.cvZ4d()}},onerror:function(){l0x.dV2x({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tp7i})}})};b0x.cvZ4d=function(){u0x.be1x("/api/user/binding/thirdaccount/intime/get",{type:"json",method:"get",onload:function(d0x){if(d0x&&d0x.code==200&&d0x.data&&d0x.data.length>0){this.cwa4e(d0x.data)}else{l0x.dV2x({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tp7i})}}.f0x(this),onerror:function(){l0x.dV2x({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tp7i})}.f0x(this)})};b0x.cwa4e=function(data){if(this.xc1x)this.xc1x.V0x();var hasWx=false,hasQQ=false;for(var i=0;i<data.length;i++){var item=data[i];if(item.type==5){hasQQ=true}else if(item.type==10){hasWx=true}}this.xc1x=l0x.kk4o({title:"第三方验证",clazz:"m-layer-verify",html:a0x.cb1x("jst-mobilethirdaccount",{hasWx:hasWx,hasQQ:hasQQ}),onaction:function(d0x){this.t0x=parseInt(d0x.action,10);var hA3x={callbackType:"verify",clientType:"web2",forcelogin:true,snsType:this.t0x};F0x.Sc6W("/api/sns/authorize?"+j0x.cr1x(hA3x),"_blank",this.t0x,true);if(this.xc1x)this.xc1x.V0x()}.f0x(this)})};b0x.cvC4G=function(bj1x){console.log(bj1x,"snsverify");var isMatch=bj1x.result.result;console.log(isMatch,"isMatch");var snsType=this.t0x===5?"QQ":"微信";if(!isMatch){l0x.dV2x({clazz:"m-layer-w2",message:"当前"+snsType+"账号与绑定账号不匹配，请检查"+snsType+"是否登录"+'<br />或联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:tp7i});return}u0x.be1x("/api/user/replace/cellphone/safe/get",{type:"json",method:"get",onload:function(d0x){if(d0x&&d0x.code==200&&d0x.data){this.cwx4B()}else{l0x.dV2x({clazz:"m-layer-w2",message:'您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:tp7i})}}.f0x(this),onerror:function(){l0x.dV2x({clazz:"m-layer-w2",message:'您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:tp7i})}.f0x(this)})};b0x.cwx4B=function(){this.bdJ0x=n0x.bvd4h.I0x({title:"原手机号验证",onok:this.cwI4M.f0x(this)})};b0x.sf6Z=function(bj1x){this.ed2x=n0x.ow5B.I0x({title:"更换手机号",mobile:this.bFy6s,countrycode:this.fI2x,okbutton:"下一步",onok:this.cwJ4N.f0x(this),backbutton:"&lt;&nbsp;&nbsp;上一步",onback:this.bFB6v.f0x(this),isBindPhone:this.nh5m})};b0x.Mt5y=function(d0x){n0x.ba1x.I0x({tip:(d0x||{}).message||"更换失败，请重试",type:2})};b0x.cwJ4N=function(bL1x){if(this.bdJ0x)this.bdJ0x.V0x();var bL1x=bL1x||{};this.ed2x=n0x.ow5B.I0x({title:"更换手机号",mobileLabel:"新手机号：",okbutton:"完成",onok:this.cwL4P.f0x(this,bL1x.captcha)})};b0x.cwI4M=function(bL1x){console.log(bL1x,"inputmobile2");if(this.bdJ0x)this.bdJ0x.V0x();var bL1x=bL1x||{};this.cwM4Q=bL1x.oldPhone;this.ed2x=n0x.ow5B.I0x({title:"更换手机号",mobileLabel:"新手机号：",okbutton:"完成",onok:this.cwN4R.f0x(this)})};b0x.cwN4R=function(bj1x){this.bdF0x=bj1x.mobile;this.cZ1x=bj1x.captcha;this.fI2x=bj1x.countrycode||86;var queryObj={oldPhone:this.cwM4Q,phone:this.bdF0x,captcha:this.cZ1x,password:"",countrycode:this.fI2x};u0x.be1x("/api/user/replacecellphone/v3",{type:"json",method:"post",data:j0x.cr1x(queryObj),onload:function(d0x){if(d0x&&d0x.code===200){this.bFz6t()}else{this.buV3x(d0x)}}.f0x(this),onerror:function(d0x){this.buV3x(d0x)}.f0x(this)})};b0x.cwL4P=function(cwV4Z,bj1x){this.bdF0x=bj1x.mobile;this.cZ1x=bj1x.captcha;this.fI2x=bj1x.countrycode||86;this.S0x.cpm3x({data:{phone:this.bdF0x,captcha:this.cZ1x,countrycode:this.fI2x,oldcaptcha:cwV4Z}})};b0x.bFz6t=function(bj1x){this.ed2x.br1x();n0x.ba1x.I0x({tip:"更换成功"});if(this.dw2x.onsuccess)this.dw2x.onsuccess({mobile:this.bdF0x})};b0x.buV3x=function(bj1x){if(bj1x.code==506){this.ed2x.cQ1x(false);this.ed2x.bX1x(bj1x.message,"mobile")}else{this.ed2x.br1x();n0x.ba1x.I0x({tip:"更换失败，请重试",type:2})}}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),H0x=c0x("nej.ut"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),cx1x=c0x("api"),y0x=c0x("nm.w");var buJ3x=null,bFD6x=null;var cwY4c=function(fv2x,bFE6y){if(buJ3x)buJ3x.V0x();buJ3x=n0x.bdQ0x.B0x({title:"更换手机号",mobile:fv2x,onsuccess:function(bj1x){if(bFE6y)bFE6y({cellphone:bj1x.mobile})}})};var cxt4x=function(e0x){u0x.be1x("/api/sms/captcha/sent",{type:"json",query:{cellphone:e0x.mobile,channel:"new"},onload:function(d0x){if(d0x.code!=200)return n0x.ba1x.I0x({tip:d0x.message||"验证码发送失败",type:2});bFD6x=n0x.ow5B.I0x({title:e0x.title||"验证手机号",mobile:e0x.mobile,countrycode:e0x.countrycode,okbutton:e0x.ntext||"下一步",onok:function(bj1x){bFD6x.br1x();if(e0x.onnext)e0x.onnext(bj1x)}})},onerror:function(){n0x.ba1x.I0x({tip:"验证码发送失败",type:2})}})};cx1x.changePhone=cwY4c;cx1x.phoneCode=cxt4x;cx1x.validateQuestion=l0x.cuF4J})();
(function(){var c0x=NEJ.P,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),bk1x=c0x("nej.h"),P0x=c0x("nej.p");var jE4I={opacity:1,"z-index":1,background:1,"font-weight":1,filter:1};bk1x.bJq7j=function(iV3x){return jE4I[iV3x]===undefined&&iV3x.indexOf("color")<0};bk1x.bck0x=function(g0x,nX5c,rT6N){rT6N=rT6N.slice(0,-1);a0x.bc1x(g0x,"transition",rT6N);a0x.fn2x(g0x,nX5c);return this};bk1x.TZ7S=function(g0x,W0x,nV5a){a0x.fn2x(g0x,W0x);a0x.bc1x(g0x,"transition","none");nV5a.call(null,W0x);return this}})();
(function(){var c0x=NEJ.P,bs1x=NEJ.F,bk1x=c0x("nej.h"),P0x=c0x("nej.p");if(P0x.nP5U.trident1)return;bk1x.GQ4U=function(){return!0}})();
(function(){var c0x=NEJ.P,P0x=c0x("nej.ut"),b0x;if(!!P0x.NR5W)return;P0x.NR5W=NEJ.C();b0x=P0x.NR5W.N0x(P0x.HB4F);b0x.bo1x=function(e0x){e0x=NEJ.X({},e0x);e0x.timing="easeout";this.bp1x(e0x)}})();
(function(){var c0x=NEJ.P,P0x=c0x("nej.ut"),b0x;if(!!P0x.bBk5p)return;P0x.bBk5p=NEJ.C();b0x=P0x.bBk5p.N0x(P0x.HB4F);b0x.bo1x=function(e0x){e0x=NEJ.X({},e0x);e0x.timing="easeinout";this.bp1x(e0x)}})();
(function(){var c0x=NEJ.P,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),bk1x=c0x("nej.h"),P0x=c0x("nej.p"),dh1x=c0x("nej.x"),ci1x=c0x("nej.ut");if(P0x.nP5U.trident)return;var bJp7i={linear:ci1x.vc1x,"ease-in":ci1x.GE4I,"ease-out":ci1x.NR5W,"ease-in-out":ci1x.bBk5p};bk1x.bck0x=function(){var cuE4I=function(nX5c,rT6N){var cT1x="";j0x.eT2x(nX5c,function(C0x,Y0x){cT1x+=rT6N.replace("all",Y0x)});return cT1x};var cux4B=function(C0x,iV3x){if(iV3x==="filter"){C0x=j0x.LC5H(C0x,0);C0x="alpha(opacity="+C0x+")"}if(iV3x==="z-index")C0x=j0x.LC5H(C0x,0);return C0x};var cuv4z=function(C0x){return bJp7i[C0x.split(" ")[2]]};var cus4w=function(g0x,C0x,nX5c,nV5a,r0x){var C0x=C0x.split(" "),iV3x=C0x[0],en2x=parseFloat(a0x.dk1x(g0x,iV3x))||0,op5u=parseFloat(nX5c[iV3x])||0,cua4e=bJp7i[C0x[2]],bBu5z=C0x[1].slice(0,-1)*1e3+C0x[3].slice(0,1)*1e3;if(bBu5z>=g0x.sumTime){g0x.sumTime=bBu5z;g0x.isLastOne=r0x}var Ug7Z=nej.p.dB2x.engine==="trident"&&nej.p.dB2x.release-5<0;if(iV3x==="opacity"&&Ug7Z){iV3x="filter";var ek2x=a0x.dk1x(g0x,iV3x);en2x=parseFloat(ek2x.split("=")[1])||0;op5u=op5u*100}var e0x={from:{offset:en2x},to:{offset:op5u},duration:bBu5z,onupdate:function(bn1x){var C0x=bn1x.offset;if(!bk1x.bJq7j(iV3x)){C0x=cux4B(C0x,iV3x);a0x.bc1x(g0x,iV3x,C0x)}else{a0x.bc1x(g0x,iV3x,C0x+"px")}},onstop:function(iV3x){var NU5Z=g0x.effects[r0x];if(!NU5Z)return;NU5Z=cua4e.V0x(NU5Z);if(g0x.isLastOne===r0x)nV5a.apply(this)}.f0x(this,r0x)};return e0x};return bk1x.bck0x.eN2x(function(d0x){d0x.stopped=!0;var k0x=d0x.args;var g0x=k0x[0],nX5c=k0x[1],rT6N=k0x[2],nV5a=k0x[3];g0x.sumTime=0,g0x.isLastOne=0;var bJj7c=[];if(rT6N.indexOf("all")>-1)rT6N=cuE4I(nX5c,rT6N);var bBA5F=rT6N.slice(0,-1);bBA5F=bBA5F.split(",");g0x.effects=[];j0x.bf1x(bBA5F,function(C0x,r0x){var e0x=cus4w(g0x,C0x,nX5c,nV5a,r0x);bJj7c.push({o:e0x,c:cuv4z(C0x)})});j0x.bf1x(bJj7c,function(q0x,r0x){var NU5Z=q0x.c.B0x(q0x.o);g0x.effects[r0x]=NU5Z;NU5Z.ez2x()});return this})}();bk1x.TZ7S=bk1x.TZ7S.eN2x(function(d0x){d0x.stopped=!0;var k0x=d0x.args;var g0x=k0x[0];j0x.bf1x(g0x.effects,function(bb1x){bb1x.bg1x()});g0x.effects=[];return this})})();
(function(){var c0x=NEJ.P,bs1x=NEJ.F,bk1x=c0x("nej.h"),a0x=c0x("nej.e"),P0x=c0x("nej.p");if(P0x.nP5U.gecko)return;bk1x.bck0x=function(g0x,nX5c,rT6N){rT6N=rT6N.slice(0,-1);a0x.bc1x(g0x,"transition",rT6N);setTimeout(function(){a0x.fn2x(g0x,nX5c)},33);return this}})();
(function(){var c0x=NEJ.P,bs1x=NEJ.F,bk1x=c0x("nej.h"),P0x=c0x("nej.p");if(P0x.nP5U.webkit)return})();
(function(){var c0x=NEJ.P,bs1x=NEJ.F,bk1x=c0x("nej.h"),P0x=c0x("nej.p");if(P0x.nP5U.presto)return})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,j0x=c0x("nej.u"),bk1x=c0x("nej.h"),a0x=c0x("nej.e"),h0x=c0x("nej.v"),P0x=c0x("nej.ut"),vQ1x;if(!!P0x.sW7P)return;P0x.sW7P=NEJ.C();vQ1x=P0x.sW7P.N0x(P0x.cP1x);vQ1x.bo1x=function(e0x){this.bp1x(e0x);this.oS5X=a0x.A0x(e0x.node);this.bJh7a=e0x.styles||[];this.bJg7Z=e0x.onstop||bs1x;this.bBI6C=e0x.transition||[];this.Um7f={};this.bJf7Y=this.ctC4G();if(!!bk1x.GQ4U&&bk1x.GQ4U()){setTimeout(this.GQ4U.f0x(this),this.bBO6I*1e3)}else{this.bY1x([[this.oS5X,"transitionend",this.GQ4U.f0x(this)]])}};vQ1x.bD1x=function(){if(!!this.NW5b){this.NW5b=window.clearInterval(this.NW5b)}delete this.oS5X;delete this.bJh7a;delete this.bJf7Y;delete this.Um7f;delete this.bBQ6K;delete this.bBI6C;delete this.NW5b;this.bH1x()};vQ1x.GQ4U=function(d0x){if(!!bk1x.GQ4U&&bk1x.GQ4U()){this.bBR6L=!1;this.bg1x();return}if(!!this.bBR6L&&this.ctw4A(d0x)){this.bBR6L=!1;this.bg1x()}};vQ1x.ctw4A=function(d0x){var Y0x=d0x.propertyName;if(Y0x===this.bBQ6K||Y0x.indexOf(this.bBQ6K)>-1)return!0;else return!1};vQ1x.ctC4G=function(){var ctp3x=function(cn1x){var k0x=cn1x.split(":"),iV3x=k0x[0],C0x=k0x[1],g0x=this.oS5X;if(C0x.indexOf("=")>-1){var rb6V=parseInt(a0x.dk1x(g0x,iV3x))||0;var dr2x=parseInt(C0x.split("=")[1]);if(C0x.indexOf("+")>-1)C0x=rb6V+dr2x;else C0x=rb6V-dr2x}if(bk1x.bJq7j(iV3x)){if(C0x.toString().indexOf("px")<0)C0x+="px"}this.Um7f[iV3x]=C0x};var ctf3x=function(r0x){if(!this.bBI6C[r0x])return"";var sL7E=this.bBI6C[r0x],H0x=sL7E.duration+sL7E.delay;if(H0x>=this.bBO6I){this.bBO6I=H0x;this.bBQ6K=sL7E.property}return sL7E.property+" "+sL7E.duration+"s "+sL7E.timing+" "+sL7E.delay+"s,"};return function(){var bJb7U="";this.bBO6I=0;j0x.bf1x(this.bJh7a,function(cn1x,r0x){ctp3x.call(this,cn1x);bJb7U+=ctf3x.call(this,r0x)}.f0x(this));return bJb7U}}();vQ1x.csZ3x=function(){this.jd3x={};j0x.eT2x(this.Um7f,function(C0x,iV3x){this.jd3x[iV3x]=a0x.dk1x(this.oS5X,iV3x)}.f0x(this));this.z0x("onplaystate",this.jd3x)};vQ1x.vG1x=function(){this.bBR6L=!0;bk1x.bck0x(this.oS5X,this.Um7f,this.bJf7Y,this.bJg7Z);this.NW5b=window.setInterval(this.csZ3x.f0x(this),49);return this};vQ1x.bg1x=function(){bk1x.TZ7S(this.oS5X,this.Um7f,this.bJg7Z);this.NW5b=window.clearInterval(this.NW5b);return this};vQ1x.cQz8r=function(){};vQ1x.cQA8s=function(){}})();
(function(){var c0x=NEJ.P,bs1x=NEJ.F,j0x=c0x("nej.u"),a0x=c0x("nej.e"),j0x=c0x("nej.u"),P0x=c0x("nej.ut");a0x.bbZ0x=function(e0x){e0x=e0x||{};e0x.onstop=e0x.onstop||bs1x;e0x.onplaystate=e0x.onplaystate||bs1x;return e0x};a0x.bIW7P=function(){var csF3x=function(g0x,bbY0x,Ug7Z){var hr3x,fG2x=true;if(!!Ug7Z){j0x.eT2x(bbY0x,function(C0x,Y0x){if(Y0x==="opacity"){Y0x="filter";var ek2x=a0x.dk1x(g0x,Y0x);if(ek2x===""){a0x.bc1x(g0x,"filter","alpha(opacity=100)");hr3x=100}else{hr3x=parseFloat(ek2x.split("=")[1])||0}C0x=C0x*100}else{hr3x=a0x.dk1x(g0x,Y0x)}if(parseInt(hr3x)===C0x)fG2x=false}.f0x(this))}else{j0x.eT2x(bbY0x,function(C0x,Y0x){hr3x=a0x.dk1x(g0x,Y0x);if(parseInt(hr3x)===C0x)fG2x=false}.f0x(this))}return fG2x};return function(g0x,bbY0x){var Ug7Z=nej.p.dB2x.engine==="trident"&&nej.p.dB2x.release-5<0;if(!csF3x(g0x,bbY0x,Ug7Z))return!1;return!0}}();a0x.bIV7O=function(){var csx3x=function(g0x){var ben0x=a0x.dk1x(g0x,"display");if(ben0x==="none")return!1;return!0};return function(g0x,e0x,lb4f){var NH5M=e0x.opacity||lb4f;g0x=a0x.A0x(g0x);if(!csx3x.call(g0x))return!1;if(!!g0x.effect)return!1;if(!a0x.bIW7P(g0x,{opacity:NH5M}))return!1;e0x=a0x.bbZ0x(e0x);g0x.effect=P0x.sW7P.B0x({node:g0x,transition:[{property:"opacity",timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration||1}],styles:["opacity:"+NH5M],onstop:function(W0x){g0x.effect=P0x.sW7P.V0x(g0x.effect);e0x.onstop.call(null,W0x)},onplaystate:e0x.onplaystate.f0x(g0x.effect)});g0x.effect.vG1x();return this}}.f0x(this)();a0x.bbX0x=function(g0x,e0x){return a0x.bIV7O(g0x,e0x,1)};a0x.csh3x=function(g0x,e0x){return a0x.bIV7O(g0x,e0x,0)};a0x.csb3x=function(g0x){a0x.bjb9S(g0x);return this};a0x.bjb9S=function(g0x){g0x=a0x.A0x(g0x);if(g0x.effect&&g0x.effect.bg1x()){if(!!g0x.effect)g0x.effect=P0x.sW7P.V0x(g0x.effect)}return this};a0x.bIR7K=function(g0x,oJ5O,e0x){g0x=a0x.A0x(g0x);if(!!g0x.effect)return!1;if(!a0x.bIW7P(g0x,oJ5O))return!1;e0x=a0x.bbZ0x(e0x);e0x.duration=e0x.duration||[];var gw3x=oJ5O.top||0,hy3x=oJ5O.left||0;g0x.effect=P0x.sW7P.B0x({node:g0x,transition:[{property:"top",timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration[0]||1},{property:"left",timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration[1]||1}],styles:["top:"+gw3x,"left:"+hy3x],onstop:function(W0x){e0x.onstop.call(null,W0x);g0x.effect=P0x.sW7P.V0x(g0x.effect)},onplaystate:e0x.onplaystate.f0x(g0x.effect)});g0x.effect.vG1x();return this};a0x.bIQ7J=function(){return function(g0x,oJ5O,e0x){g0x=a0x.A0x(g0x);if(!!g0x.effect)return!1;e0x=a0x.bbZ0x(e0x);var k0x=oJ5O.split(":"),crT3x=k0x[0],bIP7I=[];bIP7I.push(oJ5O);g0x.effect=P0x.sW7P.B0x({node:g0x,transition:[{property:crT3x,timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration||1}],styles:bIP7I,onstop:function(W0x){e0x.onstop.call(null,W0x);g0x.effect=P0x.sW7P.V0x(g0x.effect)},onplaystate:e0x.onplaystate.f0x(g0x.effect)});g0x.effect.vG1x();return this}}();a0x.cQC8u=function(){var bjh9Y=function(g0x,t0x){return t0x=="height"?g0x.clientHeight:g0x.clientWidth};return function(g0x,t0x,e0x){g0x=a0x.A0x(g0x);if(!!g0x.effect)return!1;e0x=a0x.bbZ0x(e0x);var C0x=e0x.value||false;if(!C0x){a0x.bc1x(g0x,"display","block");var g0x=a0x.A0x(g0x);C0x=bjh9Y(g0x,t0x)}var fG2x=a0x.dk1x(g0x,"visibility");if(fG2x==="hidden"){g0x.style.height=0;a0x.bc1x(g0x,"visibility","inherit");g0x.effect=P0x.sW7P.B0x({node:g0x,transition:[{property:t0x,timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration||1}],styles:[t0x+":"+C0x],onstop:function(W0x){e0x.onstop.call(null,W0x);g0x.effect=P0x.sW7P.V0x(g0x.effect);bbU0x=window.clearTimeout(bbU0x)},onplaystate:e0x.onplaystate.f0x(g0x.effect)})}else{g0x.style.height=C0x;g0x.effect=P0x.sW7P.B0x({node:g0x,transition:[{property:t0x,timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration||1}],styles:[t0x+":"+0],onstop:function(W0x){a0x.bc1x(g0x,"visibility","hidden");a0x.bc1x(g0x,t0x,"auto");e0x.onstop.call(null,W0x);g0x.effect=P0x.sW7P.V0x(g0x.effect);bbU0x=window.clearTimeout(bbU0x)},onplaystate:e0x.onplaystate.f0x(g0x.effect)})}var bbU0x=window.setTimeout(function(){g0x.effect.vG1x()}.f0x(this),0);return this}}()})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),H0x=c0x("nej.ut"),j0x=c0x("nej.u"),bG1x=c0x("nej.ui"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),cx1x=c0x("api"),b0x,L0x;y0x.HD4H=NEJ.C();b0x=y0x.HD4H.N0x(bG1x.es2x);L0x=y0x.HD4H.ct1x;b0x.cd1x=function(){this.cc1x="m-image-preview"};b0x.bV1x=function(){this.ch1x();var k0x=a0x.D0x(this.o0x,"j-flag");this.Qp6j=k0x[0];this.nG5L=k0x[1];this.ei2x=k0x[2];this.Sp7i=k0x[3];this.Su7n=k0x[4];this.UK7D=k0x[5]};b0x.bo1x=function(e0x){this.bp1x(e0x);this.cyd4h();this.jN4R=e0x.urls;this.gQ3x=this.jN4R.length;if(this.gQ3x==1){a0x.bc1x(this.Sp7i,"display","none");a0x.bc1x(this.Su7n,"display","none")}this.bY1x([[this.o0x,"click",this.bR1x.f0x(this)],[document,"keydown",this.cyg4k.f0x(this)]]);l0x.bBc5h(this.jN4R,function(oz5E,eG2x){this.rg6a=eG2x;this.na5f(e0x.index||0)}.f0x(this))};b0x.bD1x=function(){this.bH1x();a0x.w0x(this.nG5L,"fail-loading");a0x.x0x(this.nG5L,"f-hide");a0x.bc1x(this.Sp7i,"display","");a0x.bc1x(this.Su7n,"display","");a0x.x0x(this.Sp7i,"z-cntdis");a0x.x0x(this.gH3x,"z-cntdis");a0x.x0x(this.Su7n,"z-cntdis");a0x.x0x(this.JZ4d,"z-cntdis");this.ei2x.src="";delete this.jN4R;delete this.gQ3x};b0x.bR1x=function(d0x){var g0x=h0x.Z1x(d0x,"action");if(a0x.bE1x(g0x,"z-dis"))return;switch(a0x.v0x(g0x,"action")){case"close":this.V0x();break;case"prev":this.na5f(this.cu1x-1);break;case"next":this.na5f(this.cu1x+1);break;case"go":this.na5f(a0x.v0x(g0x,"index"));break}};b0x.na5f=function(r0x){if(r0x<=0){a0x.w0x(this.Sp7i,"z-cntdis")}else{a0x.x0x(this.Sp7i,"z-cntdis")}if(r0x>=this.gQ3x-1){a0x.w0x(this.Su7n,"z-cntdis")}else{a0x.x0x(this.Su7n,"z-cntdis")}if(r0x<0||r0x>=this.jN4R.length)return;var dj1x=this.jN4R[r0x];this.UK7D.href=dj1x+"?param=9999y9999";if(this.rg6a&&this.rg6a[r0x]){a0x.w0x(this.nG5L,"f-hide");this.ei2x.src=dj1x}else{this.ei2x.src="";a0x.x0x(this.nG5L,"f-hide");a0x.x0x(this.nG5L,"fail-loading")}this.cu1x=r0x};cx1x.imageView=function(oz5E,r0x){y0x.HD4H.B0x({parent:document.body,urls:oz5E,index:r0x})};b0x.cyg4k=function(d0x){h0x.bg1x(d0x);switch(d0x.keyCode){case 37:this.na5f(this.cu1x-1);break;case 39:this.na5f(this.cu1x+1);break;case 27:this.V0x();break;case 38:this.Qp6j.scrollTop-=20;break;case 40:this.Qp6j.scrollTop+=20;break}};b0x.cyd4h=function(){var buw3x=a0x.dq2x("input");this.o0x.appendChild(buw3x);buw3x.focus();a0x.cR1x(buw3x)}})();
(function(){var c0x=NEJ.P,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dr2x=c0x("nej.p"),u0x=c0x("nej.j"),gL3x=c0x("nm.ut"),y0x=c0x("nm.w"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.bjL9C=NEJ.C();b0x=n0x.bjL9C.N0x(n0x.ee2x);L0x=n0x.bjL9C.ct1x;b0x.cz1x=function(e0x){e0x.title="转发动态";this.cD1x(e0x)};b0x.bo1x=function(e0x){l0x.sp6j(function(){if(e0x.onclose===undefined)e0x.onclose=function(){this.br1x()}.f0x(this);this.bp1x(e0x);this.jy3x=e0x.rid;this.os5x=e0x.uid;this.cry3x=e0x.text;this.gN3x.value=this.cry3x;this.hT3x=y0x.TO7H.B0x({parent:document.body,target:this.gN3x})}.f0x(this),true);u0x.be1x("/api/middle/clientcfg/config/list",{type:"json",method:"get",query:{moduleName:"preload"},onload:function(res){var status=res.data["preload#security"].emojiStatus[0].status;if(status===5){a0x.w0x(this.bjO9F,"f-hide")}else{a0x.x0x(this.bjO9F,"f-hide")}}.f0x(this)})};b0x.cd1x=function(){this.cc1x="m-wgt-forward"};b0x.bV1x=function(){this.ch1x();var bQ1x=a0x.D0x(this.o0x,"j-flag");this.DD3x=bQ1x[0];this.gN3x=bQ1x[1];this.bjQ9H=bQ1x[2];this.bjO9F=bQ1x[3];this.TS7L=bQ1x[4];this.kd4h=bQ1x[5];this.bIL7E=bQ1x[6];this.crf3x=bQ1x[7];this.zV2x=bQ1x[8];h0x.s0x(this.gN3x,"input",this.fa2x.f0x(this));h0x.s0x(this.gN3x,"keyup",this.bmQ0x.f0x(this));h0x.s0x(this.gN3x,"click",this.mP5U.f0x(this));h0x.s0x(this.TS7L,"click",this.bjU9L.f0x(this));h0x.s0x(this.bjO9F,"click",this.bjV9M.f0x(this));h0x.s0x(this.bIL7E,"click",this.On5s.f0x(this));h0x.s0x(this.crf3x,"click",this.zM2x.f0x(this));l0x.jZ4d()};b0x.bD1x=function(){this.bH1x();if(this.hM3x){this.hM3x.V0x();delete this.hM3x}if(this.hT3x){this.hT3x.V0x();delete this.hT3x}};b0x.fa2x=function(d0x){dr2x.dB2x.browser=="ie"&&dr2x.dB2x.version<"7.0"?setTimeout(this.gE3x.f0x(this),0):this.gE3x()};b0x.bmQ0x=function(d0x){this.mP5U();this.fa2x()};b0x.gE3x=function(){var bt1x=this.gN3x.value.trim().length;this.kd4h.innerHTML=!bt1x?"140":140-bt1x;bt1x>140?a0x.w0x(this.kd4h,"s-fc6"):a0x.x0x(this.kd4h,"s-fc6");if(!bt1x||bt1x==0)a0x.bc1x(this.DD3x,"display","block");else a0x.bc1x(this.DD3x,"display","none")};b0x.bjU9L=function(d0x){h0x.bg1x(d0x);!!this.hM3x&&this.hM3x.br1x();this.hT3x.TL7E();this.gE3x()};b0x.bjV9M=function(d0x){h0x.bg1x(d0x);if(!this.hM3x){this.hM3x=n0x.Li5n.B0x({parent:this.bjQ9H});this.hM3x.s0x("onselect",this.BD2x.f0x(this))}this.hM3x.I0x()};b0x.BD2x=function(d0x){var bq1x="["+d0x.text+"]";gL3x.Ls5x(this.gN3x,this.px6r,bq1x);this.gE3x();h0x.z0x(this.gN3x,"keyup")};b0x.mP5U=function(){this.px6r=gL3x.wX1x(this.gN3x)};b0x.On5s=function(d0x){h0x.bg1x(d0x);if(this.eb2x())return;if(this.gN3x.value.trim().length>140){this.ec2x("字数超过140个字符");return}l0x.kV4Z(this.cqN3x.f0x(this))};b0x.cqN3x=function(cm1x){var bbC9t=this.gN3x.value.trim();var ic3x=window.GUser.userId;var E0x=this.jy3x;var X0x="/api/event/forward";var i0x={forwards:bbC9t,id:this.jy3x,eventUserId:this.os5x,checkToken:cm1x||""};i0x=j0x.cr1x(i0x);this.eb2x(!0);var gD3x=u0x.be1x(X0x,{sync:false,type:"json",data:i0x,method:"POST",onload:this.DK3x.f0x(this),onerror:this.ea2x.f0x(this)})};b0x.DK3x=function(m0x){this.eb2x(!1);if(m0x.code!=200){var bC1x="转发失败";switch(m0x.code){case 250:bC1x=m0x.message||m0x.msg||"分享异常";break;case 404:bC1x=m0x.message||"该动态已被删除";break;case 407:bC1x="输入内容包含有关键字";break;case 408:bC1x="转发太快了，过会再分享吧";break;case 315:bC1x="根据对方设置，你没有该操作权限";break}this.ec2x(bC1x);return}gL3x.bMt7m(this.gN3x.value);this.br1x();n0x.ba1x.I0x({tip:"转发成功！",autoclose:true});this.z0x("onforward",{id:this.jy3x,eventUserId:this.os5x})};b0x.ea2x=function(i0x){this.eb2x(!1);this.ec2x(bC1x)};b0x.eb2x=function(de1x){return L0x.eb2x(this.bIL7E,de1x,"转发","转发中 ...")};b0x.ec2x=function(bC1x){return L0x.ec2x(this.zV2x,bC1x)};b0x.zM2x=function(d0x){h0x.co1x(d0x);this.br1x()};b0x.nm5r=function(){this.gN3x.focus();if(dr2x.dB2x.browser=="ie"&&parseInt(dr2x.dB2x.version)<10)return;gL3x.bhh9Y(this.gN3x,{start:0,end:0});this.mP5U()};b0x.br1x=function(){L0x.br1x.call(this);if(this.hM3x){this.hM3x.V0x();delete this.hM3x}if(this.hT3x){this.hT3x.V0x();delete this.hT3x}};b0x.I0x=function(e0x){L0x.I0x.call(this);this.ec2x();this.eb2x(!1);this.gE3x();this.nm5r();this.px6r=gL3x.wX1x(this.gN3x)};l0x.bjZ9Q=function(e0x){if(!GUser||!GUser.userId||GUser.userId<=0){n0x.pR6L.I0x({title:"登录"});return}if(e0x.title===undefined)e0x.title="转发动态";n0x.bjL9C.I0x(e0x)}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),H0x=c0x("nej.ut"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),gL3x=c0x("nm.ut"),n0x=c0x("nm.l"),b0x,L0x;n0x.bfz9q=NEJ.C();b0x=n0x.bfz9q.N0x(n0x.ee2x);L0x=n0x.bfz9q.ct1x;b0x.cz1x=function(){this.cD1x()};b0x.bV1x=function(){this.ch1x();var k0x=a0x.D0x(this.o0x,"j-flag");this.eI2x=k0x[0];this.VT8L=k0x[1];this.cB1x=k0x[2];this.bLC7v=k0x[3];this.dX2x=k0x[4];h0x.s0x(this.o0x,"click",this.eH2x.f0x(this));h0x.s0x(this.eI2x,"input",this.fa2x.f0x(this));h0x.s0x(this.eI2x,"keyup",this.vT1x.f0x(this))};b0x.cd1x=function(){this.cc1x="m-sharesingle-layer"};b0x.bo1x=function(e0x){e0x.parent=e0x.parent||document.body;e0x.title=e0x.title||"分享";e0x.draggable=!0;e0x.mask=!0;e0x.clazz="m-layer m-layer-w2";this.bp1x(e0x);this.eI2x.value=e0x.mesg||"";this.bh1x={id:e0x.rid,type:e0x.type,picUrl:e0x.purl,snsType:e0x.snsType,resourceUrl:e0x.rurl};if(!this.bh1x.resourceUrl)delete this.bh1x.resourceUrl;this.FQ3x();this.ec2x(null);this.eb2x(false)};b0x.eH2x=function(d0x){var g0x=h0x.Z1x(d0x,"d:action"),U0x=a0x.v0x(g0x,"action");h0x.co1x(d0x);switch(U0x){case"txt":this.mP5U();break;case"emt":h0x.ux0x(d0x);!!this.hT3x&&this.hT3x.Im4q();if(!this.hM3x){this.hM3x=n0x.Li5n.B0x({parent:this.VT8L});this.hM3x.s0x("onselect",this.BD2x.f0x(this))}this.hM3x.I0x();break;case"ok":this.ec2x(null);if(this.pJ6D)return;if(this.eI2x.value.trim().length>140){this.ec2x("字数超过140个字符");return}this.eb2x(true);this.bh1x.msg=this.eI2x.value;if(!this.bh1x.resourceUrl){delete this.bh1x.resourceUrl}u0x.be1x("/api/sns/share/resource",{type:"json",method:"post",data:j0x.cr1x(this.bh1x),onload:this.wk1x.f0x(this),onerror:this.wk1x.f0x(this)});break;case"cc":this.br1x();break}};b0x.BD2x=function(d0x){var bq1x="["+d0x.text+"]";gL3x.Ls5x(this.eI2x,this.px6r,bq1x);this.FQ3x()};b0x.fa2x=function(){this.FQ3x();this.mP5U()};b0x.vT1x=function(){this.FQ3x();this.mP5U()};b0x.FQ3x=function(){var bt1x=this.eI2x.value.trim().length;this.cB1x.innerText=140-bt1x;bt1x>140?a0x.fk2x(this.cB1x,"s-fc4","s-fc6"):a0x.fk2x(this.cB1x,"s-fc6","s-fc4")};b0x.mP5U=function(){this.px6r=gL3x.wX1x(this.eI2x)};b0x.wk1x=function(d0x){var jG4K={407:"输入内容包含有关键字",404:"分享的资源不存在",408:"分享太快了，过会再分享吧"};if(d0x.code==200){this.z0x("onsuccess",d0x);if(!d0x.stopped){n0x.ba1x.I0x({tip:"分享成功！",autoclose:true})}this.br1x()}else{this.ec2x(jG4K[d0x.code]||"分享失败")}this.eb2x(false)};b0x.ec2x=function(bLB7u){if(bLB7u){this.dX2x.innerHTML='<i class="u-icn u-icn-25"></i>'+bLB7u;a0x.x0x(this.dX2x,"f-hide")}else{a0x.w0x(this.dX2x,"f-hide")}};b0x.eb2x=function(bft9k){this.pJ6D=bft9k;if(bft9k){this.bLC7v.innerHTML="<i>分享中...</i>"}else{this.bLC7v.innerHTML="<i>分享</i>"}};b0x.I0x=function(){L0x.I0x.call(this);var dD2x=this.eI2x.value.length;gL3x.bhh9Y(this.eI2x,{start:dD2x,end:dD2x,text:""});this.mP5U()}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,bs1x=NEJ.F,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),H0x=c0x("nej.ut"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),cx1x=c0x("api"),n0x=c0x("nm.l"),b0x,L0x;n0x.bFG6A=NEJ.C();b0x=n0x.bFG6A.N0x(n0x.ee2x);b0x.bV1x=function(){this.ch1x();var k0x=a0x.D0x(this.o0x,"j-flag");h0x.s0x(this.o0x,"click",this.bR1x.f0x(this))};b0x.cd1x=function(){this.cc1x="m-simple-share-layer"};b0x.bo1x=function(e0x){e0x.clazz="m-layer-w6";if(!e0x.shareType)e0x.parent=e0x.parent||document.body;e0x.title=e0x.title||"分享";e0x.draggable=!0;e0x.mask=e0x.mask||true;this.bp1x(e0x);this.bh1x={id:e0x.id||0,type:e0x.type||"activity",picUrl:e0x.picUrl,msg:e0x.text,resourceUrl:e0x.resourceUrl,summary:e0x.summary};this.bY1x([[window,"snsbind",this.Wj8b.f0x(this)],[window,"snsbinderror",this.br1x.f0x(this)]]);this.wb1x={rid:this.bh1x.id,rurl:this.bh1x.resourceUrl,purl:this.bh1x.picUrl,mesg:this.bh1x.msg,type:this.bh1x.type,onsuccess:e0x.onsuccess};if(e0x.shareType){this.bFH6B(e0x.shareType)}};b0x.bR1x=function(d0x){var g0x=h0x.Z1x(d0x,"d:type"),t0x=a0x.v0x(g0x,"type");this.bFH6B(t0x)};b0x.bFH6B=function(t0x){switch(t0x){case"xlwb":case"rr":case"db":var ya1x={xlwb:2,rr:4,db:3},Sw7p=ya1x[t0x],uX1x=localCache.baH9y("user.bindings")||[],r0x=j0x.ds2x(uX1x,function(q0x){return q0x.type==Sw7p&&!q0x.expired});if(r0x>=0){this.As2x(Sw7p)}else{var hA3x={snsType:Sw7p,callbackType:"Binding",clientType:"web2",forcelogin:true,csrf_token:u0x.gW3x("__csrf")};top.window.open("/api/sns/authorize?"+j0x.cr1x(hA3x))}break;case"wx":case"yx":var hA3x={resourceUrl:this.bh1x.resourceUrl,type:t0x};top.open("/share/QRCode?"+j0x.cr1x(hA3x));this.br1x();break;case"qzone":var cq1x={url:this.bh1x.resourceUrl,title:this.bh1x.msg||"",pics:this.bh1x.picUrl,summary:this.bh1x.summary};top.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+j0x.cr1x(cq1x));this.br1x();break;case"lofter":var cq1x={from:"cloudmusic",image:this.bh1x.picUrl,source:"网易云音乐",sourceurl:this.bh1x.resourceUrl,content:this.bh1x.msg};top.open("http://www.lofter.com/sharephoto/?"+j0x.cr1x(cq1x));this.br1x();break}};b0x.Wj8b=function(d0x){this.As2x(d0x.result.type)};b0x.As2x=function(t0x){this.br1x();if(this.Aa2x){this.Aa2x.V0x();delete this.Aa2x}this.wb1x.snsType=t0x;this.Aa2x=n0x.bfz9q.B0x(this.wb1x);this.Aa2x.I0x()};var cM1x=null;cx1x.simpleShare=function(e0x){if(cM1x)cM1x.V0x();cM1x=n0x.bFG6A.B0x(e0x).I0x()}})();
(function(){var c0x=NEJ.P,bb1x=NEJ.O,a0x=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),H0x=c0x("nej.ut"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),F0x=c0x("nm.m"),n0x=c0x("nm.l"),M0x=c0x("nm.m.f"),cx1x=c0x("api"),DE3x=/#(.*?)$/,b0x,L0x,GL4P={pubEventWithPics:false,pubEventWithoutResource:false,pubEventWithPictureForbiddenNotice:"等级达到Lv.4，即可添加图片"};M0x.bFJ6D=NEJ.C();b0x=M0x.bFJ6D.N0x(H0x.dm1x);b0x.bJ1x=function(){this.bU1x();window.onHashChange=this.bdu0x.f0x(this);window.log=this.hF3x.f0x(this);window.share=this.As2x.f0x(this);window.shareForStore=this.czk5p.f0x(this);window.subscribe=this.bfF9w.f0x(this);window.onIframeClick=this.czo5t.f0x(this);h0x.s0x(window,"playchange",this.hK3x.f0x(this));h0x.s0x(window,"playstatechange",this.czu5z.f0x(this));this.mb4f=F0x.Np5u.fS2x();this.mb4f.s0x("loginsuccess",this.czw5B.f0x(this));this.mb4f.s0x("logoutbefore",this.buo3x.f0x(this));this.mb4f.s0x("logoutsuccess",this.bun3x.f0x(this));this.byp5u();this.by1x=M0x.QL6F.B0x();this.by1x.z0x("onshow",{});if(window.GUser&&window.GUser.userId){u0x.be1x("/api/login/token/refresh",{type:"json",method:"post"})}this.bdu0x(l0x.Pe6Y());this.Kz5E=F0x.TY7R.B0x();cx1x.refreshUserInfo=this.Kz5E.NQ5V.f0x(this.Kz5E);this.czI5N();cx1x.cbDonate=this.czK5P;var referrer=document.referrer;if(referrer.indexOf(location.hostname)===-1){var conf={is_organic:referrer?0:1,url:location.href};if(!conf.is_organic){conf.source=referrer}this.hF3x("activeweb",conf)}};b0x.byp5u=function(){this.le4i=p0x.hX3x.B0x()};b0x.bdu0x=function(cO1x){var d0x=location.parse(cO1x);this.rR6L(d0x)};b0x.rR6L=function(d0x,t0x){var eP2x=a0x.A0x("g_iframe"),ku4y=d0x.path,bw1x=d0x.query,ke4i=eP2x.contentWindow.location;this.xa1x=eP2x;if(/^\/(mv|video)/.test(ku4y)){if(this.by1x)this.by1x.br1x();this.lU4Y=document.title}else{if(this.by1x)this.by1x.I0x();document.title=this.lU4Y||l0x.rw6q()}if(bw1x.play=="true"&&/^\/(m\/)?song/.test(ku4y)){if(this.by1x)this.by1x.XY8Q(18,bw1x.id,true)}if(/^\/my\/m\/music\/playlist/.test(ku4y)){var bzv5A=l0x.ZW9N();if(!bzv5A&&!!bw1x.id)return location.dispatch2("/playlist?id="+bw1x.id)}if(/^\/login\b/.test(ku4y)&&GUser&&GUser.userId){var dZ2x=/targetUrl=(.+?)(&|$)/.exec(d0x.href),qH6B=dZ2x?decodeURIComponent(dZ2x[1]):"/discover",dl1x=/163\.com\/m\/at\//i;czT5Y=/163\.com\/show\/m\//i;czU5Z=/163\.com\/prime\/m\//i;czX5c=/^(https?:\/\/?[\w-.]*(igame|music|iplay)\.163\.com\/)?([\/\w-.]*)?([\?#].*)?$/g;if(!czX5c.test(qH6B)){qH6B=""}if(dl1x.test(qH6B)||czT5Y.test(qH6B)||czU5Z.test(qH6B)){window.location.href=qH6B}else{qH6B=qH6B.replace("/m/","/#/")}qH6B=qH6B.replace(/^\s+|\s+$/g,"");var dl1x=/^https?:\/\//i,Hk4o=/^\/\//,bnt0x=/^\//;if(!dl1x.test(qH6B)&&!Hk4o.test(qH6B)&&!bnt0x.test(qH6B)){qH6B="/discover"}return location.href=encodeURI(qH6B)}if(t0x!==undefined){if(bw1x&&bw1x.targetUrl){var oK5P=location.parse(bw1x.targetUrl);if(oK5P.path.indexOf("/store/")==0||oK5P.path.indexOf("/nmusician/")==0){return location.href=d0x.href}}return GDispatcher.refreshIFrame(d0x.href)}};b0x.czw5B=function(){var cO1x=DE3x.test(location.href)?RegExp.$1:"",d0x=location.parse(cO1x),MT5Y=this.Kz5E;MT5Y.NQ5V();u0x.be1x("/api/topic/user/info",{type:"json",onload:function(bO1x){top.GUserAcc=NEJ.X(top.GUserAcc||{},{topic:bO1x.status});MT5Y.NQ5V()}});u0x.be1x("/api/reward/user/showicon",{type:"json",onload:function(bO1x){top.GUserAcc=NEJ.X(top.GUserAcc||{},{reward:bO1x.showIcon});MT5Y.NQ5V()}});if(!cx1x.sharePermission){cx1x.sharePermission=GL4P}u0x.be1x("/api/event/user/permission",{type:"json",onload:function(d0x){if(d0x.code==200){cx1x.sharePermission=NEJ.EX(GL4P,d0x)}}});this.rR6L(d0x,"urlchange")};b0x.buo3x=function(){n0x.pU6O.br1x();this.Kz5E.NQ5V()};b0x.bun3x=function(){if(!location.hash||location.hash=="#"){var cO1x=DE3x.test(location.href)?RegExp.$1:"",d0x=location.parse(cO1x);this.rR6L(d0x,"urlchange");return}location.hash="#"};b0x.hK3x=function(d0x){if(this.xa1x){var bM1x=this.xa1x.contentWindow;try{if(bM1x.nej&&bM1x.nej.v){bM1x.nej.v.z0x?bM1x.nej.v.z0x(bM1x,"playchange",d0x):bM1x.nej.v.dispatchEventalias?bM1x.nej.v.dispatchEventalias(bM1x,"playchange",d0x):""}}catch(e){}}};b0x.czu5z=function(d0x){if(!this.xa1x)return;var bM1x=this.xa1x.contentWindow;try{if(bM1x.nej&&bM1x.nej.v){bM1x.nej.v.z0x?bM1x.nej.v.z0x(bM1x,"playstatechange",d0x):bM1x.nej.v.dispatchEventalias?bM1x.nej.v.dispatchEventalias(bM1x,"playstatechange",d0x):""}}catch(e){}};b0x.hF3x=function(U0x,bm1x){if(U0x.indexOf("new|")==0){return this.le4i.eS2x(U0x.slice(4),bm1x)}switch(U0x){case"play":this.le4i.ez2x(bm1x);break;case"search":this.le4i.bXw0x(bm1x);break;default:this.le4i.eS2x(U0x,bm1x)}};b0x.As2x=function(){if(this.xa1x.contentWindow.share){this.xa1x.contentWindow.share.apply(this.xa1x.contentWindow,arguments)}};b0x.czk5p=function(){var bsx2x=function(d0x){h0x.z0x(window,"share",d0x)};return function(da1x,t0x,Aq2x,Y0x,JR4V,JQ4U){l0x.lD4H({rid:da1x,type:t0x,purl:Aq2x,name:Y0x,author:JR4V,authors:JQ4U,onshare:bsx2x.f0x(this)})}}();b0x.bfF9w=function(bS1x,cAa5f){var bM1x=this.xa1x.contentWindow;if(bM1x.nm&&bM1x.nm.x){if(!bM1x.nm.x.oa5f){bM1x=top.window}if(cAa5f&&bM1x.nm.x.bWP9G){bM1x.nm.x.bWP9G({data:bS1x.program})}else if(bM1x.nm.x.oa5f){var k0x=j0x.ef2x(bS1x)?bS1x:[bS1x];bM1x.nm.x.oa5f({tracks:k0x})}}};b0x.czo5t=function(d0x){h0x.z0x(window,"iframeclick")};b0x.czI5N=function(){u0x.be1x("/api/copyright/pay_fee_message/config",{type:"json",onload:function(d0x){if(d0x.code==200){cx1x.feeMessage=d0x.config}}});cx1x.sharePermission=GL4P;u0x.be1x("/api/event/user/permission",{type:"json",onload:function(d0x){if(d0x.code==200){cx1x.sharePermission=NEJ.EX(GL4P,d0x)}}});u0x.be1x("/api/privilege/message/mv",{type:"json",onload:function(d0x){if(d0x.code===200){cx1x.mvFeeMessage=d0x.data}}})};b0x.czK5P=function(){var cC1x={jst:"m-wgt-redeem-tip",clazz:"n-redeem"};cC1x.data={title:"成功送出",sub:"请你的好友去查看私信",ok:"知道了",type:"success"};cC1x.onaction=function(){location.dispatch2("/member")};l0x.kk4o(cC1x)};window.doMsgToServiceAction=b0x.cQY8Q=function(){var bdo0x=null;return function(U0x){if(U0x=="kf"){bdo0x&&bdo0x.V0x();bdo0x=n0x.uv0x.B0x({title:"发新私信",draggable:true,clazz:"m-layer m-layer-w2",receiver:{userId:l0x.bVg9X()?117863002:253335632,nickname:l0x.bVg9X()?"测试库客服":"云音乐客服"}});bdo0x.I0x()}}}();H0x.fV2x.B0x({element:window,event:["playchange","iframeclick","playstatechange"]});a0x.cW1x("template-box");new M0x.bFJ6D})()